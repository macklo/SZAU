%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.821325e+003; foe(n+1)=4.828737e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
n=1; farx(n+1)=3.466521e+003; foe(n+1)=3.544968e+003; krok(n+1)=3.738889e-004; ng(n+1)=4.992373e+003;
n=2; farx(n+1)=1.311187e+003; foe(n+1)=1.317003e+003; krok(n+1)=1.055436e-003; ng(n+1)=4.397254e+003;
n=3; farx(n+1)=6.731614e+002; foe(n+1)=8.702983e+002; krok(n+1)=1.523335e-004; ng(n+1)=6.920920e+003;
n=4; farx(n+1)=7.181375e+002; foe(n+1)=8.029424e+002; krok(n+1)=1.284363e-003; ng(n+1)=8.226458e+002;
n=5; farx(n+1)=5.902615e+002; foe(n+1)=7.561644e+002; krok(n+1)=1.270414e-004; ng(n+1)=2.877322e+003;
n=6; farx(n+1)=5.849223e+002; foe(n+1)=7.369205e+002; krok(n+1)=3.301872e-004; ng(n+1)=8.027218e+002;
n=7; farx(n+1)=5.243516e+002; foe(n+1)=7.183659e+002; krok(n+1)=1.389271e-004; ng(n+1)=1.364823e+003;
n=8; farx(n+1)=5.301788e+002; foe(n+1)=7.015439e+002; krok(n+1)=2.633328e-004; ng(n+1)=9.840901e+002;
n=9; farx(n+1)=4.721438e+002; foe(n+1)=6.833137e+002; krok(n+1)=1.376014e-004; ng(n+1)=1.549403e+003;
n=10; farx(n+1)=4.752725e+002; foe(n+1)=6.658663e+002; krok(n+1)=2.494331e-004; ng(n+1)=9.882412e+002;
n=11; farx(n+1)=4.226190e+002; foe(n+1)=6.471214e+002; krok(n+1)=1.330707e-004; ng(n+1)=1.566177e+003;
n=12; farx(n+1)=4.237947e+002; foe(n+1)=6.292411e+002; krok(n+1)=2.385047e-004; ng(n+1)=1.019075e+003;
n=13; farx(n+1)=3.768173e+002; foe(n+1)=6.104470e+002; krok(n+1)=1.281635e-004; ng(n+1)=1.587568e+003;
n=14; farx(n+1)=3.766513e+002; foe(n+1)=5.925379e+002; krok(n+1)=2.312276e-004; ng(n+1)=1.035309e+003;
n=15; farx(n+1)=3.350626e+002; foe(n+1)=5.739569e+002; krok(n+1)=1.222501e-004; ng(n+1)=1.602671e+003;
n=16; farx(n+1)=3.340581e+002; foe(n+1)=5.564749e+002; krok(n+1)=2.224690e-004; ng(n+1)=1.040334e+003;
n=17; farx(n+1)=2.976932e+002; foe(n+1)=5.386181e+002; krok(n+1)=1.168734e-004; ng(n+1)=1.593223e+003;
n=18; farx(n+1)=2.964693e+002; foe(n+1)=5.220699e+002; krok(n+1)=2.102269e-004; ng(n+1)=1.043714e+003;
n=19; farx(n+1)=2.651580e+002; foe(n+1)=5.053669e+002; krok(n+1)=1.112345e-004; ng(n+1)=1.559995e+003;
n=20; farx(n+1)=2.636996e+002; foe(n+1)=4.898281e+002; krok(n+1)=2.015675e-004; ng(n+1)=1.050574e+003;
n=21; farx(n+1)=2.366451e+002; foe(n+1)=4.743616e+002; krok(n+1)=1.057004e-004; ng(n+1)=1.527261e+003;
n=22; farx(n+1)=2.352966e+002; foe(n+1)=4.600901e+002; krok(n+1)=1.906434e-004; ng(n+1)=1.057158e+003;
n=23; farx(n+1)=2.120497e+002; foe(n+1)=4.460025e+002; krok(n+1)=1.001480e-004; ng(n+1)=1.487208e+003;
n=24; farx(n+1)=2.107547e+002; foe(n+1)=4.329474e+002; krok(n+1)=1.821668e-004; ng(n+1)=1.053558e+003;
n=25; farx(n+1)=1.906889e+002; foe(n+1)=4.201762e+002; krok(n+1)=9.455668e-005; ng(n+1)=1.447221e+003;
n=26; farx(n+1)=1.894911e+002; foe(n+1)=4.083271e+002; krok(n+1)=1.736749e-004; ng(n+1)=1.046216e+003;
n=27; farx(n+1)=1.720099e+002; foe(n+1)=3.968420e+002; krok(n+1)=9.012338e-005; ng(n+1)=1.404090e+003;
n=28; farx(n+1)=1.711952e+002; foe(n+1)=3.863418e+002; krok(n+1)=1.602589e-004; ng(n+1)=1.047438e+003;
n=29; farx(n+1)=1.559758e+002; foe(n+1)=3.761673e+002; krok(n+1)=8.669030e-005; ng(n+1)=1.364553e+003;
n=30; farx(n+1)=1.555091e+002; foe(n+1)=3.668942e+002; krok(n+1)=1.460638e-004; ng(n+1)=1.048291e+003;
n=31; farx(n+1)=1.423313e+002; foe(n+1)=3.579384e+002; krok(n+1)=8.309647e-005; ng(n+1)=1.322880e+003;
n=32; farx(n+1)=1.419708e+002; foe(n+1)=3.495949e+002; krok(n+1)=1.383684e-004; ng(n+1)=1.038065e+003;
n=33; farx(n+1)=1.303943e+002; foe(n+1)=3.415538e+002; krok(n+1)=7.846985e-005; ng(n+1)=1.300091e+003;
n=34; farx(n+1)=1.300610e+002; foe(n+1)=3.339803e+002; krok(n+1)=1.330707e-004; ng(n+1)=1.022692e+003;
n=35; farx(n+1)=1.197955e+002; foe(n+1)=3.266923e+002; krok(n+1)=7.372297e-005; ng(n+1)=1.294148e+003;
n=36; farx(n+1)=1.194883e+002; foe(n+1)=3.197995e+002; krok(n+1)=1.270414e-004; ng(n+1)=1.007633e+003;
n=37; farx(n+1)=1.103652e+002; foe(n+1)=3.132021e+002; krok(n+1)=6.949109e-005; ng(n+1)=1.287637e+003;
n=38; farx(n+1)=1.101079e+002; foe(n+1)=3.069160e+002; krok(n+1)=1.209597e-004; ng(n+1)=9.947196e+002;
n=39; farx(n+1)=1.019462e+002; foe(n+1)=3.009062e+002; krok(n+1)=6.546014e-005; ng(n+1)=1.283640e+003;
n=40; farx(n+1)=1.017542e+002; foe(n+1)=2.951576e+002; krok(n+1)=1.147197e-004; ng(n+1)=9.843945e+002;
n=41; farx(n+1)=9.442150e+001; foe(n+1)=2.896503e+002; krok(n+1)=6.153829e-005; ng(n+1)=1.283862e+003;
n=42; farx(n+1)=9.427988e+001; foe(n+1)=2.843597e+002; krok(n+1)=1.088055e-004; ng(n+1)=9.783650e+002;
n=43; farx(n+1)=8.768312e+001; foe(n+1)=2.792815e+002; krok(n+1)=5.755042e-005; ng(n+1)=1.287113e+003;
n=44; farx(n+1)=8.753962e+001; foe(n+1)=2.743548e+002; krok(n+1)=1.032442e-004; ng(n+1)=9.734315e+002;
n=45; farx(n+1)=8.156074e+001; foe(n+1)=2.696694e+002; krok(n+1)=5.434585e-005; ng(n+1)=1.287234e+003;
n=46; farx(n+1)=8.150025e+001; foe(n+1)=2.651227e+002; krok(n+1)=9.677161e-005; ng(n+1)=9.755053e+002;
n=47; farx(n+1)=7.606703e+001; foe(n+1)=2.607619e+002; krok(n+1)=5.100600e-005; ng(n+1)=1.291132e+003;
n=48; farx(n+1)=7.603952e+001; foe(n+1)=2.565176e+002; krok(n+1)=9.144347e-005; ng(n+1)=9.759459e+002;
n=49; farx(n+1)=7.103529e+001; foe(n+1)=2.524373e+002; krok(n+1)=4.837788e-005; ng(n+1)=1.297317e+003;
n=50; farx(n+1)=7.112068e+001; foe(n+1)=2.485352e+002; krok(n+1)=8.368590e-005; ng(n+1)=9.877656e+002;
n=51; farx(n+1)=6.658518e+001; foe(n+1)=2.447395e+002; krok(n+1)=4.554170e-005; ng(n+1)=1.293742e+003;
n=52; farx(n+1)=6.665596e+001; foe(n+1)=2.410458e+002; krok(n+1)=7.999634e-005; ng(n+1)=9.874726e+002;
n=53; farx(n+1)=6.247575e+001; foe(n+1)=2.374580e+002; krok(n+1)=4.285449e-005; ng(n+1)=1.302855e+003;
n=54; farx(n+1)=6.257559e+001; foe(n+1)=2.339942e+002; krok(n+1)=7.481366e-005; ng(n+1)=9.937652e+002;
n=55; farx(n+1)=5.873612e+001; foe(n+1)=2.306241e+002; krok(n+1)=4.060864e-005; ng(n+1)=1.303306e+003;
n=56; farx(n+1)=5.885913e+001; foe(n+1)=2.273682e+002; krok(n+1)=7.028870e-005; ng(n+1)=9.995781e+002;
n=57; farx(n+1)=5.532597e+001; foe(n+1)=2.241873e+002; krok(n+1)=3.840954e-005; ng(n+1)=1.309035e+003;
n=58; farx(n+1)=5.545499e+001; foe(n+1)=2.211099e+002; krok(n+1)=6.666596e-005; ng(n+1)=1.002541e+003;
n=59; farx(n+1)=5.218402e+001; foe(n+1)=2.180935e+002; krok(n+1)=3.643108e-005; ng(n+1)=1.317593e+003;
n=60; farx(n+1)=5.233017e+001; foe(n+1)=2.151932e+002; krok(n+1)=6.307208e-005; ng(n+1)=1.007074e+003;
n=61; farx(n+1)=4.930472e+001; foe(n+1)=2.123285e+002; krok(n+1)=3.452947e-005; ng(n+1)=1.327233e+003;
n=62; farx(n+1)=4.944801e+001; foe(n+1)=2.095770e+002; krok(n+1)=6.016312e-005; ng(n+1)=1.007502e+003;
n=63; farx(n+1)=4.663821e+001; foe(n+1)=2.068535e+002; krok(n+1)=3.290674e-005; ng(n+1)=1.334764e+003;
n=64; farx(n+1)=4.678740e+001; foe(n+1)=2.042538e+002; krok(n+1)=5.665485e-005; ng(n+1)=1.009616e+003;
n=65; farx(n+1)=4.417027e+001; foe(n+1)=2.016842e+002; krok(n+1)=3.185663e-005; ng(n+1)=1.328236e+003;
n=66; farx(n+1)=4.435630e+001; foe(n+1)=1.992560e+002; krok(n+1)=5.279238e-005; ng(n+1)=1.018120e+003;
n=67; farx(n+1)=4.192284e+001; foe(n+1)=1.968253e+002; krok(n+1)=3.076170e-005; ng(n+1)=1.321339e+003;
n=68; farx(n+1)=4.212012e+001; foe(n+1)=1.945339e+002; krok(n+1)=5.000710e-005; ng(n+1)=1.020332e+003;
n=69; farx(n+1)=3.985188e+001; foe(n+1)=1.922245e+002; krok(n+1)=2.968065e-005; ng(n+1)=1.318818e+003;
n=70; farx(n+1)=4.005356e+001; foe(n+1)=1.900542e+002; krok(n+1)=4.780311e-005; ng(n+1)=1.019788e+003;
n=71; farx(n+1)=3.793752e+001; foe(n+1)=1.878516e+002; krok(n+1)=2.857275e-005; ng(n+1)=1.318461e+003;
n=72; farx(n+1)=3.813581e+001; foe(n+1)=1.857846e+002; krok(n+1)=4.645269e-005; ng(n+1)=1.015207e+003;
n=73; farx(n+1)=3.613374e+001; foe(n+1)=1.836672e+002; krok(n+1)=2.769106e-005; ng(n+1)=1.325720e+003;
n=74; farx(n+1)=3.635110e+001; foe(n+1)=1.817249e+002; krok(n+1)=4.381503e-005; ng(n+1)=1.018476e+003;
n=75; farx(n+1)=3.448463e+001; foe(n+1)=1.797135e+002; krok(n+1)=2.689352e-005; ng(n+1)=1.314801e+003;
n=76; farx(n+1)=3.469529e+001; foe(n+1)=1.778626e+002; krok(n+1)=4.219311e-005; ng(n+1)=1.012614e+003;
n=77; farx(n+1)=3.294714e+001; foe(n+1)=1.759450e+002; krok(n+1)=2.616958e-005; ng(n+1)=1.306254e+003;
n=78; farx(n+1)=3.315727e+001; foe(n+1)=1.741849e+002; krok(n+1)=4.069022e-005; ng(n+1)=1.007684e+003;
n=79; farx(n+1)=3.151633e+001; foe(n+1)=1.723511e+002; krok(n+1)=2.545461e-005; ng(n+1)=1.299664e+003;
n=80; farx(n+1)=3.172589e+001; foe(n+1)=1.706748e+002; krok(n+1)=3.953838e-005; ng(n+1)=1.001444e+003;
n=81; farx(n+1)=3.018143e+001; foe(n+1)=1.689132e+002; krok(n+1)=2.470394e-005; ng(n+1)=1.297103e+003;
n=82; farx(n+1)=3.038630e+001; foe(n+1)=1.673133e+002; krok(n+1)=3.840036e-005; ng(n+1)=9.934327e+002;
n=83; farx(n+1)=2.894039e+001; foe(n+1)=1.656257e+002; krok(n+1)=2.394830e-005; ng(n+1)=1.289774e+003;
n=84; farx(n+1)=2.913505e+001; foe(n+1)=1.640877e+002; krok(n+1)=3.806191e-005; ng(n+1)=9.808116e+002;
n=85; farx(n+1)=2.777167e+001; foe(n+1)=1.624553e+002; krok(n+1)=2.310648e-005; ng(n+1)=1.292940e+003;
n=86; farx(n+1)=2.795566e+001; foe(n+1)=1.609760e+002; krok(n+1)=3.764398e-005; ng(n+1)=9.676043e+002;
n=87; farx(n+1)=2.667409e+001; foe(n+1)=1.594013e+002; krok(n+1)=2.230894e-005; ng(n+1)=1.292064e+003;
n=88; farx(n+1)=2.684792e+001; foe(n+1)=1.579742e+002; krok(n+1)=3.773212e-005; ng(n+1)=9.526372e+002;
n=89; farx(n+1)=2.562462e+001; foe(n+1)=1.564414e+002; krok(n+1)=2.167257e-005; ng(n+1)=1.299882e+003;
n=90; farx(n+1)=2.580293e+001; foe(n+1)=1.550944e+002; krok(n+1)=3.598644e-005; ng(n+1)=9.475753e+002;
n=91; farx(n+1)=2.466537e+001; foe(n+1)=1.536409e+002; krok(n+1)=2.110229e-005; ng(n+1)=1.280665e+003;
n=92; farx(n+1)=2.483497e+001; foe(n+1)=1.523457e+002; krok(n+1)=3.574308e-005; ng(n+1)=9.332465e+002;
n=93; farx(n+1)=2.375741e+001; foe(n+1)=1.509407e+002; krok(n+1)=2.047517e-005; ng(n+1)=1.281016e+003;
n=94; farx(n+1)=2.392532e+001; foe(n+1)=1.497116e+002; krok(n+1)=3.452947e-005; ng(n+1)=9.242061e+002;
n=95; farx(n+1)=2.291372e+001; foe(n+1)=1.483737e+002; krok(n+1)=1.999909e-005; ng(n+1)=1.267145e+003;
n=96; farx(n+1)=2.308308e+001; foe(n+1)=1.472130e+002; krok(n+1)=3.326767e-005; ng(n+1)=9.168451e+002;
n=97; farx(n+1)=2.213496e+001; foe(n+1)=1.459379e+002; krok(n+1)=1.944453e-005; ng(n+1)=1.255043e+003;
n=98; farx(n+1)=2.230160e+001; foe(n+1)=1.448361e+002; krok(n+1)=3.242569e-005; ng(n+1)=9.064523e+002;
n=99; farx(n+1)=2.141271e+001; foe(n+1)=1.436153e+002; krok(n+1)=1.877682e-005; ng(n+1)=1.248139e+003;
n=100; farx(n+1)=2.157004e+001; foe(n+1)=1.425628e+002; krok(n+1)=3.168396e-005; ng(n+1)=8.924783e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
