%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.775664e+003; foe(n+1)=4.889669e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
n=1; farx(n+1)=3.707021e+003; foe(n+1)=3.804898e+003; krok(n+1)=3.395966e-004; ng(n+1)=4.107974e+003;
n=2; farx(n+1)=1.167978e+003; foe(n+1)=1.241167e+003; krok(n+1)=2.162140e-003; ng(n+1)=2.554255e+003;
n=3; farx(n+1)=6.308334e+002; foe(n+1)=8.547248e+002; krok(n+1)=1.185230e-004; ng(n+1)=6.705790e+003;
n=4; farx(n+1)=6.633907e+002; foe(n+1)=8.105733e+002; krok(n+1)=3.684136e-004; ng(n+1)=1.250242e+003;
n=5; farx(n+1)=5.656016e+002; foe(n+1)=7.779463e+002; krok(n+1)=1.221213e-004; ng(n+1)=2.382168e+003;
n=6; farx(n+1)=5.821970e+002; foe(n+1)=7.557776e+002; krok(n+1)=2.015675e-004; ng(n+1)=1.034981e+003;
n=7; farx(n+1)=5.123421e+002; foe(n+1)=7.332274e+002; krok(n+1)=1.230766e-004; ng(n+1)=1.642361e+003;
n=8; farx(n+1)=5.255664e+002; foe(n+1)=7.118718e+002; krok(n+1)=1.915864e-004; ng(n+1)=1.210989e+003;
n=9; farx(n+1)=4.601538e+002; foe(n+1)=6.893898e+002; krok(n+1)=1.191612e-004; ng(n+1)=1.681894e+003;
n=10; farx(n+1)=4.685751e+002; foe(n+1)=6.681166e+002; krok(n+1)=1.821668e-004; ng(n+1)=1.222115e+003;
n=11; farx(n+1)=4.096737e+002; foe(n+1)=6.457440e+002; krok(n+1)=1.123699e-004; ng(n+1)=1.722998e+003;
n=12; farx(n+1)=4.138655e+002; foe(n+1)=6.244590e+002; krok(n+1)=1.784716e-004; ng(n+1)=1.218210e+003;
n=13; farx(n+1)=3.614060e+002; foe(n+1)=6.024294e+002; krok(n+1)=1.052302e-004; ng(n+1)=1.781177e+003;
n=14; farx(n+1)=3.629624e+002; foe(n+1)=5.817965e+002; krok(n+1)=1.714180e-004; ng(n+1)=1.242144e+003;
n=15; farx(n+1)=3.171862e+002; foe(n+1)=5.605848e+002; krok(n+1)=9.798800e-005; ng(n+1)=1.827648e+003;
n=16; farx(n+1)=3.168536e+002; foe(n+1)=5.409787e+002; krok(n+1)=1.616776e-004; ng(n+1)=1.258369e+003;
n=17; farx(n+1)=2.778021e+002; foe(n+1)=5.211394e+002; krok(n+1)=9.108340e-005; ng(n+1)=1.857680e+003;
n=18; farx(n+1)=2.762335e+002; foe(n+1)=5.027403e+002; krok(n+1)=1.539526e-004; ng(n+1)=1.272464e+003;
n=19; farx(n+1)=2.429623e+002; foe(n+1)=4.842649e+002; krok(n+1)=8.370634e-005; ng(n+1)=1.899709e+003;
n=20; farx(n+1)=2.405925e+002; foe(n+1)=4.671901e+002; krok(n+1)=1.455783e-004; ng(n+1)=1.283245e+003;
n=21; farx(n+1)=2.124360e+002; foe(n+1)=4.502391e+002; krok(n+1)=7.675242e-005; ng(n+1)=1.932143e+003;
n=22; farx(n+1)=2.096966e+002; foe(n+1)=4.345757e+002; krok(n+1)=1.376014e-004; ng(n+1)=1.297434e+003;
n=23; farx(n+1)=1.858397e+002; foe(n+1)=4.190837e+002; krok(n+1)=6.991253e-005; ng(n+1)=1.965828e+003;
n=24; farx(n+1)=1.829479e+002; foe(n+1)=4.048228e+002; krok(n+1)=1.281635e-004; ng(n+1)=1.316760e+003;
n=25; farx(n+1)=1.628975e+002; foe(n+1)=3.909307e+002; krok(n+1)=6.380047e-005; ng(n+1)=1.973143e+003;
n=26; farx(n+1)=1.600165e+002; foe(n+1)=3.779993e+002; krok(n+1)=1.205178e-004; ng(n+1)=1.329696e+003;
n=27; farx(n+1)=1.430310e+002; foe(n+1)=3.654751e+002; krok(n+1)=5.780689e-005; ng(n+1)=1.990847e+003;
n=28; farx(n+1)=1.402565e+002; foe(n+1)=3.537855e+002; krok(n+1)=1.123699e-004; ng(n+1)=1.335608e+003;
n=29; farx(n+1)=1.258759e+002; foe(n+1)=3.426206e+002; krok(n+1)=5.261508e-005; ng(n+1)=1.990106e+003;
n=30; farx(n+1)=1.233577e+002; foe(n+1)=3.321342e+002; krok(n+1)=1.049814e-004; ng(n+1)=1.340661e+003;
n=31; farx(n+1)=1.111221e+002; foe(n+1)=3.220978e+002; krok(n+1)=4.743595e-005; ng(n+1)=2.005584e+003;
n=32; farx(n+1)=1.087336e+002; foe(n+1)=3.125687e+002; krok(n+1)=9.985203e-005; ng(n+1)=1.338929e+003;
n=33; farx(n+1)=9.820051e+001; foe(n+1)=3.034735e+002; krok(n+1)=4.285449e-005; ng(n+1)=2.033931e+003;
n=34; farx(n+1)=9.613054e+001; foe(n+1)=2.949475e+002; krok(n+1)=9.199795e-005; ng(n+1)=1.340330e+003;
n=35; farx(n+1)=8.711577e+001; foe(n+1)=2.868394e+002; krok(n+1)=3.906606e-005; ng(n+1)=2.032119e+003;
n=36; farx(n+1)=8.536500e+001; foe(n+1)=2.792156e+002; krok(n+1)=8.489916e-005; ng(n+1)=1.344926e+003;
n=37; farx(n+1)=7.763830e+001; foe(n+1)=2.719233e+002; krok(n+1)=3.533295e-005; ng(n+1)=2.035063e+003;
n=38; farx(n+1)=7.602188e+001; foe(n+1)=2.649365e+002; krok(n+1)=8.074766e-005; ng(n+1)=1.337933e+003;
n=39; farx(n+1)=6.932192e+001; foe(n+1)=2.582722e+002; krok(n+1)=3.190024e-005; ng(n+1)=2.060631e+003;
n=40; farx(n+1)=6.787971e+001; foe(n+1)=2.518934e+002; krok(n+1)=7.577251e-005; ng(n+1)=1.331310e+003;
n=41; farx(n+1)=6.208490e+001; foe(n+1)=2.458484e+002; krok(n+1)=2.897758e-005; ng(n+1)=2.078275e+003;
n=42; farx(n+1)=6.081358e+001; foe(n+1)=2.400255e+002; krok(n+1)=7.130722e-005; ng(n+1)=1.323099e+003;
n=43; farx(n+1)=5.576406e+001; foe(n+1)=2.345030e+002; krok(n+1)=2.642509e-005; ng(n+1)=2.102555e+003;
n=44; farx(n+1)=5.468955e+001; foe(n+1)=2.292283e+002; krok(n+1)=6.596475e-005; ng(n+1)=1.315781e+003;
n=45; farx(n+1)=5.028700e+001; foe(n+1)=2.242425e+002; krok(n+1)=2.444110e-005; ng(n+1)=2.100704e+003;
n=46; farx(n+1)=4.945482e+001; foe(n+1)=2.195497e+002; krok(n+1)=5.966581e-005; ng(n+1)=1.313460e+003;
n=47; farx(n+1)=4.562577e+001; foe(n+1)=2.150854e+002; krok(n+1)=2.277170e-005; ng(n+1)=2.076583e+003;
n=48; farx(n+1)=4.496977e+001; foe(n+1)=2.108724e+002; krok(n+1)=5.434585e-005; ng(n+1)=1.305852e+003;
n=49; farx(n+1)=4.165357e+001; foe(n+1)=2.068720e+002; krok(n+1)=2.114892e-005; ng(n+1)=2.044295e+003;
n=50; farx(n+1)=4.105377e+001; foe(n+1)=2.029669e+002; krok(n+1)=5.256405e-005; ng(n+1)=1.283671e+003;
n=51; farx(n+1)=3.809428e+001; foe(n+1)=1.992360e+002; krok(n+1)=1.961815e-005; ng(n+1)=2.063983e+003;
n=52; farx(n+1)=3.761379e+001; foe(n+1)=1.957097e+002; krok(n+1)=4.856864e-005; ng(n+1)=1.268385e+003;
n=53; farx(n+1)=3.501946e+001; foe(n+1)=1.923428e+002; krok(n+1)=1.843074e-005; ng(n+1)=2.029459e+003;
n=54; farx(n+1)=3.461781e+001; foe(n+1)=1.891250e+002; krok(n+1)=4.570049e-005; ng(n+1)=1.247369e+003;
n=55; farx(n+1)=3.232587e+001; foe(n+1)=1.860544e+002; krok(n+1)=1.733605e-005; ng(n+1)=2.003243e+003;
n=56; farx(n+1)=3.198689e+001; foe(n+1)=1.831103e+002; krok(n+1)=4.381503e-005; ng(n+1)=1.223495e+003;
n=57; farx(n+1)=2.994371e+001; foe(n+1)=1.802570e+002; krok(n+1)=1.622543e-005; ng(n+1)=1.996742e+003;
n=58; farx(n+1)=2.963969e+001; foe(n+1)=1.775285e+002; krok(n+1)=4.194015e-005; ng(n+1)=1.193260e+003;
n=59; farx(n+1)=2.781542e+001; foe(n+1)=1.749225e+002; krok(n+1)=1.549259e-005; ng(n+1)=1.962363e+003;
n=60; farx(n+1)=2.759808e+001; foe(n+1)=1.724845e+002; krok(n+1)=3.856196e-005; ng(n+1)=1.174263e+003;
n=61; farx(n+1)=2.598619e+001; foe(n+1)=1.701354e+002; krok(n+1)=1.482745e-005; ng(n+1)=1.911878e+003;
n=62; farx(n+1)=2.580636e+001; foe(n+1)=1.678938e+002; krok(n+1)=3.686149e-005; ng(n+1)=1.145994e+003;
n=63; farx(n+1)=2.434960e+001; foe(n+1)=1.657303e+002; krok(n+1)=1.430061e-005; ng(n+1)=1.886325e+003;
n=64; farx(n+1)=2.423700e+001; foe(n+1)=1.637269e+002; krok(n+1)=3.369455e-005; ng(n+1)=1.127813e+003;
n=65; farx(n+1)=2.295210e+001; foe(n+1)=1.617788e+002; krok(n+1)=1.373458e-005; ng(n+1)=1.826049e+003;
n=66; farx(n+1)=2.284030e+001; foe(n+1)=1.598832e+002; krok(n+1)=3.369455e-005; ng(n+1)=1.091520e+003;
n=67; farx(n+1)=2.166390e+001; foe(n+1)=1.580306e+002; krok(n+1)=1.308479e-005; ng(n+1)=1.834037e+003;
n=68; farx(n+1)=2.157227e+001; foe(n+1)=1.562700e+002; krok(n+1)=3.223481e-005; ng(n+1)=1.062780e+003;
n=69; farx(n+1)=2.051294e+001; foe(n+1)=1.545654e+002; krok(n+1)=1.264803e-005; ng(n+1)=1.794904e+003;
n=70; farx(n+1)=2.044116e+001; foe(n+1)=1.529291e+002; krok(n+1)=3.122446e-005; ng(n+1)=1.036420e+003;
n=71; farx(n+1)=1.947366e+001; foe(n+1)=1.513306e+002; krok(n+1)=1.222055e-005; ng(n+1)=1.775614e+003;
n=72; farx(n+1)=1.942306e+001; foe(n+1)=1.498145e+002; krok(n+1)=2.973907e-005; ng(n+1)=1.012189e+003;
n=73; farx(n+1)=1.854289e+001; foe(n+1)=1.483342e+002; krok(n+1)=1.191391e-005; ng(n+1)=1.736699e+003;
n=74; farx(n+1)=1.851279e+001; foe(n+1)=1.469306e+002; krok(n+1)=2.809248e-005; ng(n+1)=9.902126e+002;
n=75; farx(n+1)=1.771491e+001; foe(n+1)=1.455631e+002; krok(n+1)=1.161523e-005; ng(n+1)=1.690735e+003;
n=76; farx(n+1)=1.769446e+001; foe(n+1)=1.442392e+002; krok(n+1)=2.769106e-005; ng(n+1)=9.656059e+002;
n=77; farx(n+1)=1.695093e+001; foe(n+1)=1.429268e+002; krok(n+1)=1.126542e-005; ng(n+1)=1.688437e+003;
n=78; farx(n+1)=1.694476e+001; foe(n+1)=1.416918e+002; krok(n+1)=2.609816e-005; ng(n+1)=9.464901e+002;
n=79; farx(n+1)=1.626530e+001; foe(n+1)=1.404776e+002; krok(n+1)=1.109569e-005; ng(n+1)=1.638137e+003;
n=80; farx(n+1)=1.627155e+001; foe(n+1)=1.393205e+002; krok(n+1)=2.491142e-005; ng(n+1)=9.288760e+002;
n=81; farx(n+1)=1.564018e+001; foe(n+1)=1.381771e+002; krok(n+1)=1.095376e-005; ng(n+1)=1.606121e+003;
n=82; farx(n+1)=1.566229e+001; foe(n+1)=1.371022e+002; krok(n+1)=2.330940e-005; ng(n+1)=9.174634e+002;
n=83; farx(n+1)=1.507882e+001; foe(n+1)=1.360326e+002; krok(n+1)=1.083629e-005; ng(n+1)=1.563402e+003;
n=84; farx(n+1)=1.510929e+001; foe(n+1)=1.350186e+002; krok(n+1)=2.219138e-005; ng(n+1)=9.034902e+002;
n=85; farx(n+1)=1.457170e+001; foe(n+1)=1.340072e+002; krok(n+1)=1.057446e-005; ng(n+1)=1.531324e+003;
n=86; farx(n+1)=1.459752e+001; foe(n+1)=1.330190e+002; krok(n+1)=2.219549e-005; ng(n+1)=8.809056e+002;
n=87; farx(n+1)=1.409038e+001; foe(n+1)=1.320389e+002; krok(n+1)=1.031748e-005; ng(n+1)=1.530115e+003;
n=88; farx(n+1)=1.411906e+001; foe(n+1)=1.310933e+002; krok(n+1)=2.139878e-005; ng(n+1)=8.662170e+002;
n=89; farx(n+1)=1.364424e+001; foe(n+1)=1.301599e+002; krok(n+1)=1.018462e-005; ng(n+1)=1.505305e+003;
n=90; farx(n+1)=1.367834e+001; foe(n+1)=1.292577e+002; krok(n+1)=2.077412e-005; ng(n+1)=8.554463e+002;
n=91; farx(n+1)=1.323206e+001; foe(n+1)=1.283559e+002; krok(n+1)=9.936047e-006; ng(n+1)=1.497851e+003;
n=92; farx(n+1)=1.326421e+001; foe(n+1)=1.274782e+002; krok(n+1)=2.047978e-005; ng(n+1)=8.386164e+002;
n=93; farx(n+1)=1.284395e+001; foe(n+1)=1.266069e+002; krok(n+1)=9.716744e-006; ng(n+1)=1.488795e+003;
n=94; farx(n+1)=1.287591e+001; foe(n+1)=1.257536e+002; krok(n+1)=2.036925e-005; ng(n+1)=8.234879e+002;
n=95; farx(n+1)=1.247603e+001; foe(n+1)=1.249009e+002; krok(n+1)=9.476547e-006; ng(n+1)=1.496974e+003;
n=96; farx(n+1)=1.250793e+001; foe(n+1)=1.240731e+002; krok(n+1)=1.995189e-005; ng(n+1)=8.103038e+002;
n=97; farx(n+1)=1.212915e+001; foe(n+1)=1.232485e+002; krok(n+1)=9.322149e-006; ng(n+1)=1.487616e+003;
n=98; farx(n+1)=1.216303e+001; foe(n+1)=1.224488e+002; krok(n+1)=1.953303e-005; ng(n+1)=8.000519e+002;
n=99; farx(n+1)=1.180344e+001; foe(n+1)=1.216467e+002; krok(n+1)=9.128990e-006; ng(n+1)=1.484747e+003;
n=100; farx(n+1)=1.183651e+001; foe(n+1)=1.208671e+002; krok(n+1)=1.920477e-005; ng(n+1)=7.873774e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
