%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.457467e+003; foe(n+1)=4.421968e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
n=1; farx(n+1)=3.024042e+003; foe(n+1)=3.043528e+003; krok(n+1)=5.002119e-004; ng(n+1)=2.053135e+003;
n=2; farx(n+1)=9.331314e+002; foe(n+1)=1.010463e+003; krok(n+1)=9.349969e-002; ng(n+1)=1.061813e+002;
n=3; farx(n+1)=6.833996e+002; foe(n+1)=6.166686e+002; krok(n+1)=5.266656e-004; ng(n+1)=1.960572e+003;
n=4; farx(n+1)=6.387874e+002; foe(n+1)=4.882801e+002; krok(n+1)=9.143281e-004; ng(n+1)=7.823200e+002;
n=5; farx(n+1)=5.174241e+002; foe(n+1)=4.265337e+002; krok(n+1)=1.059163e-003; ng(n+1)=5.720573e+002;
n=6; farx(n+1)=5.145065e+002; foe(n+1)=4.008489e+002; krok(n+1)=8.446781e-004; ng(n+1)=3.489280e+002;
n=7; farx(n+1)=4.562175e+002; foe(n+1)=3.869904e+002; krok(n+1)=1.463096e-003; ng(n+1)=2.170212e+002;
n=8; farx(n+1)=4.565625e+002; foe(n+1)=3.784798e+002; krok(n+1)=8.695337e-004; ng(n+1)=1.844286e+002;
n=9; farx(n+1)=4.259608e+002; foe(n+1)=3.725502e+002; krok(n+1)=1.612540e-003; ng(n+1)=1.272026e+002;
n=10; farx(n+1)=4.270420e+002; foe(n+1)=3.681421e+002; krok(n+1)=8.861138e-004; ng(n+1)=1.217380e+002;
n=11; farx(n+1)=4.107066e+002; foe(n+1)=3.648226e+002; krok(n+1)=1.587460e-003; ng(n+1)=9.874692e+001;
n=12; farx(n+1)=4.117165e+002; foe(n+1)=3.621827e+002; krok(n+1)=8.790130e-004; ng(n+1)=1.031838e+002;
n=13; farx(n+1)=4.031937e+002; foe(n+1)=3.600706e+002; krok(n+1)=1.624224e-003; ng(n+1)=8.025562e+001;
n=14; farx(n+1)=4.040989e+002; foe(n+1)=3.583770e+002; krok(n+1)=8.684522e-004; ng(n+1)=8.780141e+001;
n=15; farx(n+1)=4.002008e+002; foe(n+1)=3.570302e+002; krok(n+1)=1.597856e-003; ng(n+1)=6.495045e+001;
n=16; farx(n+1)=4.008978e+002; foe(n+1)=3.559389e+002; krok(n+1)=8.651099e-004; ng(n+1)=7.244936e+001;
n=17; farx(n+1)=3.994411e+002; foe(n+1)=3.550462e+002; krok(n+1)=1.612540e-003; ng(n+1)=5.230345e+001;
n=18; farx(n+1)=3.999315e+002; foe(n+1)=3.543109e+002; krok(n+1)=8.640164e-004; ng(n+1)=5.986913e+001;
n=19; farx(n+1)=3.996480e+002; foe(n+1)=3.536962e+002; krok(n+1)=1.612540e-003; ng(n+1)=4.289864e+001;
n=20; farx(n+1)=3.999187e+002; foe(n+1)=3.531758e+002; krok(n+1)=8.704444e-004; ng(n+1)=5.119521e+001;
n=21; farx(n+1)=4.000987e+002; foe(n+1)=3.527264e+002; krok(n+1)=1.606327e-003; ng(n+1)=3.620602e+001;
n=22; farx(n+1)=4.001490e+002; foe(n+1)=3.523318e+002; krok(n+1)=8.786586e-004; ng(n+1)=4.566191e+001;
n=23; farx(n+1)=4.004457e+002; foe(n+1)=3.519793e+002; krok(n+1)=1.600227e-003; ng(n+1)=3.330493e+001;
n=24; farx(n+1)=4.002884e+002; foe(n+1)=3.516587e+002; krok(n+1)=8.790130e-004; ng(n+1)=4.170669e+001;
n=25; farx(n+1)=4.005662e+002; foe(n+1)=3.513599e+002; krok(n+1)=1.635770e-003; ng(n+1)=3.093914e+001;
n=26; farx(n+1)=4.002213e+002; foe(n+1)=3.510812e+002; krok(n+1)=8.786586e-004; ng(n+1)=3.919848e+001;
n=27; farx(n+1)=4.004149e+002; foe(n+1)=3.508182e+002; krok(n+1)=1.631651e-003; ng(n+1)=2.938971e+001;
n=28; farx(n+1)=3.999209e+002; foe(n+1)=3.505674e+002; krok(n+1)=8.861138e-004; ng(n+1)=3.715369e+001;
n=29; farx(n+1)=4.000271e+002; foe(n+1)=3.503291e+002; krok(n+1)=1.594331e-003; ng(n+1)=2.839762e+001;
n=30; farx(n+1)=3.994250e+002; foe(n+1)=3.500984e+002; krok(n+1)=8.898758e-004; ng(n+1)=3.605050e+001;
n=31; farx(n+1)=3.994666e+002; foe(n+1)=3.498735e+002; krok(n+1)=1.611746e-003; ng(n+1)=2.743102e+001;
n=32; farx(n+1)=3.987752e+002; foe(n+1)=3.496532e+002; krok(n+1)=8.790130e-004; ng(n+1)=3.564246e+001;
n=33; farx(n+1)=3.987678e+002; foe(n+1)=3.494354e+002; krok(n+1)=1.667309e-003; ng(n+1)=2.694748e+001;
n=34; farx(n+1)=3.980005e+002; foe(n+1)=3.492192e+002; krok(n+1)=8.640164e-004; ng(n+1)=3.568609e+001;
n=35; farx(n+1)=3.979542e+002; foe(n+1)=3.490068e+002; krok(n+1)=1.675019e-003; ng(n+1)=2.657184e+001;
n=36; farx(n+1)=3.971397e+002; foe(n+1)=3.487978e+002; krok(n+1)=8.684522e-004; ng(n+1)=3.513579e+001;
n=37; farx(n+1)=3.970821e+002; foe(n+1)=3.485929e+002; krok(n+1)=1.643206e-003; ng(n+1)=2.646570e+001;
n=38; farx(n+1)=3.962398e+002; foe(n+1)=3.483902e+002; krok(n+1)=8.713328e-004; ng(n+1)=3.452316e+001;
n=39; farx(n+1)=3.961798e+002; foe(n+1)=3.481900e+002; krok(n+1)=1.636169e-003; ng(n+1)=2.624844e+001;
n=40; farx(n+1)=3.953155e+002; foe(n+1)=3.479912e+002; krok(n+1)=8.704444e-004; ng(n+1)=3.413403e+001;
n=41; farx(n+1)=3.952597e+002; foe(n+1)=3.477946e+002; krok(n+1)=1.624224e-003; ng(n+1)=2.601797e+001;
n=42; farx(n+1)=3.943825e+002; foe(n+1)=3.475996e+002; krok(n+1)=8.726203e-004; ng(n+1)=3.367109e+001;
n=43; farx(n+1)=3.943379e+002; foe(n+1)=3.474067e+002; krok(n+1)=1.606327e-003; ng(n+1)=2.582741e+001;
n=44; farx(n+1)=3.934567e+002; foe(n+1)=3.472152e+002; krok(n+1)=8.713055e-004; ng(n+1)=3.320427e+001;
n=45; farx(n+1)=3.934222e+002; foe(n+1)=3.470239e+002; krok(n+1)=1.621288e-003; ng(n+1)=2.551909e+001;
n=46; farx(n+1)=3.925304e+002; foe(n+1)=3.468335e+002; krok(n+1)=8.684522e-004; ng(n+1)=3.304820e+001;
n=47; farx(n+1)=3.925118e+002; foe(n+1)=3.466451e+002; krok(n+1)=1.605669e-003; ng(n+1)=2.533039e+001;
n=48; farx(n+1)=3.916210e+002; foe(n+1)=3.464573e+002; krok(n+1)=8.676816e-004; ng(n+1)=3.263975e+001;
n=49; farx(n+1)=3.916154e+002; foe(n+1)=3.462704e+002; krok(n+1)=1.611746e-003; ng(n+1)=2.505910e+001;
n=50; farx(n+1)=3.907225e+002; foe(n+1)=3.460838e+002; krok(n+1)=8.640164e-004; ng(n+1)=3.242196e+001;
n=51; farx(n+1)=3.907300e+002; foe(n+1)=3.458984e+002; krok(n+1)=1.611746e-003; ng(n+1)=2.480283e+001;
n=52; farx(n+1)=3.898372e+002; foe(n+1)=3.457133e+002; krok(n+1)=8.631728e-004; ng(n+1)=3.213847e+001;
n=53; farx(n+1)=3.898585e+002; foe(n+1)=3.455298e+002; krok(n+1)=1.602144e-003; ng(n+1)=2.459134e+001;
n=54; farx(n+1)=3.889704e+002; foe(n+1)=3.453466e+002; krok(n+1)=8.616391e-004; ng(n+1)=3.178794e+001;
n=55; farx(n+1)=3.890029e+002; foe(n+1)=3.451641e+002; krok(n+1)=1.611746e-003; ng(n+1)=2.431974e+001;
n=56; farx(n+1)=3.881176e+002; foe(n+1)=3.449815e+002; krok(n+1)=8.540993e-004; ng(n+1)=3.162235e+001;
n=57; farx(n+1)=3.881564e+002; foe(n+1)=3.447988e+002; krok(n+1)=1.636169e-003; ng(n+1)=2.396862e+001;
n=58; farx(n+1)=3.872690e+002; foe(n+1)=3.446162e+002; krok(n+1)=8.500296e-004; ng(n+1)=3.153044e+001;
n=59; farx(n+1)=3.873174e+002; foe(n+1)=3.444350e+002; krok(n+1)=1.624224e-003; ng(n+1)=2.375735e+001;
n=60; farx(n+1)=3.864376e+002; foe(n+1)=3.442546e+002; krok(n+1)=8.503167e-004; ng(n+1)=3.114277e+001;
n=61; farx(n+1)=3.864944e+002; foe(n+1)=3.440744e+002; krok(n+1)=1.629095e-003; ng(n+1)=2.351708e+001;
n=62; farx(n+1)=3.856152e+002; foe(n+1)=3.438946e+002; krok(n+1)=8.500296e-004; ng(n+1)=3.095069e+001;
n=63; farx(n+1)=3.856807e+002; foe(n+1)=3.437164e+002; krok(n+1)=1.606327e-003; ng(n+1)=2.336379e+001;
n=64; farx(n+1)=3.848103e+002; foe(n+1)=3.435391e+002; krok(n+1)=8.540178e-004; ng(n+1)=3.049851e+001;
n=65; farx(n+1)=3.848846e+002; foe(n+1)=3.433626e+002; krok(n+1)=1.599773e-003; ng(n+1)=2.319643e+001;
n=66; farx(n+1)=3.840208e+002; foe(n+1)=3.431863e+002; krok(n+1)=8.503167e-004; ng(n+1)=3.025839e+001;
n=67; farx(n+1)=3.840988e+002; foe(n+1)=3.430099e+002; krok(n+1)=1.620122e-003; ng(n+1)=2.291555e+001;
n=68; farx(n+1)=3.832363e+002; foe(n+1)=3.428332e+002; krok(n+1)=8.437340e-004; ng(n+1)=3.032241e+001;
n=69; farx(n+1)=3.833149e+002; foe(n+1)=3.426571e+002; krok(n+1)=1.624224e-003; ng(n+1)=2.265315e+001;
n=70; farx(n+1)=3.824570e+002; foe(n+1)=3.424816e+002; krok(n+1)=8.456028e-004; ng(n+1)=3.029961e+001;
n=71; farx(n+1)=3.825423e+002; foe(n+1)=3.423073e+002; krok(n+1)=1.611746e-003; ng(n+1)=2.252565e+001;
n=72; farx(n+1)=3.816912e+002; foe(n+1)=3.421330e+002; krok(n+1)=8.456028e-004; ng(n+1)=3.025971e+001;
n=73; farx(n+1)=3.817798e+002; foe(n+1)=3.419596e+002; krok(n+1)=1.611746e-003; ng(n+1)=2.234104e+001;
n=74; farx(n+1)=3.809358e+002; foe(n+1)=3.417860e+002; krok(n+1)=8.418412e-004; ng(n+1)=3.029066e+001;
n=75; farx(n+1)=3.810240e+002; foe(n+1)=3.416126e+002; krok(n+1)=1.626565e-003; ng(n+1)=2.208558e+001;
n=76; farx(n+1)=3.801821e+002; foe(n+1)=3.414391e+002; krok(n+1)=8.410247e-004; ng(n+1)=3.040335e+001;
n=77; farx(n+1)=3.802733e+002; foe(n+1)=3.412672e+002; krok(n+1)=1.611746e-003; ng(n+1)=2.196320e+001;
n=78; farx(n+1)=3.794419e+002; foe(n+1)=3.410952e+002; krok(n+1)=8.409074e-004; ng(n+1)=3.028066e+001;
n=79; farx(n+1)=3.795317e+002; foe(n+1)=3.409236e+002; krok(n+1)=1.612540e-003; ng(n+1)=2.175597e+001;
n=80; farx(n+1)=3.787067e+002; foe(n+1)=3.407527e+002; krok(n+1)=8.432951e-004; ng(n+1)=3.022227e+001;
n=81; farx(n+1)=3.787998e+002; foe(n+1)=3.405827e+002; krok(n+1)=1.597856e-003; ng(n+1)=2.166052e+001;
n=82; farx(n+1)=3.779830e+002; foe(n+1)=3.404130e+002; krok(n+1)=8.456028e-004; ng(n+1)=3.011779e+001;
n=83; farx(n+1)=3.780790e+002; foe(n+1)=3.402442e+002; krok(n+1)=1.593673e-003; ng(n+1)=2.154682e+001;
n=84; farx(n+1)=3.772709e+002; foe(n+1)=3.400750e+002; krok(n+1)=8.418412e-004; ng(n+1)=3.013072e+001;
n=85; farx(n+1)=3.773640e+002; foe(n+1)=3.399059e+002; krok(n+1)=1.607136e-003; ng(n+1)=2.131850e+001;
n=86; farx(n+1)=3.765636e+002; foe(n+1)=3.397369e+002; krok(n+1)=8.375096e-004; ng(n+1)=3.018675e+001;
n=87; farx(n+1)=3.766551e+002; foe(n+1)=3.395675e+002; krok(n+1)=1.626565e-003; ng(n+1)=2.109985e+001;
n=88; farx(n+1)=3.758641e+002; foe(n+1)=3.393980e+002; krok(n+1)=8.259539e-004; ng(n+1)=3.034043e+001;
n=89; farx(n+1)=3.759485e+002; foe(n+1)=3.392260e+002; krok(n+1)=1.688016e-003; ng(n+1)=2.071673e+001;
n=90; farx(n+1)=3.751533e+002; foe(n+1)=3.390540e+002; krok(n+1)=8.194646e-004; ng(n+1)=3.079092e+001;
n=91; farx(n+1)=3.752400e+002; foe(n+1)=3.388831e+002; krok(n+1)=1.682049e-003; ng(n+1)=2.061768e+001;
n=92; farx(n+1)=3.744556e+002; foe(n+1)=3.387117e+002; krok(n+1)=8.160960e-004; ng(n+1)=3.075531e+001;
n=93; farx(n+1)=3.745399e+002; foe(n+1)=3.385402e+002; krok(n+1)=1.704775e-003; ng(n+1)=2.039637e+001;
n=94; farx(n+1)=3.737603e+002; foe(n+1)=3.383683e+002; krok(n+1)=8.132823e-004; ng(n+1)=3.088726e+001;
n=95; farx(n+1)=3.738438e+002; foe(n+1)=3.381974e+002; krok(n+1)=1.694223e-003; ng(n+1)=2.027092e+001;
n=96; farx(n+1)=3.730766e+002; foe(n+1)=3.380270e+002; krok(n+1)=8.158254e-004; ng(n+1)=3.069176e+001;
n=97; farx(n+1)=3.731620e+002; foe(n+1)=3.378571e+002; krok(n+1)=1.689356e-003; ng(n+1)=2.017011e+001;
n=98; farx(n+1)=3.724044e+002; foe(n+1)=3.376874e+002; krok(n+1)=8.158254e-004; ng(n+1)=3.062623e+001;
n=99; farx(n+1)=3.724910e+002; foe(n+1)=3.375182e+002; krok(n+1)=1.687468e-003; ng(n+1)=2.005363e+001;
n=100; farx(n+1)=3.717439e+002; foe(n+1)=3.373492e+002; krok(n+1)=8.148250e-004; ng(n+1)=3.055955e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
