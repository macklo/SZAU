%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.454964e+003; foe(n+1)=4.451761e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
n=1; farx(n+1)=3.036985e+003; foe(n+1)=3.042785e+003; krok(n+1)=4.912482e-004; ng(n+1)=2.352153e+003;
n=2; farx(n+1)=2.084793e+003; foe(n+1)=2.117971e+003; krok(n+1)=3.582758e-002; ng(n+1)=2.411079e+002;
n=3; farx(n+1)=7.397073e+002; foe(n+1)=6.820085e+002; krok(n+1)=6.384605e-004; ng(n+1)=2.655481e+003;
n=4; farx(n+1)=6.757296e+002; foe(n+1)=4.974712e+002; krok(n+1)=1.141051e-003; ng(n+1)=8.625539e+002;
n=5; farx(n+1)=5.272387e+002; foe(n+1)=4.257366e+002; krok(n+1)=8.062699e-004; ng(n+1)=6.983029e+002;
n=6; farx(n+1)=5.186975e+002; foe(n+1)=3.992954e+002; krok(n+1)=1.066758e-003; ng(n+1)=3.255755e+002;
n=7; farx(n+1)=4.599007e+002; foe(n+1)=3.848042e+002; krok(n+1)=1.055436e-003; ng(n+1)=2.565565e+002;
n=8; farx(n+1)=4.574495e+002; foe(n+1)=3.756182e+002; krok(n+1)=1.130223e-003; ng(n+1)=1.761491e+002;
n=9; farx(n+1)=4.281261e+002; foe(n+1)=3.692311e+002; krok(n+1)=1.119612e-003; ng(n+1)=1.560717e+002;
n=10; farx(n+1)=4.283135e+002; foe(n+1)=3.646182e+002; krok(n+1)=1.140915e-003; ng(n+1)=1.184528e+002;
n=11; farx(n+1)=4.136291e+002; foe(n+1)=3.612244e+002; krok(n+1)=1.130223e-003; ng(n+1)=1.157910e+002;
n=12; farx(n+1)=4.147068e+002; foe(n+1)=3.586854e+002; krok(n+1)=1.136630e-003; ng(n+1)=9.202172e+001;
n=13; farx(n+1)=4.076417e+002; foe(n+1)=3.567664e+002; krok(n+1)=1.128776e-003; ng(n+1)=8.797858e+001;
n=14; farx(n+1)=4.087279e+002; foe(n+1)=3.552805e+002; krok(n+1)=1.134879e-003; ng(n+1)=7.230767e+001;
n=15; farx(n+1)=4.053300e+002; foe(n+1)=3.541115e+002; krok(n+1)=1.134788e-003; ng(n+1)=6.834397e+001;
n=16; farx(n+1)=4.060647e+002; foe(n+1)=3.531629e+002; krok(n+1)=1.135356e-003; ng(n+1)=5.809684e+001;
n=17; farx(n+1)=4.042806e+002; foe(n+1)=3.523778e+002; krok(n+1)=1.144090e-003; ng(n+1)=5.450320e+001;
n=18; farx(n+1)=4.045511e+002; foe(n+1)=3.517074e+002; krok(n+1)=1.137613e-003; ng(n+1)=5.089777e+001;
n=19; farx(n+1)=4.034131e+002; foe(n+1)=3.511242e+002; krok(n+1)=1.157298e-003; ng(n+1)=4.765083e+001;
n=20; farx(n+1)=4.032451e+002; foe(n+1)=3.506032e+002; krok(n+1)=1.140915e-003; ng(n+1)=4.644731e+001;
n=21; farx(n+1)=4.023395e+002; foe(n+1)=3.501313e+002; krok(n+1)=1.158294e-003; ng(n+1)=4.378928e+001;
n=22; farx(n+1)=4.018112e+002; foe(n+1)=3.496951e+002; krok(n+1)=1.146661e-003; ng(n+1)=4.466568e+001;
n=23; farx(n+1)=4.009896e+002; foe(n+1)=3.492885e+002; krok(n+1)=1.153983e-003; ng(n+1)=4.224361e+001;
n=24; farx(n+1)=4.001954e+002; foe(n+1)=3.489040e+002; krok(n+1)=1.151653e-003; ng(n+1)=4.324435e+001;
n=25; farx(n+1)=3.994176e+002; foe(n+1)=3.485390e+002; krok(n+1)=1.146884e-003; ng(n+1)=4.145902e+001;
n=26; farx(n+1)=3.984429e+002; foe(n+1)=3.481887e+002; krok(n+1)=1.156009e-003; ng(n+1)=4.204287e+001;
n=27; farx(n+1)=3.977073e+002; foe(n+1)=3.478523e+002; krok(n+1)=1.137613e-003; ng(n+1)=4.076490e+001;
n=28; farx(n+1)=3.966197e+002; foe(n+1)=3.475266e+002; krok(n+1)=1.160015e-003; ng(n+1)=4.096701e+001;
n=29; farx(n+1)=3.959332e+002; foe(n+1)=3.472115e+002; krok(n+1)=1.131319e-003; ng(n+1)=4.011375e+001;
n=30; farx(n+1)=3.947869e+002; foe(n+1)=3.469047e+002; krok(n+1)=1.153983e-003; ng(n+1)=4.008352e+001;
n=31; farx(n+1)=3.941533e+002; foe(n+1)=3.466065e+002; krok(n+1)=1.130223e-003; ng(n+1)=3.933033e+001;
n=32; farx(n+1)=3.929832e+002; foe(n+1)=3.463150e+002; krok(n+1)=1.146884e-003; ng(n+1)=3.925980e+001;
n=33; farx(n+1)=3.924052e+002; foe(n+1)=3.460308e+002; krok(n+1)=1.130223e-003; ng(n+1)=3.855378e+001;
n=34; farx(n+1)=3.912347e+002; foe(n+1)=3.457522e+002; krok(n+1)=1.137613e-003; ng(n+1)=3.849387e+001;
n=35; farx(n+1)=3.907120e+002; foe(n+1)=3.454798e+002; krok(n+1)=1.130654e-003; ng(n+1)=3.775887e+001;
n=36; farx(n+1)=3.895508e+002; foe(n+1)=3.452122e+002; krok(n+1)=1.134788e-003; ng(n+1)=3.773383e+001;
n=37; farx(n+1)=3.890855e+002; foe(n+1)=3.449501e+002; krok(n+1)=1.124619e-003; ng(n+1)=3.712839e+001;
n=38; farx(n+1)=3.879436e+002; foe(n+1)=3.446921e+002; krok(n+1)=1.130223e-003; ng(n+1)=3.697167e+001;
n=39; farx(n+1)=3.875300e+002; foe(n+1)=3.444390e+002; krok(n+1)=1.120856e-003; ng(n+1)=3.643421e+001;
n=40; farx(n+1)=3.864092e+002; foe(n+1)=3.441895e+002; krok(n+1)=1.130223e-003; ng(n+1)=3.621423e+001;
n=41; farx(n+1)=3.860455e+002; foe(n+1)=3.439442e+002; krok(n+1)=1.116025e-003; ng(n+1)=3.585156e+001;
n=42; farx(n+1)=3.849505e+002; foe(n+1)=3.437022e+002; krok(n+1)=1.124619e-003; ng(n+1)=3.554011e+001;
n=43; farx(n+1)=3.846297e+002; foe(n+1)=3.434641e+002; krok(n+1)=1.116025e-003; ng(n+1)=3.519737e+001;
n=44; farx(n+1)=3.835622e+002; foe(n+1)=3.432288e+002; krok(n+1)=1.116161e-003; ng(n+1)=3.492082e+001;
n=45; farx(n+1)=3.832784e+002; foe(n+1)=3.429969e+002; krok(n+1)=1.116161e-003; ng(n+1)=3.451743e+001;
n=46; farx(n+1)=3.822363e+002; foe(n+1)=3.427675e+002; krok(n+1)=1.112427e-003; ng(n+1)=3.427843e+001;
n=47; farx(n+1)=3.819872e+002; foe(n+1)=3.425413e+002; krok(n+1)=1.118600e-003; ng(n+1)=3.392681e+001;
n=48; farx(n+1)=3.809677e+002; foe(n+1)=3.423173e+002; krok(n+1)=1.106947e-003; ng(n+1)=3.377625e+001;
n=49; farx(n+1)=3.807509e+002; foe(n+1)=3.420962e+002; krok(n+1)=1.111417e-003; ng(n+1)=3.342728e+001;
n=50; farx(n+1)=3.797557e+002; foe(n+1)=3.418771e+002; krok(n+1)=1.104943e-003; ng(n+1)=3.312695e+001;
n=51; farx(n+1)=3.795653e+002; foe(n+1)=3.416605e+002; krok(n+1)=1.111857e-003; ng(n+1)=3.285787e+001;
n=52; farx(n+1)=3.785928e+002; foe(n+1)=3.414458e+002; krok(n+1)=1.099965e-003; ng(n+1)=3.259378e+001;
n=53; farx(n+1)=3.784261e+002; foe(n+1)=3.412333e+002; krok(n+1)=1.111857e-003; ng(n+1)=3.232509e+001;
n=54; farx(n+1)=3.774759e+002; foe(n+1)=3.410225e+002; krok(n+1)=1.093891e-003; ng(n+1)=3.208342e+001;
n=55; farx(n+1)=3.773297e+002; foe(n+1)=3.408138e+002; krok(n+1)=1.118600e-003; ng(n+1)=3.178184e+001;
n=56; farx(n+1)=3.763996e+002; foe(n+1)=3.406066e+002; krok(n+1)=1.084015e-003; ng(n+1)=3.171925e+001;
n=57; farx(n+1)=3.762715e+002; foe(n+1)=3.404013e+002; krok(n+1)=1.118523e-003; ng(n+1)=3.128472e+001;
n=58; farx(n+1)=3.753590e+002; foe(n+1)=3.401973e+002; krok(n+1)=1.083660e-003; ng(n+1)=3.123664e+001;
n=59; farx(n+1)=3.752491e+002; foe(n+1)=3.399951e+002; krok(n+1)=1.111857e-003; ng(n+1)=3.090066e+001;
n=60; farx(n+1)=3.743541e+002; foe(n+1)=3.397942e+002; krok(n+1)=1.085649e-003; ng(n+1)=3.071177e+001;
n=61; farx(n+1)=3.742599e+002; foe(n+1)=3.395949e+002; krok(n+1)=1.104943e-003; ng(n+1)=3.052565e+001;
n=62; farx(n+1)=3.733795e+002; foe(n+1)=3.393967e+002; krok(n+1)=1.093065e-003; ng(n+1)=3.018955e+001;
n=63; farx(n+1)=3.733012e+002; foe(n+1)=3.392000e+002; krok(n+1)=1.088038e-003; ng(n+1)=3.027846e+001;
n=64; farx(n+1)=3.724347e+002; foe(n+1)=3.390044e+002; krok(n+1)=1.108189e-003; ng(n+1)=2.955745e+001;
n=65; farx(n+1)=3.723718e+002; foe(n+1)=3.388101e+002; krok(n+1)=1.072587e-003; ng(n+1)=3.009026e+001;
n=66; farx(n+1)=3.715212e+002; foe(n+1)=3.386167e+002; krok(n+1)=1.116161e-003; ng(n+1)=2.900944e+001;
n=67; farx(n+1)=3.714706e+002; foe(n+1)=3.384247e+002; krok(n+1)=1.066655e-003; ng(n+1)=2.980180e+001;
n=68; farx(n+1)=3.706355e+002; foe(n+1)=3.382334e+002; krok(n+1)=1.118523e-003; ng(n+1)=2.859005e+001;
n=69; farx(n+1)=3.705962e+002; foe(n+1)=3.380435e+002; krok(n+1)=1.064566e-003; ng(n+1)=2.950969e+001;
n=70; farx(n+1)=3.697767e+002; foe(n+1)=3.378543e+002; krok(n+1)=1.116025e-003; ng(n+1)=2.825835e+001;
n=71; farx(n+1)=3.697462e+002; foe(n+1)=3.376663e+002; krok(n+1)=1.059163e-003; ng(n+1)=2.919252e+001;
n=72; farx(n+1)=3.689425e+002; foe(n+1)=3.374790e+002; krok(n+1)=1.119612e-003; ng(n+1)=2.785473e+001;
n=73; farx(n+1)=3.689213e+002; foe(n+1)=3.372928e+002; krok(n+1)=1.058508e-003; ng(n+1)=2.890172e+001;
n=74; farx(n+1)=3.681333e+002; foe(n+1)=3.371073e+002; krok(n+1)=1.116025e-003; ng(n+1)=2.781508e+001;
n=75; farx(n+1)=3.681191e+002; foe(n+1)=3.369229e+002; krok(n+1)=1.053331e-003; ng(n+1)=2.858772e+001;
n=76; farx(n+1)=3.673452e+002; foe(n+1)=3.367392e+002; krok(n+1)=1.123587e-003; ng(n+1)=2.760985e+001;
n=77; farx(n+1)=3.673399e+002; foe(n+1)=3.365563e+002; krok(n+1)=1.046882e-003; ng(n+1)=2.838685e+001;
n=78; farx(n+1)=3.665834e+002; foe(n+1)=3.363742e+002; krok(n+1)=1.120856e-003; ng(n+1)=2.746831e+001;
n=79; farx(n+1)=3.665835e+002; foe(n+1)=3.361931e+002; krok(n+1)=1.047905e-003; ng(n+1)=2.802227e+001;
n=80; farx(n+1)=3.658422e+002; foe(n+1)=3.360125e+002; krok(n+1)=1.120856e-003; ng(n+1)=2.734299e+001;
n=81; farx(n+1)=3.658494e+002; foe(n+1)=3.358329e+002; krok(n+1)=1.047362e-003; ng(n+1)=2.774901e+001;
n=82; farx(n+1)=3.651227e+002; foe(n+1)=3.356539e+002; krok(n+1)=1.119612e-003; ng(n+1)=2.725256e+001;
n=83; farx(n+1)=3.651364e+002; foe(n+1)=3.354759e+002; krok(n+1)=1.043848e-003; ng(n+1)=2.749327e+001;
n=84; farx(n+1)=3.644237e+002; foe(n+1)=3.352984e+002; krok(n+1)=1.123587e-003; ng(n+1)=2.708535e+001;
n=85; farx(n+1)=3.644442e+002; foe(n+1)=3.351217e+002; krok(n+1)=1.037511e-003; ng(n+1)=2.729259e+001;
n=86; farx(n+1)=3.637463e+002; foe(n+1)=3.349456e+002; krok(n+1)=1.127039e-003; ng(n+1)=2.688441e+001;
n=87; farx(n+1)=3.637737e+002; foe(n+1)=3.347704e+002; krok(n+1)=1.037622e-003; ng(n+1)=2.705586e+001;
n=88; farx(n+1)=3.630916e+002; foe(n+1)=3.345957e+002; krok(n+1)=1.120408e-003; ng(n+1)=2.680649e+001;
n=89; farx(n+1)=3.631239e+002; foe(n+1)=3.344220e+002; krok(n+1)=1.040497e-003; ng(n+1)=2.672256e+001;
n=90; farx(n+1)=3.624570e+002; foe(n+1)=3.342488e+002; krok(n+1)=1.116161e-003; ng(n+1)=2.669199e+001;
n=91; farx(n+1)=3.624940e+002; foe(n+1)=3.340765e+002; krok(n+1)=1.040544e-003; ng(n+1)=2.641599e+001;
n=92; farx(n+1)=3.618403e+002; foe(n+1)=3.339046e+002; krok(n+1)=1.119612e-003; ng(n+1)=2.651742e+001;
n=93; farx(n+1)=3.618827e+002; foe(n+1)=3.337336e+002; krok(n+1)=1.031514e-003; ng(n+1)=2.623218e+001;
n=94; farx(n+1)=3.612421e+002; foe(n+1)=3.335630e+002; krok(n+1)=1.130654e-003; ng(n+1)=2.621765e+001;
n=95; farx(n+1)=3.612914e+002; foe(n+1)=3.333932e+002; krok(n+1)=1.025308e-003; ng(n+1)=2.609885e+001;
n=96; farx(n+1)=3.606635e+002; foe(n+1)=3.332238e+002; krok(n+1)=1.134788e-003; ng(n+1)=2.603261e+001;
n=97; farx(n+1)=3.607191e+002; foe(n+1)=3.330552e+002; krok(n+1)=1.020808e-003; ng(n+1)=2.593018e+001;
n=98; farx(n+1)=3.601049e+002; foe(n+1)=3.328871e+002; krok(n+1)=1.135356e-003; ng(n+1)=2.584831e+001;
n=99; farx(n+1)=3.601663e+002; foe(n+1)=3.327198e+002; krok(n+1)=1.022424e-003; ng(n+1)=2.575346e+001;
n=100; farx(n+1)=3.595655e+002; foe(n+1)=3.325531e+002; krok(n+1)=1.130223e-003; ng(n+1)=2.574796e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
