%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.731138e+003; foe(n+1)=4.884464e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
n=1; farx(n+1)=3.744088e+003; foe(n+1)=3.733050e+003; krok(n+1)=3.383827e-004; ng(n+1)=4.514618e+003;
n=2; farx(n+1)=1.090207e+003; foe(n+1)=1.116495e+003; krok(n+1)=1.772228e-003; ng(n+1)=2.933956e+003;
n=3; farx(n+1)=6.770839e+002; foe(n+1)=8.580036e+002; krok(n+1)=1.304810e-004; ng(n+1)=5.297937e+003;
n=4; farx(n+1)=7.099107e+002; foe(n+1)=8.312695e+002; krok(n+1)=2.714123e-004; ng(n+1)=1.410261e+003;
n=5; farx(n+1)=6.276133e+002; foe(n+1)=8.106233e+002; krok(n+1)=1.447867e-004; ng(n+1)=1.916379e+003;
n=6; farx(n+1)=6.493615e+002; foe(n+1)=7.947973e+002; krok(n+1)=2.044712e-004; ng(n+1)=1.054290e+003;
n=7; farx(n+1)=5.828315e+002; foe(n+1)=7.787843e+002; krok(n+1)=1.439458e-004; ng(n+1)=1.518958e+003;
n=8; farx(n+1)=5.999982e+002; foe(n+1)=7.639845e+002; krok(n+1)=1.992914e-004; ng(n+1)=1.108287e+003;
n=9; farx(n+1)=5.370338e+002; foe(n+1)=7.483075e+002; krok(n+1)=1.401071e-004; ng(n+1)=1.531364e+003;
n=10; farx(n+1)=5.500035e+002; foe(n+1)=7.333941e+002; krok(n+1)=1.955288e-004; ng(n+1)=1.131940e+003;
n=11; farx(n+1)=4.905494e+002; foe(n+1)=7.173555e+002; krok(n+1)=1.340733e-004; ng(n+1)=1.578086e+003;
n=12; farx(n+1)=4.998215e+002; foe(n+1)=7.019153e+002; krok(n+1)=1.915864e-004; ng(n+1)=1.169513e+003;
n=13; farx(n+1)=4.438173e+002; foe(n+1)=6.854232e+002; krok(n+1)=1.297027e-004; ng(n+1)=1.640382e+003;
n=14; farx(n+1)=4.510667e+002; foe(n+1)=6.697461e+002; krok(n+1)=1.810041e-004; ng(n+1)=1.242353e+003;
n=15; farx(n+1)=3.994797e+002; foe(n+1)=6.529894e+002; krok(n+1)=1.247165e-004; ng(n+1)=1.696242e+003;
n=16; farx(n+1)=4.049613e+002; foe(n+1)=6.371433e+002; krok(n+1)=1.733806e-004; ng(n+1)=1.299413e+003;
n=17; farx(n+1)=3.580661e+002; foe(n+1)=6.202304e+002; krok(n+1)=1.180809e-004; ng(n+1)=1.761093e+003;
n=18; farx(n+1)=3.616439e+002; foe(n+1)=6.043109e+002; krok(n+1)=1.654388e-004; ng(n+1)=1.335052e+003;
n=19; farx(n+1)=3.194577e+002; foe(n+1)=5.876041e+002; krok(n+1)=1.131625e-004; ng(n+1)=1.801962e+003;
n=20; farx(n+1)=3.220907e+002; foe(n+1)=5.720173e+002; krok(n+1)=1.541640e-004; ng(n+1)=1.385429e+003;
n=21; farx(n+1)=2.848312e+002; foe(n+1)=5.557576e+002; krok(n+1)=1.070946e-004; ng(n+1)=1.837148e+003;
n=22; farx(n+1)=2.863730e+002; foe(n+1)=5.404882e+002; krok(n+1)=1.480754e-004; ng(n+1)=1.402090e+003;
n=23; farx(n+1)=2.533007e+002; foe(n+1)=5.246811e+002; krok(n+1)=1.004460e-004; ng(n+1)=1.892022e+003;
n=24; farx(n+1)=2.541279e+002; foe(n+1)=5.099432e+002; krok(n+1)=1.397905e-004; ng(n+1)=1.428269e+003;
n=25; farx(n+1)=2.249943e+002; foe(n+1)=4.947984e+002; krok(n+1)=9.441524e-005; ng(n+1)=1.929497e+003;
n=26; farx(n+1)=2.253706e+002; foe(n+1)=4.807201e+002; krok(n+1)=1.312842e-004; ng(n+1)=1.458508e+003;
n=27; farx(n+1)=1.997984e+002; foe(n+1)=4.663134e+002; krok(n+1)=8.824176e-005; ng(n+1)=1.963583e+003;
n=28; farx(n+1)=1.998215e+002; foe(n+1)=4.529251e+002; krok(n+1)=1.239407e-004; ng(n+1)=1.480628e+003;
n=29; farx(n+1)=1.774462e+002; foe(n+1)=4.392553e+002; krok(n+1)=8.147519e-005; ng(n+1)=2.006037e+003;
n=30; farx(n+1)=1.770537e+002; foe(n+1)=4.264960e+002; krok(n+1)=1.180809e-004; ng(n+1)=1.488960e+003;
n=31; farx(n+1)=1.574127e+002; foe(n+1)=4.135702e+002; krok(n+1)=7.519941e-005; ng(n+1)=2.051149e+003;
n=32; farx(n+1)=1.568002e+002; foe(n+1)=4.015246e+002; krok(n+1)=1.098766e-004; ng(n+1)=1.510878e+003;
n=33; farx(n+1)=1.396379e+002; foe(n+1)=3.894735e+002; krok(n+1)=7.005353e-005; ng(n+1)=2.069437e+003;
n=34; farx(n+1)=1.390102e+002; foe(n+1)=3.781947e+002; krok(n+1)=1.022356e-004; ng(n+1)=1.547341e+003;
n=35; farx(n+1)=1.239884e+002; foe(n+1)=3.669192e+002; krok(n+1)=6.446963e-005; ng(n+1)=2.099405e+003;
n=36; farx(n+1)=1.232656e+002; foe(n+1)=3.563089e+002; krok(n+1)=9.579321e-005; ng(n+1)=1.569727e+003;
n=37; farx(n+1)=1.100090e+002; foe(n+1)=3.457912e+002; krok(n+1)=5.985115e-005; ng(n+1)=2.128342e+003;
n=38; farx(n+1)=1.094299e+002; foe(n+1)=3.359664e+002; krok(n+1)=8.763108e-005; ng(n+1)=1.610255e+003;
n=39; farx(n+1)=9.787145e+001; foe(n+1)=3.262104e+002; krok(n+1)=5.493831e-005; ng(n+1)=2.146884e+003;
n=40; farx(n+1)=9.721776e+001; foe(n+1)=3.169549e+002; krok(n+1)=8.312662e-005; ng(n+1)=1.617602e+003;
n=41; farx(n+1)=8.696390e+001; foe(n+1)=3.078355e+002; krok(n+1)=5.062882e-005; ng(n+1)=2.190827e+003;
n=42; farx(n+1)=8.645515e+001; foe(n+1)=2.992838e+002; krok(n+1)=7.619426e-005; ng(n+1)=1.647970e+003;
n=43; farx(n+1)=7.744408e+001; foe(n+1)=2.908470e+002; krok(n+1)=4.673205e-005; ng(n+1)=2.209591e+003;
n=44; farx(n+1)=7.700112e+001; foe(n+1)=2.828960e+002; krok(n+1)=7.066590e-005; ng(n+1)=1.669680e+003;
n=45; farx(n+1)=6.902997e+001; foe(n+1)=2.750902e+002; krok(n+1)=4.334515e-005; ng(n+1)=2.226100e+003;
n=46; farx(n+1)=6.872278e+001; foe(n+1)=2.677641e+002; krok(n+1)=6.485137e-005; ng(n+1)=1.699696e+003;
n=47; farx(n+1)=6.170780e+001; foe(n+1)=2.605573e+002; krok(n+1)=3.999817e-005; ng(n+1)=2.239320e+003;
n=48; farx(n+1)=6.145231e+001; foe(n+1)=2.537524e+002; krok(n+1)=6.047525e-005; ng(n+1)=1.709537e+003;
n=49; farx(n+1)=5.526844e+001; foe(n+1)=2.470941e+002; krok(n+1)=3.686149e-005; ng(n+1)=2.253753e+003;
n=50; farx(n+1)=5.505701e+001; foe(n+1)=2.407799e+002; krok(n+1)=5.618497e-005; ng(n+1)=1.713553e+003;
n=51; farx(n+1)=4.961309e+001; foe(n+1)=2.346648e+002; krok(n+1)=3.418410e-005; ng(n+1)=2.251737e+003;
n=52; farx(n+1)=4.946596e+001; foe(n+1)=2.288269e+002; krok(n+1)=5.279238e-005; ng(n+1)=1.718413e+003;
n=53; farx(n+1)=4.463565e+001; foe(n+1)=2.231669e+002; krok(n+1)=3.154696e-005; ng(n+1)=2.263827e+003;
n=54; farx(n+1)=4.455048e+001; foe(n+1)=2.177883e+002; krok(n+1)=4.933474e-005; ng(n+1)=1.719615e+003;
n=55; farx(n+1)=4.026834e+001; foe(n+1)=2.125803e+002; krok(n+1)=2.932016e-005; ng(n+1)=2.259776e+003;
n=56; farx(n+1)=4.024806e+001; foe(n+1)=2.076487e+002; krok(n+1)=4.593063e-005; ng(n+1)=1.719132e+003;
n=57; farx(n+1)=3.647487e+001; foe(n+1)=2.028733e+002; krok(n+1)=2.717293e-005; ng(n+1)=2.247892e+003;
n=58; farx(n+1)=3.647668e+001; foe(n+1)=1.983185e+002; krok(n+1)=4.381503e-005; ng(n+1)=1.699559e+003;
n=59; farx(n+1)=3.312797e+001; foe(n+1)=1.939108e+002; krok(n+1)=2.511150e-005; ng(n+1)=2.249991e+003;
n=60; farx(n+1)=3.315002e+001; foe(n+1)=1.897220e+002; krok(n+1)=4.127340e-005; ng(n+1)=1.677336e+003;
n=61; farx(n+1)=3.019808e+001; foe(n+1)=1.857039e+002; krok(n+1)=2.343658e-005; ng(n+1)=2.221931e+003;
n=62; farx(n+1)=3.024168e+001; foe(n+1)=1.818603e+002; krok(n+1)=3.934497e-005; ng(n+1)=1.651079e+003;
n=63; farx(n+1)=2.763399e+001; foe(n+1)=1.781746e+002; krok(n+1)=2.170937e-005; ng(n+1)=2.204877e+003;
n=64; farx(n+1)=2.767728e+001; foe(n+1)=1.746280e+002; krok(n+1)=3.812652e-005; ng(n+1)=1.617567e+003;
n=65; farx(n+1)=2.535590e+001; foe(n+1)=1.712380e+002; krok(n+1)=2.020969e-005; ng(n+1)=2.190648e+003;
n=66; farx(n+1)=2.541637e+001; foe(n+1)=1.680038e+002; krok(n+1)=3.632499e-005; ng(n+1)=1.588179e+003;
n=67; farx(n+1)=2.335647e+001; foe(n+1)=1.649173e+002; krok(n+1)=1.900886e-005; ng(n+1)=2.160674e+003;
n=68; farx(n+1)=2.343469e+001; foe(n+1)=1.619861e+002; krok(n+1)=3.418410e-005; ng(n+1)=1.558011e+003;
n=69; farx(n+1)=2.161142e+001; foe(n+1)=1.592065e+002; krok(n+1)=1.809834e-005; ng(n+1)=2.111938e+003;
n=70; farx(n+1)=2.171571e+001; foe(n+1)=1.565674e+002; krok(n+1)=3.242569e-005; ng(n+1)=1.528877e+003;
n=71; farx(n+1)=2.010257e+001; foe(n+1)=1.540391e+002; krok(n+1)=1.700060e-005; ng(n+1)=2.079649e+003;
n=72; farx(n+1)=2.019809e+001; foe(n+1)=1.516175e+002; krok(n+1)=3.163728e-005; ng(n+1)=1.480917e+003;
n=73; farx(n+1)=1.875701e+001; foe(n+1)=1.493103e+002; krok(n+1)=1.608814e-005; ng(n+1)=2.051016e+003;
n=74; farx(n+1)=1.885869e+001; foe(n+1)=1.471201e+002; krok(n+1)=3.014162e-005; ng(n+1)=1.440417e+003;
n=75; farx(n+1)=1.757071e+001; foe(n+1)=1.450400e+002; krok(n+1)=1.549259e-005; ng(n+1)=1.995946e+003;
n=76; farx(n+1)=1.769234e+001; foe(n+1)=1.430872e+002; krok(n+1)=2.829063e-005; ng(n+1)=1.408716e+003;
n=77; farx(n+1)=1.655084e+001; foe(n+1)=1.412131e+002; krok(n+1)=1.481538e-005; ng(n+1)=1.934948e+003;
n=78; farx(n+1)=1.666626e+001; foe(n+1)=1.394307e+002; krok(n+1)=2.745808e-005; ng(n+1)=1.360247e+003;
n=79; farx(n+1)=1.563755e+001; foe(n+1)=1.377278e+002; krok(n+1)=1.430061e-005; ng(n+1)=1.886219e+003;
n=80; farx(n+1)=1.576083e+001; foe(n+1)=1.361310e+002; krok(n+1)=2.567510e-005; ng(n+1)=1.324925e+003;
n=81; farx(n+1)=1.484848e+001; foe(n+1)=1.346069e+002; krok(n+1)=1.386876e-005; ng(n+1)=1.806109e+003;
n=82; farx(n+1)=1.496814e+001; foe(n+1)=1.331496e+002; krok(n+1)=2.496650e-005; ng(n+1)=1.279080e+003;
n=83; farx(n+1)=1.414328e+001; foe(n+1)=1.317562e+002; krok(n+1)=1.338477e-005; ng(n+1)=1.759509e+003;
n=84; farx(n+1)=1.426371e+001; foe(n+1)=1.304313e+002; krok(n+1)=2.418894e-005; ng(n+1)=1.237626e+003;
n=85; farx(n+1)=1.351952e+001; foe(n+1)=1.291528e+002; krok(n+1)=1.285784e-005; ng(n+1)=1.714929e+003;
n=86; farx(n+1)=1.363128e+001; foe(n+1)=1.279306e+002; krok(n+1)=2.372164e-005; ng(n+1)=1.189156e+003;
n=87; farx(n+1)=1.295837e+001; foe(n+1)=1.267571e+002; krok(n+1)=1.240823e-005; ng(n+1)=1.671826e+003;
n=88; farx(n+1)=1.306434e+001; foe(n+1)=1.256281e+002; krok(n+1)=2.336806e-005; ng(n+1)=1.143188e+003;
n=89; farx(n+1)=1.244628e+001; foe(n+1)=1.245425e+002; krok(n+1)=1.209447e-005; ng(n+1)=1.639972e+003;
n=90; farx(n+1)=1.255440e+001; foe(n+1)=1.235163e+002; krok(n+1)=2.219138e-005; ng(n+1)=1.109951e+003;
n=91; farx(n+1)=1.199452e+001; foe(n+1)=1.225247e+002; krok(n+1)=1.184623e-005; ng(n+1)=1.584179e+003;
n=92; farx(n+1)=1.209745e+001; foe(n+1)=1.215752e+002; krok(n+1)=2.139878e-005; ng(n+1)=1.071080e+003;
n=93; farx(n+1)=1.158588e+001; foe(n+1)=1.206649e+002; krok(n+1)=1.168403e-005; ng(n+1)=1.531421e+003;
n=94; farx(n+1)=1.168983e+001; foe(n+1)=1.197894e+002; krok(n+1)=2.077412e-005; ng(n+1)=1.039114e+003;
n=95; farx(n+1)=1.121924e+001; foe(n+1)=1.189389e+002; krok(n+1)=1.136531e-005; ng(n+1)=1.502125e+003;
n=96; farx(n+1)=1.131837e+001; foe(n+1)=1.181169e+002; krok(n+1)=2.058283e-005; ng(n+1)=1.000844e+003;
n=97; farx(n+1)=1.088105e+001; foe(n+1)=1.173160e+002; krok(n+1)=1.109569e-005; ng(n+1)=1.480309e+003;
n=98; farx(n+1)=1.097670e+001; foe(n+1)=1.165470e+002; krok(n+1)=1.995189e-005; ng(n+1)=9.687028e+002;
n=99; farx(n+1)=1.057555e+001; foe(n+1)=1.157998e+002; krok(n+1)=1.085468e-005; ng(n+1)=1.439100e+003;
n=100; farx(n+1)=1.066674e+001; foe(n+1)=1.150675e+002; krok(n+1)=2.018691e-005; ng(n+1)=9.314241e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
