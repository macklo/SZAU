%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.709964e+003; foe(n+1)=4.800420e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
n=1; farx(n+1)=3.534901e+003; foe(n+1)=3.698316e+003; krok(n+1)=3.473499e-004; ng(n+1)=4.782979e+003;
n=2; farx(n+1)=1.437955e+003; foe(n+1)=1.431499e+003; krok(n+1)=1.476722e-003; ng(n+1)=3.679178e+003;
n=3; farx(n+1)=7.108323e+002; foe(n+1)=9.037509e+002; krok(n+1)=1.673718e-004; ng(n+1)=7.278000e+003;
n=4; farx(n+1)=7.745178e+002; foe(n+1)=8.522157e+002; krok(n+1)=6.174461e-004; ng(n+1)=1.071323e+003;
n=5; farx(n+1)=6.671284e+002; foe(n+1)=8.156443e+002; krok(n+1)=1.399515e-004; ng(n+1)=2.520412e+003;
n=6; farx(n+1)=6.858134e+002; foe(n+1)=7.905752e+002; krok(n+1)=4.796094e-004; ng(n+1)=8.159004e+002;
n=7; farx(n+1)=6.066448e+002; foe(n+1)=7.652416e+002; krok(n+1)=1.398251e-004; ng(n+1)=1.828580e+003;
n=8; farx(n+1)=6.171260e+002; foe(n+1)=7.422617e+002; krok(n+1)=4.338408e-004; ng(n+1)=9.269440e+002;
n=9; farx(n+1)=5.414430e+002; foe(n+1)=7.172486e+002; krok(n+1)=1.374956e-004; ng(n+1)=1.931665e+003;
n=10; farx(n+1)=5.421213e+002; foe(n+1)=6.934538e+002; krok(n+1)=4.129136e-004; ng(n+1)=9.157860e+002;
n=11; farx(n+1)=4.737629e+002; foe(n+1)=6.676587e+002; krok(n+1)=1.313043e-004; ng(n+1)=1.924561e+003;
n=12; farx(n+1)=4.692109e+002; foe(n+1)=6.430418e+002; krok(n+1)=3.984182e-004; ng(n+1)=9.559990e+002;
n=13; farx(n+1)=4.084684e+002; foe(n+1)=6.167770e+002; krok(n+1)=1.247165e-004; ng(n+1)=1.978947e+003;
n=14; farx(n+1)=4.012685e+002; foe(n+1)=5.925873e+002; krok(n+1)=3.684136e-004; ng(n+1)=9.914529e+002;
n=15; farx(n+1)=3.502913e+002; foe(n+1)=5.675963e+002; krok(n+1)=1.176136e-004; ng(n+1)=1.953040e+003;
n=16; farx(n+1)=3.421822e+002; foe(n+1)=5.445561e+002; krok(n+1)=3.467612e-004; ng(n+1)=1.011532e+003;
n=17; farx(n+1)=2.996676e+002; foe(n+1)=5.209002e+002; krok(n+1)=1.089132e-004; ng(n+1)=1.951113e+003;
n=18; farx(n+1)=2.907450e+002; foe(n+1)=4.990073e+002; krok(n+1)=3.301872e-004; ng(n+1)=1.003425e+003;
n=19; farx(n+1)=2.557794e+002; foe(n+1)=4.773490e+002; krok(n+1)=1.007341e-004; ng(n+1)=1.922561e+003;
n=20; farx(n+1)=2.477779e+002; foe(n+1)=4.578509e+002; krok(n+1)=2.996980e-004; ng(n+1)=1.000477e+003;
n=21; farx(n+1)=2.195278e+002; foe(n+1)=4.388579e+002; krok(n+1)=9.290537e-005; ng(n+1)=1.870876e+003;
n=22; farx(n+1)=2.125214e+002; foe(n+1)=4.217429e+002; krok(n+1)=2.732662e-004; ng(n+1)=1.008296e+003;
n=23; farx(n+1)=1.896348e+002; foe(n+1)=4.051966e+002; krok(n+1)=8.459568e-005; ng(n+1)=1.826593e+003;
n=24; farx(n+1)=1.830000e+002; foe(n+1)=3.898148e+002; krok(n+1)=2.578785e-004; ng(n+1)=1.018512e+003;
n=25; farx(n+1)=1.641197e+002; foe(n+1)=3.753201e+002; krok(n+1)=7.697632e-005; ng(n+1)=1.800323e+003;
n=26; farx(n+1)=1.585178e+002; foe(n+1)=3.620988e+002; krok(n+1)=2.326282e-004; ng(n+1)=1.029184e+003;
n=27; farx(n+1)=1.430233e+002; foe(n+1)=3.497320e+002; krok(n+1)=7.022416e-005; ng(n+1)=1.754524e+003;
n=28; farx(n+1)=1.382975e+002; foe(n+1)=3.383444e+002; krok(n+1)=2.114007e-004; ng(n+1)=1.033042e+003;
n=29; farx(n+1)=1.254163e+002; foe(n+1)=3.276449e+002; krok(n+1)=6.352069e-005; ng(n+1)=1.722793e+003;
n=30; farx(n+1)=1.211471e+002; foe(n+1)=3.175135e+002; krok(n+1)=1.984325e-004; ng(n+1)=1.028006e+003;
n=31; farx(n+1)=1.103036e+002; foe(n+1)=3.080273e+002; krok(n+1)=5.665485e-005; ng(n+1)=1.725055e+003;
n=32; farx(n+1)=1.060771e+002; foe(n+1)=2.985914e+002; krok(n+1)=1.954789e-004; ng(n+1)=1.015439e+003;
n=33; farx(n+1)=9.669689e+001; foe(n+1)=2.898537e+002; krok(n+1)=5.039187e-005; ng(n+1)=1.786966e+003;
n=34; farx(n+1)=9.297872e+001; foe(n+1)=2.814241e+002; krok(n+1)=1.821736e-004; ng(n+1)=1.008298e+003;
n=35; farx(n+1)=8.502200e+001; foe(n+1)=2.735523e+002; krok(n+1)=4.461789e-005; ng(n+1)=1.814760e+003;
n=36; farx(n+1)=8.138463e+001; foe(n+1)=2.655522e+002; krok(n+1)=1.784716e-004; ng(n+1)=9.956543e+002;
n=37; farx(n+1)=7.450183e+001; foe(n+1)=2.582430e+002; krok(n+1)=3.955346e-005; ng(n+1)=1.876852e+003;
n=38; farx(n+1)=7.133707e+001; foe(n+1)=2.510117e+002; krok(n+1)=1.654388e-004; ng(n+1)=9.873588e+002;
n=39; farx(n+1)=6.544428e+001; foe(n+1)=2.443840e+002; krok(n+1)=3.546212e-005; ng(n+1)=1.910179e+003;
n=40; farx(n+1)=6.287667e+001; foe(n+1)=2.380250e+002; krok(n+1)=1.481961e-004; ng(n+1)=9.799914e+002;
n=41; farx(n+1)=5.786616e+001; foe(n+1)=2.321262e+002; krok(n+1)=3.214745e-005; ng(n+1)=1.910691e+003;
n=42; farx(n+1)=5.581287e+001; foe(n+1)=2.265303e+002; krok(n+1)=1.319295e-004; ng(n+1)=9.706106e+002;
n=43; farx(n+1)=5.155829e+001; foe(n+1)=2.213238e+002; krok(n+1)=2.942040e-005; ng(n+1)=1.889265e+003;
n=44; farx(n+1)=4.988105e+001; foe(n+1)=2.163369e+002; krok(n+1)=1.198705e-004; ng(n+1)=9.608530e+002;
n=45; farx(n+1)=4.621639e+001; foe(n+1)=2.116612e+002; krok(n+1)=2.713913e-005; ng(n+1)=1.875480e+003;
n=46; farx(n+1)=4.488714e+001; foe(n+1)=2.072552e+002; krok(n+1)=1.077049e-004; ng(n+1)=9.529337e+002;
n=47; farx(n+1)=4.175056e+001; foe(n+1)=2.031068e+002; krok(n+1)=2.519594e-005; ng(n+1)=1.837663e+003;
n=48; farx(n+1)=4.060745e+001; foe(n+1)=1.990751e+002; krok(n+1)=1.018184e-004; ng(n+1)=9.389188e+002;
n=49; farx(n+1)=3.785017e+001; foe(n+1)=1.952495e+002; krok(n+1)=2.352777e-005; ng(n+1)=1.832616e+003;
n=50; farx(n+1)=3.694716e+001; foe(n+1)=1.916740e+002; krok(n+1)=9.290537e-005; ng(n+1)=9.284290e+002;
n=51; farx(n+1)=3.455342e+001; foe(n+1)=1.882374e+002; krok(n+1)=2.219138e-005; ng(n+1)=1.791566e+003;
n=52; farx(n+1)=3.381818e+001; foe(n+1)=1.850163e+002; krok(n+1)=8.669030e-005; ng(n+1)=9.136312e+002;
n=53; farx(n+1)=3.172133e+001; foe(n+1)=1.818719e+002; krok(n+1)=2.092658e-005; ng(n+1)=1.763291e+003;
n=54; farx(n+1)=3.108205e+001; foe(n+1)=1.788819e+002; krok(n+1)=8.286257e-005; ng(n+1)=8.922611e+002;
n=55; farx(n+1)=2.923838e+001; foe(n+1)=1.759826e+002; krok(n+1)=1.977673e-005; ng(n+1)=1.744016e+003;
n=56; farx(n+1)=2.866613e+001; foe(n+1)=1.731722e+002; krok(n+1)=8.083878e-005; ng(n+1)=8.681304e+002;
n=57; farx(n+1)=2.702050e+001; foe(n+1)=1.704407e+002; krok(n+1)=1.877358e-005; ng(n+1)=1.747027e+003;
n=58; farx(n+1)=2.654650e+001; foe(n+1)=1.678642e+002; krok(n+1)=7.643808e-005; ng(n+1)=8.486482e+002;
n=59; farx(n+1)=2.509347e+001; foe(n+1)=1.653367e+002; krok(n+1)=1.788662e-005; ng(n+1)=1.729853e+003;
n=60; farx(n+1)=2.468203e+001; foe(n+1)=1.629244e+002; krok(n+1)=7.374374e-005; ng(n+1)=8.273561e+002;
n=61; farx(n+1)=2.338852e+001; foe(n+1)=1.605445e+002; krok(n+1)=1.700060e-005; ng(n+1)=1.729356e+003;
n=62; farx(n+1)=2.301142e+001; foe(n+1)=1.582356e+002; krok(n+1)=7.286215e-005; ng(n+1)=8.044925e+002;
n=63; farx(n+1)=2.184666e+001; foe(n+1)=1.559440e+002; krok(n+1)=1.611741e-005; ng(n+1)=1.747800e+003;
n=64; farx(n+1)=2.149449e+001; foe(n+1)=1.537120e+002; krok(n+1)=7.250092e-005; ng(n+1)=7.818010e+002;
n=65; farx(n+1)=2.043647e+001; foe(n+1)=1.514864e+002; krok(n+1)=1.535151e-005; ng(n+1)=1.772816e+003;
n=66; farx(n+1)=2.014529e+001; foe(n+1)=1.494145e+002; krok(n+1)=6.800238e-005; ng(n+1)=7.643473e+002;
n=67; farx(n+1)=1.920757e+001; foe(n+1)=1.473488e+002; krok(n+1)=1.468252e-005; ng(n+1)=1.751860e+003;
n=68; farx(n+1)=1.895492e+001; foe(n+1)=1.453890e+002; krok(n+1)=6.537935e-005; ng(n+1)=7.472256e+002;
n=69; farx(n+1)=1.810672e+001; foe(n+1)=1.434184e+002; krok(n+1)=1.404611e-005; ng(n+1)=1.755475e+003;
n=70; farx(n+1)=1.789852e+001; foe(n+1)=1.415924e+002; krok(n+1)=6.140602e-005; ng(n+1)=7.346021e+002;
n=71; farx(n+1)=1.713759e+001; foe(n+1)=1.397429e+002; krok(n+1)=1.342816e-005; ng(n+1)=1.742460e+003;
n=72; farx(n+1)=1.695049e+001; foe(n+1)=1.379871e+002; krok(n+1)=5.947814e-005; ng(n+1)=7.221011e+002;
n=73; farx(n+1)=1.625895e+001; foe(n+1)=1.362147e+002; krok(n+1)=1.277945e-005; ng(n+1)=1.751765e+003;
n=74; farx(n+1)=1.607699e+001; foe(n+1)=1.344800e+002; krok(n+1)=5.962617e-005; ng(n+1)=7.099375e+002;
n=75; farx(n+1)=1.543215e+001; foe(n+1)=1.327303e+002; krok(n+1)=1.222055e-005; ng(n+1)=1.791667e+003;
n=76; farx(n+1)=1.528737e+001; foe(n+1)=1.311226e+002; krok(n+1)=5.493831e-005; ng(n+1)=7.028549e+002;
n=77; farx(n+1)=1.470898e+001; foe(n+1)=1.295105e+002; krok(n+1)=1.171829e-005; ng(n+1)=1.759474e+003;
n=78; farx(n+1)=1.457474e+001; foe(n+1)=1.279432e+002; krok(n+1)=5.453877e-005; ng(n+1)=6.936922e+002;
n=79; farx(n+1)=1.403371e+001; foe(n+1)=1.263517e+002; krok(n+1)=1.115447e-005; ng(n+1)=1.796076e+003;
n=80; farx(n+1)=1.390159e+001; foe(n+1)=1.247929e+002; krok(n+1)=5.538211e-005; ng(n+1)=6.835588e+002;
n=81; farx(n+1)=1.339084e+001; foe(n+1)=1.231963e+002; krok(n+1)=1.057446e-005; ng(n+1)=1.849189e+003;
n=82; farx(n+1)=1.325032e+001; foe(n+1)=1.215954e+002; krok(n+1)=5.755042e-005; ng(n+1)=6.732353e+002;
n=83; farx(n+1)=1.276318e+001; foe(n+1)=1.199847e+002; krok(n+1)=1.008355e-005; ng(n+1)=1.908941e+003;
n=84; farx(n+1)=1.263818e+001; foe(n+1)=1.184372e+002; krok(n+1)=5.658127e-005; ng(n+1)=6.666766e+002;
n=85; farx(n+1)=1.218008e+001; foe(n+1)=1.168642e+002; krok(n+1)=9.657459e-006; ng(n+1)=1.934107e+003;
n=86; farx(n+1)=1.207111e+001; foe(n+1)=1.153729e+002; krok(n+1)=5.491616e-005; ng(n+1)=6.615812e+002;
n=87; farx(n+1)=1.164316e+001; foe(n+1)=1.138673e+002; krok(n+1)=9.290308e-006; ng(n+1)=1.935760e+003;
n=88; farx(n+1)=1.155078e+001; foe(n+1)=1.124365e+002; krok(n+1)=5.294446e-005; ng(n+1)=6.561363e+002;
n=89; farx(n+1)=1.115136e+001; foe(n+1)=1.110080e+002; krok(n+1)=8.960031e-006; ng(n+1)=1.925361e+003;
n=90; farx(n+1)=1.107054e+001; foe(n+1)=1.096172e+002; krok(n+1)=5.256405e-005; ng(n+1)=6.502628e+002;
n=91; farx(n+1)=1.068923e+001; foe(n+1)=1.082150e+002; krok(n+1)=8.632369e-006; ng(n+1)=1.947342e+003;
n=92; farx(n+1)=1.061617e+001; foe(n+1)=1.068447e+002; krok(n+1)=5.234435e-005; ng(n+1)=6.442847e+002;
n=93; farx(n+1)=1.025247e+001; foe(n+1)=1.054838e+002; krok(n+1)=8.364627e-006; ng(n+1)=1.955463e+003;
n=94; farx(n+1)=1.019434e+001; foe(n+1)=1.041725e+002; krok(n+1)=5.091085e-005; ng(n+1)=6.381458e+002;
n=95; farx(n+1)=9.848171e+000; foe(n+1)=1.028690e+002; krok(n+1)=8.151193e-006; ng(n+1)=1.946738e+003;
n=96; farx(n+1)=9.807083e+000; foe(n+1)=1.016354e+002; krok(n+1)=4.856864e-005; ng(n+1)=6.319142e+002;
n=97; farx(n+1)=9.480094e+000; foe(n+1)=1.004084e+002; krok(n+1)=7.969908e-006; ng(n+1)=1.916432e+003;
n=98; farx(n+1)=9.451244e+000; foe(n+1)=9.922780e+001; krok(n+1)=4.714982e-005; ng(n+1)=6.251225e+002;
n=99; farx(n+1)=9.139646e+000; foe(n+1)=9.806074e+001; krok(n+1)=7.803699e-006; ng(n+1)=1.894103e+003;
n=100; farx(n+1)=9.120538e+000; foe(n+1)=9.692043e+001; krok(n+1)=4.661880e-005; ng(n+1)=6.177226e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
