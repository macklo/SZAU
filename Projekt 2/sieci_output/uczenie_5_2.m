%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.895387e+003; foe(n+1)=4.836804e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.832643e+003; foe(n+1)=3.828756e+003; krok(n+1)=3.529670e-004; ng(n+1)=3.231963e+003;
n=2; farx(n+1)=8.007370e+002; foe(n+1)=9.945989e+002; krok(n+1)=2.346492e-003; ng(n+1)=2.283424e+003;
n=3; farx(n+1)=8.630432e+002; foe(n+1)=8.575370e+002; krok(n+1)=1.195353e-004; ng(n+1)=5.323823e+003;
n=4; farx(n+1)=1.022008e+003; foe(n+1)=7.986255e+002; krok(n+1)=3.716872e-004; ng(n+1)=4.507927e+003;
n=5; farx(n+1)=5.557781e+002; foe(n+1)=6.694853e+002; krok(n+1)=3.199545e-003; ng(n+1)=6.522819e+002;
n=6; farx(n+1)=1.144365e+002; foe(n+1)=4.151581e+002; krok(n+1)=3.201476e-003; ng(n+1)=3.283050e+003;
n=7; farx(n+1)=1.073789e+002; foe(n+1)=4.074673e+002; krok(n+1)=4.944182e-006; ng(n+1)=1.410573e+004;
n=8; farx(n+1)=1.081249e+002; foe(n+1)=3.977753e+002; krok(n+1)=4.957630e-004; ng(n+1)=1.546755e+004;
n=9; farx(n+1)=8.706867e+001; foe(n+1)=3.392003e+002; krok(n+1)=7.209870e-004; ng(n+1)=1.244591e+004;
n=10; farx(n+1)=7.893998e+001; foe(n+1)=3.289295e+002; krok(n+1)=9.012338e-005; ng(n+1)=9.024048e+003;
n=11; farx(n+1)=6.130277e+001; foe(n+1)=3.081561e+002; krok(n+1)=1.736749e-004; ng(n+1)=8.816206e+003;
n=12; farx(n+1)=5.683133e+001; foe(n+1)=2.874224e+002; krok(n+1)=2.881993e-004; ng(n+1)=5.060541e+003;
n=13; farx(n+1)=5.509158e+001; foe(n+1)=2.461359e+002; krok(n+1)=1.450018e-004; ng(n+1)=9.133894e+003;
n=14; farx(n+1)=6.940833e+001; foe(n+1)=1.952138e+002; krok(n+1)=2.849598e-003; ng(n+1)=1.414604e+004;
n=15; farx(n+1)=6.947410e+001; foe(n+1)=1.826674e+002; krok(n+1)=8.259539e-004; ng(n+1)=4.815113e+003;
n=16; farx(n+1)=6.838895e+001; foe(n+1)=1.662601e+002; krok(n+1)=1.548346e-003; ng(n+1)=4.366553e+003;
n=17; farx(n+1)=6.876465e+001; foe(n+1)=1.559652e+002; krok(n+1)=2.998733e-003; ng(n+1)=3.836242e+003;
n=18; farx(n+1)=6.786648e+001; foe(n+1)=1.510179e+002; krok(n+1)=2.075244e-003; ng(n+1)=2.636170e+003;
n=19; farx(n+1)=5.328063e+001; foe(n+1)=1.305393e+002; krok(n+1)=2.642647e-002; ng(n+1)=3.824113e+003;
n=20; farx(n+1)=4.553240e+001; foe(n+1)=1.112450e+002; krok(n+1)=1.048565e-002; ng(n+1)=1.288223e+003;
n=21; farx(n+1)=3.753638e+001; foe(n+1)=9.947051e+001; krok(n+1)=4.974973e-003; ng(n+1)=2.421918e+003;
n=22; farx(n+1)=3.526510e+001; foe(n+1)=9.587093e+001; krok(n+1)=4.653602e-003; ng(n+1)=3.270041e+003;
n=23; farx(n+1)=3.343091e+001; foe(n+1)=8.584370e+001; krok(n+1)=1.526430e-002; ng(n+1)=2.718074e+003;
n=24; farx(n+1)=3.166609e+001; foe(n+1)=8.465083e+001; krok(n+1)=1.748904e-002; ng(n+1)=2.017193e+003;
n=25; farx(n+1)=2.630355e+001; foe(n+1)=7.822969e+001; krok(n+1)=3.692409e-002; ng(n+1)=8.089937e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.612565e+001; foe(n+1)=7.650898e+001; krok(n+1)=6.866794e-006; ng(n+1)=2.345764e+003;
n=27; farx(n+1)=2.564504e+001; foe(n+1)=7.178483e+001; krok(n+1)=3.709122e-005; ng(n+1)=1.386073e+003;
n=28; farx(n+1)=2.342731e+001; foe(n+1)=6.389621e+001; krok(n+1)=2.825558e-004; ng(n+1)=6.910725e+002;
n=29; farx(n+1)=2.009204e+001; foe(n+1)=5.657862e+001; krok(n+1)=2.130718e-004; ng(n+1)=1.098590e+003;
n=30; farx(n+1)=1.992641e+001; foe(n+1)=5.330467e+001; krok(n+1)=3.467612e-004; ng(n+1)=2.753151e+003;
n=31; farx(n+1)=1.550856e+001; foe(n+1)=4.406823e+001; krok(n+1)=1.284363e-003; ng(n+1)=2.554789e+003;
n=32; farx(n+1)=1.230349e+001; foe(n+1)=3.536803e+001; krok(n+1)=1.441974e-003; ng(n+1)=9.436911e+002;
n=33; farx(n+1)=1.107560e+001; foe(n+1)=3.167037e+001; krok(n+1)=4.789093e-004; ng(n+1)=2.480212e+003;
n=34; farx(n+1)=1.032361e+001; foe(n+1)=2.998736e+001; krok(n+1)=7.876901e-003; ng(n+1)=1.164671e+003;
n=35; farx(n+1)=9.327255e+000; foe(n+1)=2.641950e+001; krok(n+1)=3.473809e-003; ng(n+1)=8.041473e+002;
n=36; farx(n+1)=9.122775e+000; foe(n+1)=2.398423e+001; krok(n+1)=3.363630e-003; ng(n+1)=1.179790e+003;
n=37; farx(n+1)=8.756706e+000; foe(n+1)=2.343236e+001; krok(n+1)=2.774090e-003; ng(n+1)=6.298713e+002;
n=38; farx(n+1)=8.218848e+000; foe(n+1)=2.254852e+001; krok(n+1)=7.859971e-003; ng(n+1)=6.812886e+002;
n=39; farx(n+1)=8.147681e+000; foe(n+1)=2.161602e+001; krok(n+1)=9.231023e-003; ng(n+1)=4.635082e+002;
n=40; farx(n+1)=6.521114e+000; foe(n+1)=1.864257e+001; krok(n+1)=3.658573e-002; ng(n+1)=7.235943e+002;
n=41; farx(n+1)=6.474963e+000; foe(n+1)=1.836762e+001; krok(n+1)=3.792736e-003; ng(n+1)=4.359857e+002;
n=42; farx(n+1)=5.909456e+000; foe(n+1)=1.744524e+001; krok(n+1)=4.679730e-002; ng(n+1)=5.037430e+002;
n=43; farx(n+1)=4.994445e+000; foe(n+1)=1.610880e+001; krok(n+1)=2.107682e-002; ng(n+1)=5.164395e+002;
n=44; farx(n+1)=4.655995e+000; foe(n+1)=1.506995e+001; krok(n+1)=1.843505e-002; ng(n+1)=5.583251e+002;
n=45; farx(n+1)=4.400673e+000; foe(n+1)=1.445305e+001; krok(n+1)=3.209254e-002; ng(n+1)=4.620011e+002;
n=46; farx(n+1)=3.983719e+000; foe(n+1)=1.239643e+001; krok(n+1)=1.381465e-001; ng(n+1)=9.113899e+002;
n=47; farx(n+1)=3.766416e+000; foe(n+1)=1.156745e+001; krok(n+1)=9.326940e-002; ng(n+1)=2.481078e+002;
n=48; farx(n+1)=3.726563e+000; foe(n+1)=1.121062e+001; krok(n+1)=3.320390e-002; ng(n+1)=2.662699e+002;
n=49; farx(n+1)=3.554641e+000; foe(n+1)=1.068809e+001; krok(n+1)=4.536903e-001; ng(n+1)=2.053507e+002;
n=50; farx(n+1)=3.319454e+000; foe(n+1)=1.026449e+001; krok(n+1)=3.167854e-001; ng(n+1)=4.179379e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.286865e+000; foe(n+1)=1.016538e+001; krok(n+1)=1.197513e-005; ng(n+1)=2.977009e+002;
n=52; farx(n+1)=3.270727e+000; foe(n+1)=1.011409e+001; krok(n+1)=2.769106e-005; ng(n+1)=1.622102e+002;
n=53; farx(n+1)=3.287010e+000; foe(n+1)=1.004658e+001; krok(n+1)=1.711903e-004; ng(n+1)=7.500900e+001;
n=54; farx(n+1)=3.216745e+000; foe(n+1)=9.574904e+000; krok(n+1)=5.911814e-004; ng(n+1)=1.113749e+002;
n=55; farx(n+1)=3.190158e+000; foe(n+1)=9.416915e+000; krok(n+1)=1.371344e-003; ng(n+1)=5.200898e+001;
n=56; farx(n+1)=2.990743e+000; foe(n+1)=8.872751e+000; krok(n+1)=1.037622e-003; ng(n+1)=9.679127e+001;
n=57; farx(n+1)=2.840365e+000; foe(n+1)=8.492315e+000; krok(n+1)=1.736904e-003; ng(n+1)=1.974125e+002;
n=58; farx(n+1)=2.736348e+000; foe(n+1)=8.106918e+000; krok(n+1)=8.674162e-003; ng(n+1)=4.800802e+002;
n=59; farx(n+1)=2.657193e+000; foe(n+1)=7.839787e+000; krok(n+1)=5.654998e-003; ng(n+1)=3.236011e+002;
n=60; farx(n+1)=2.650327e+000; foe(n+1)=7.694108e+000; krok(n+1)=4.312318e-003; ng(n+1)=1.486466e+002;
n=61; farx(n+1)=2.707605e+000; foe(n+1)=7.486505e+000; krok(n+1)=1.904910e-002; ng(n+1)=1.804753e+002;
n=62; farx(n+1)=2.572814e+000; foe(n+1)=7.080792e+000; krok(n+1)=2.331735e-002; ng(n+1)=1.055584e+002;
n=63; farx(n+1)=2.447355e+000; foe(n+1)=6.780851e+000; krok(n+1)=7.397815e-003; ng(n+1)=2.203372e+002;
n=64; farx(n+1)=2.345019e+000; foe(n+1)=6.668483e+000; krok(n+1)=3.334617e-003; ng(n+1)=1.987553e+002;
n=65; farx(n+1)=2.262257e+000; foe(n+1)=6.524986e+000; krok(n+1)=5.173682e-003; ng(n+1)=4.007303e+002;
n=66; farx(n+1)=2.213137e+000; foe(n+1)=6.420785e+000; krok(n+1)=1.785641e-002; ng(n+1)=2.195776e+002;
n=67; farx(n+1)=2.213165e+000; foe(n+1)=6.210453e+000; krok(n+1)=4.446078e-002; ng(n+1)=3.014739e+002;
n=68; farx(n+1)=2.224034e+000; foe(n+1)=6.026757e+000; krok(n+1)=7.931747e-002; ng(n+1)=1.518725e+002;
n=69; farx(n+1)=2.333566e+000; foe(n+1)=5.842881e+000; krok(n+1)=3.280985e-002; ng(n+1)=1.076520e+002;
n=70; farx(n+1)=2.360142e+000; foe(n+1)=5.782612e+000; krok(n+1)=4.614317e-002; ng(n+1)=2.105402e+002;
n=71; farx(n+1)=2.384544e+000; foe(n+1)=5.679406e+000; krok(n+1)=7.746648e-002; ng(n+1)=1.954756e+002;
n=72; farx(n+1)=2.369573e+000; foe(n+1)=5.549153e+000; krok(n+1)=1.530377e-001; ng(n+1)=8.317202e+001;
n=73; farx(n+1)=2.312121e+000; foe(n+1)=5.491753e+000; krok(n+1)=1.881412e-001; ng(n+1)=1.972719e+002;
n=74; farx(n+1)=2.314488e+000; foe(n+1)=5.400991e+000; krok(n+1)=1.500565e-001; ng(n+1)=5.486377e+001;
n=75; farx(n+1)=2.278801e+000; foe(n+1)=5.341946e+000; krok(n+1)=1.139041e-001; ng(n+1)=1.607946e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.276017e+000; foe(n+1)=5.321607e+000; krok(n+1)=1.700060e-005; ng(n+1)=1.408039e+002;
n=77; farx(n+1)=2.270384e+000; foe(n+1)=5.312625e+000; krok(n+1)=1.968224e-005; ng(n+1)=8.319074e+001;
n=78; farx(n+1)=2.265892e+000; foe(n+1)=5.303851e+000; krok(n+1)=1.990494e-005; ng(n+1)=8.904211e+001;
n=79; farx(n+1)=2.266345e+000; foe(n+1)=5.284609e+000; krok(n+1)=5.978895e-004; ng(n+1)=2.217380e+001;
n=80; farx(n+1)=2.267899e+000; foe(n+1)=5.234112e+000; krok(n+1)=1.174207e-003; ng(n+1)=2.740236e+001;
n=81; farx(n+1)=2.276284e+000; foe(n+1)=5.176035e+000; krok(n+1)=3.334617e-003; ng(n+1)=1.815569e+001;
n=82; farx(n+1)=2.291752e+000; foe(n+1)=5.066892e+000; krok(n+1)=7.321912e-003; ng(n+1)=3.145442e+001;
n=83; farx(n+1)=2.287050e+000; foe(n+1)=5.040869e+000; krok(n+1)=5.852382e-003; ng(n+1)=1.427472e+002;
n=84; farx(n+1)=2.259907e+000; foe(n+1)=4.999556e+000; krok(n+1)=7.442795e-003; ng(n+1)=2.200675e+002;
n=85; farx(n+1)=2.218273e+000; foe(n+1)=4.912395e+000; krok(n+1)=1.207035e-002; ng(n+1)=2.939537e+002;
n=86; farx(n+1)=2.177884e+000; foe(n+1)=4.868256e+000; krok(n+1)=1.378623e-002; ng(n+1)=2.406355e+002;
n=87; farx(n+1)=2.165798e+000; foe(n+1)=4.814972e+000; krok(n+1)=1.477175e-002; ng(n+1)=1.419709e+002;
n=88; farx(n+1)=2.087057e+000; foe(n+1)=4.747301e+000; krok(n+1)=3.678347e-002; ng(n+1)=2.315714e+002;
n=89; farx(n+1)=1.970567e+000; foe(n+1)=4.674434e+000; krok(n+1)=2.440235e-002; ng(n+1)=2.365903e+002;
n=90; farx(n+1)=1.877667e+000; foe(n+1)=4.613973e+000; krok(n+1)=2.502768e-002; ng(n+1)=2.547194e+002;
n=91; farx(n+1)=1.776190e+000; foe(n+1)=4.547062e+000; krok(n+1)=3.876686e-002; ng(n+1)=1.984754e+002;
n=92; farx(n+1)=1.653852e+000; foe(n+1)=4.460945e+000; krok(n+1)=2.043074e-002; ng(n+1)=3.298391e+002;
n=93; farx(n+1)=1.617745e+000; foe(n+1)=4.404508e+000; krok(n+1)=6.504518e-002; ng(n+1)=3.364623e+002;
n=94; farx(n+1)=1.472295e+000; foe(n+1)=4.296930e+000; krok(n+1)=9.963479e-002; ng(n+1)=3.881763e+002;
n=95; farx(n+1)=1.395079e+000; foe(n+1)=4.122885e+000; krok(n+1)=7.142563e-002; ng(n+1)=3.085462e+002;
n=96; farx(n+1)=1.416620e+000; foe(n+1)=4.011236e+000; krok(n+1)=1.513424e-001; ng(n+1)=2.325547e+002;
n=97; farx(n+1)=1.447927e+000; foe(n+1)=3.890633e+000; krok(n+1)=9.809225e-002; ng(n+1)=2.546372e+002;
n=98; farx(n+1)=1.493121e+000; foe(n+1)=3.723081e+000; krok(n+1)=1.472237e-001; ng(n+1)=2.108992e+002;
n=99; farx(n+1)=1.486344e+000; foe(n+1)=3.569039e+000; krok(n+1)=2.942678e-001; ng(n+1)=1.934484e+002;
n=100; farx(n+1)=1.475015e+000; foe(n+1)=3.370998e+000; krok(n+1)=2.340680e-001; ng(n+1)=3.143505e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
