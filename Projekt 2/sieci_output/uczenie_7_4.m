%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.749488e+003; foe(n+1)=4.574031e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.024731e+003; foe(n+1)=2.903769e+003; krok(n+1)=5.202484e-004; ng(n+1)=4.482388e+003;
n=2; farx(n+1)=9.948747e+002; foe(n+1)=8.234775e+002; krok(n+1)=3.146871e-003; ng(n+1)=2.155945e+003;
n=3; farx(n+1)=9.830834e+002; foe(n+1)=5.234808e+002; krok(n+1)=3.111125e-004; ng(n+1)=5.062104e+003;
n=4; farx(n+1)=1.074188e+003; foe(n+1)=4.838864e+002; krok(n+1)=1.078080e-003; ng(n+1)=2.167696e+003;
n=5; farx(n+1)=6.696358e+002; foe(n+1)=4.232602e+002; krok(n+1)=3.816075e-003; ng(n+1)=4.748679e+002;
n=6; farx(n+1)=3.025911e+002; foe(n+1)=3.188542e+002; krok(n+1)=8.510569e-003; ng(n+1)=1.489535e+003;
n=7; farx(n+1)=2.737877e+002; foe(n+1)=3.115008e+002; krok(n+1)=5.733303e-004; ng(n+1)=6.288621e+002;
n=8; farx(n+1)=2.762397e+002; foe(n+1)=3.095487e+002; krok(n+1)=1.508794e-003; ng(n+1)=5.099062e+002;
n=9; farx(n+1)=2.490483e+002; foe(n+1)=2.982652e+002; krok(n+1)=2.400181e-003; ng(n+1)=4.150687e+002;
n=10; farx(n+1)=2.235274e+002; foe(n+1)=2.849712e+002; krok(n+1)=9.661282e-003; ng(n+1)=3.385265e+002;
n=11; farx(n+1)=1.909404e+002; foe(n+1)=2.771123e+002; krok(n+1)=1.944813e-003; ng(n+1)=7.732148e+002;
n=12; farx(n+1)=1.743657e+002; foe(n+1)=2.668758e+002; krok(n+1)=5.457942e-003; ng(n+1)=3.878011e+002;
n=13; farx(n+1)=1.611098e+002; foe(n+1)=2.505009e+002; krok(n+1)=2.511123e-003; ng(n+1)=1.337806e+003;
n=14; farx(n+1)=1.577945e+002; foe(n+1)=2.461432e+002; krok(n+1)=4.770094e-004; ng(n+1)=1.984882e+003;
n=15; farx(n+1)=1.568789e+002; foe(n+1)=2.424765e+002; krok(n+1)=1.371344e-003; ng(n+1)=1.863717e+003;
n=16; farx(n+1)=1.340676e+002; foe(n+1)=2.352676e+002; krok(n+1)=3.806601e-003; ng(n+1)=1.367824e+003;
n=17; farx(n+1)=1.303359e+002; foe(n+1)=2.321373e+002; krok(n+1)=2.223715e-003; ng(n+1)=1.224595e+003;
n=18; farx(n+1)=1.140942e+002; foe(n+1)=2.262950e+002; krok(n+1)=3.818612e-003; ng(n+1)=1.249741e+003;
n=19; farx(n+1)=9.998354e+001; foe(n+1)=2.181192e+002; krok(n+1)=2.162140e-003; ng(n+1)=1.535903e+003;
n=20; farx(n+1)=9.617191e+001; foe(n+1)=2.159395e+002; krok(n+1)=9.659422e-003; ng(n+1)=1.505656e+003;
n=21; farx(n+1)=7.387653e+001; foe(n+1)=1.955444e+002; krok(n+1)=2.702970e-002; ng(n+1)=1.668321e+003;
n=22; farx(n+1)=3.952473e+001; foe(n+1)=1.693166e+002; krok(n+1)=1.287783e-002; ng(n+1)=5.068236e+002;
n=23; farx(n+1)=3.950580e+001; foe(n+1)=1.690847e+002; krok(n+1)=2.902993e-005; ng(n+1)=1.615091e+003;
n=24; farx(n+1)=2.995818e+001; foe(n+1)=1.520064e+002; krok(n+1)=3.085098e-002; ng(n+1)=1.339064e+003;
n=25; farx(n+1)=2.420090e+001; foe(n+1)=1.374846e+002; krok(n+1)=8.069310e-004; ng(n+1)=6.015800e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.475477e+001; foe(n+1)=1.319854e+002; krok(n+1)=3.021959e-006; ng(n+1)=6.411705e+003;
n=27; farx(n+1)=2.033189e+001; foe(n+1)=1.029016e+002; krok(n+1)=6.836820e-005; ng(n+1)=2.607751e+003;
n=28; farx(n+1)=1.903789e+001; foe(n+1)=9.018501e+001; krok(n+1)=3.748417e-004; ng(n+1)=1.520916e+003;
n=29; farx(n+1)=1.734998e+001; foe(n+1)=6.302524e+001; krok(n+1)=2.778542e-004; ng(n+1)=1.368968e+003;
n=30; farx(n+1)=1.526161e+001; foe(n+1)=5.336220e+001; krok(n+1)=5.322828e-004; ng(n+1)=4.097807e+003;
n=31; farx(n+1)=1.460381e+001; foe(n+1)=4.574162e+001; krok(n+1)=1.303603e-003; ng(n+1)=5.770750e+003;
n=32; farx(n+1)=1.167310e+001; foe(n+1)=3.904715e+001; krok(n+1)=3.303815e-003; ng(n+1)=1.002902e+003;
n=33; farx(n+1)=9.574937e+000; foe(n+1)=3.386872e+001; krok(n+1)=2.239224e-003; ng(n+1)=2.034811e+003;
n=34; farx(n+1)=7.874470e+000; foe(n+1)=3.011725e+001; krok(n+1)=3.253129e-003; ng(n+1)=1.019793e+003;
n=35; farx(n+1)=6.711853e+000; foe(n+1)=2.661891e+001; krok(n+1)=5.608324e-003; ng(n+1)=7.086709e+002;
n=36; farx(n+1)=6.084565e+000; foe(n+1)=2.371075e+001; krok(n+1)=8.806488e-003; ng(n+1)=4.991480e+002;
n=37; farx(n+1)=6.031180e+000; foe(n+1)=2.248540e+001; krok(n+1)=1.293420e-003; ng(n+1)=1.167437e+003;
n=38; farx(n+1)=5.785126e+000; foe(n+1)=2.105637e+001; krok(n+1)=3.349706e-003; ng(n+1)=1.055905e+003;
n=39; farx(n+1)=5.677929e+000; foe(n+1)=1.980944e+001; krok(n+1)=7.032104e-003; ng(n+1)=1.921075e+003;
n=40; farx(n+1)=5.246949e+000; foe(n+1)=1.596543e+001; krok(n+1)=1.785858e-002; ng(n+1)=1.968733e+003;
n=41; farx(n+1)=4.549679e+000; foe(n+1)=1.286497e+001; krok(n+1)=7.737158e-003; ng(n+1)=1.341377e+003;
n=42; farx(n+1)=5.092032e+000; foe(n+1)=1.099905e+001; krok(n+1)=9.904093e-003; ng(n+1)=1.678359e+003;
n=43; farx(n+1)=4.935467e+000; foe(n+1)=1.051530e+001; krok(n+1)=6.947618e-003; ng(n+1)=7.989880e+002;
n=44; farx(n+1)=4.603379e+000; foe(n+1)=1.014555e+001; krok(n+1)=2.128042e-002; ng(n+1)=3.412754e+002;
n=45; farx(n+1)=4.501386e+000; foe(n+1)=9.590930e+000; krok(n+1)=4.086147e-002; ng(n+1)=2.713369e+002;
n=46; farx(n+1)=4.020269e+000; foe(n+1)=9.039160e+000; krok(n+1)=2.497713e-002; ng(n+1)=4.040547e+002;
n=47; farx(n+1)=3.610963e+000; foe(n+1)=8.425984e+000; krok(n+1)=3.043820e-002; ng(n+1)=6.349470e+002;
n=48; farx(n+1)=2.729535e+000; foe(n+1)=7.151310e+000; krok(n+1)=1.328156e-001; ng(n+1)=5.930642e+002;
n=49; farx(n+1)=2.505393e+000; foe(n+1)=5.865746e+000; krok(n+1)=6.504518e-002; ng(n+1)=4.684521e+002;
n=50; farx(n+1)=2.324740e+000; foe(n+1)=5.355649e+000; krok(n+1)=9.091272e-002; ng(n+1)=2.454105e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=2.275684e+000; foe(n+1)=4.996653e+000; krok(n+1)=1.245057e-005; ng(n+1)=7.304454e+002;
n=52; farx(n+1)=2.259750e+000; foe(n+1)=4.897272e+000; krok(n+1)=3.014162e-005; ng(n+1)=2.092624e+002;
n=53; farx(n+1)=2.206786e+000; foe(n+1)=4.784588e+000; krok(n+1)=3.192302e-004; ng(n+1)=8.003037e+001;
n=54; farx(n+1)=2.185708e+000; foe(n+1)=4.637450e+000; krok(n+1)=3.229906e-004; ng(n+1)=9.200660e+001;
n=55; farx(n+1)=2.134379e+000; foe(n+1)=4.562705e+000; krok(n+1)=1.830478e-003; ng(n+1)=3.842663e+001;
n=56; farx(n+1)=2.043168e+000; foe(n+1)=4.290411e+000; krok(n+1)=3.765398e-003; ng(n+1)=3.977384e+001;
n=57; farx(n+1)=1.981033e+000; foe(n+1)=4.136812e+000; krok(n+1)=7.809264e-003; ng(n+1)=8.165846e+001;
n=58; farx(n+1)=1.959299e+000; foe(n+1)=4.044374e+000; krok(n+1)=4.952046e-003; ng(n+1)=1.690326e+002;
n=59; farx(n+1)=1.975682e+000; foe(n+1)=3.982695e+000; krok(n+1)=1.226153e-002; ng(n+1)=6.453229e+001;
n=60; farx(n+1)=1.969566e+000; foe(n+1)=3.793765e+000; krok(n+1)=1.740861e-002; ng(n+1)=4.416787e+001;
n=61; farx(n+1)=1.969228e+000; foe(n+1)=3.651063e+000; krok(n+1)=1.007731e-002; ng(n+1)=1.760038e+002;
n=62; farx(n+1)=1.936008e+000; foe(n+1)=3.487421e+000; krok(n+1)=1.650507e-002; ng(n+1)=2.152578e+002;
n=63; farx(n+1)=2.002042e+000; foe(n+1)=3.410681e+000; krok(n+1)=3.854743e-002; ng(n+1)=5.704811e+001;
n=64; farx(n+1)=1.943147e+000; foe(n+1)=3.183222e+000; krok(n+1)=7.157273e-002; ng(n+1)=1.288936e+002;
n=65; farx(n+1)=1.950999e+000; foe(n+1)=3.120849e+000; krok(n+1)=5.022246e-003; ng(n+1)=3.280724e+002;
n=66; farx(n+1)=1.925483e+000; foe(n+1)=3.057485e+000; krok(n+1)=4.194258e-002; ng(n+1)=1.851094e+002;
n=67; farx(n+1)=1.919789e+000; foe(n+1)=2.887797e+000; krok(n+1)=6.563449e-002; ng(n+1)=2.110131e+002;
n=68; farx(n+1)=1.893521e+000; foe(n+1)=2.835669e+000; krok(n+1)=3.085256e-002; ng(n+1)=1.742322e+002;
n=69; farx(n+1)=1.840861e+000; foe(n+1)=2.681959e+000; krok(n+1)=5.184392e-002; ng(n+1)=1.805962e+002;
n=70; farx(n+1)=1.758502e+000; foe(n+1)=2.534695e+000; krok(n+1)=6.402713e-002; ng(n+1)=1.089437e+002;
n=71; farx(n+1)=1.708177e+000; foe(n+1)=2.480983e+000; krok(n+1)=2.284436e-002; ng(n+1)=9.651605e+001;
n=72; farx(n+1)=1.543275e+000; foe(n+1)=2.220825e+000; krok(n+1)=7.045190e-002; ng(n+1)=1.784903e+002;
n=73; farx(n+1)=1.499121e+000; foe(n+1)=2.141885e+000; krok(n+1)=3.758985e-002; ng(n+1)=2.250676e+002;
n=74; farx(n+1)=1.440351e+000; foe(n+1)=2.011529e+000; krok(n+1)=4.544795e-002; ng(n+1)=1.182255e+002;
n=75; farx(n+1)=1.383691e+000; foe(n+1)=1.902940e+000; krok(n+1)=6.817447e-002; ng(n+1)=1.945703e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.384337e+000; foe(n+1)=1.880881e+000; krok(n+1)=4.627356e-006; ng(n+1)=2.498875e+002;
n=77; farx(n+1)=1.386528e+000; foe(n+1)=1.834557e+000; krok(n+1)=3.534472e-004; ng(n+1)=4.890198e+001;
n=78; farx(n+1)=1.387310e+000; foe(n+1)=1.821815e+000; krok(n+1)=1.558957e-005; ng(n+1)=1.107377e+002;
n=79; farx(n+1)=1.382247e+000; foe(n+1)=1.787863e+000; krok(n+1)=9.108340e-005; ng(n+1)=8.125978e+001;
n=80; farx(n+1)=1.385416e+000; foe(n+1)=1.720977e+000; krok(n+1)=8.336543e-004; ng(n+1)=4.743694e+001;
n=81; farx(n+1)=1.383209e+000; foe(n+1)=1.702911e+000; krok(n+1)=2.013418e-003; ng(n+1)=5.440919e+001;
n=82; farx(n+1)=1.389646e+000; foe(n+1)=1.673549e+000; krok(n+1)=1.505777e-003; ng(n+1)=5.975073e+001;
n=83; farx(n+1)=1.383732e+000; foe(n+1)=1.639697e+000; krok(n+1)=9.175071e-003; ng(n+1)=5.597950e+001;
n=84; farx(n+1)=1.368161e+000; foe(n+1)=1.618539e+000; krok(n+1)=7.821513e-003; ng(n+1)=7.389155e+001;
n=85; farx(n+1)=1.331047e+000; foe(n+1)=1.574885e+000; krok(n+1)=2.362755e-002; ng(n+1)=1.126070e+002;
n=86; farx(n+1)=1.336003e+000; foe(n+1)=1.560600e+000; krok(n+1)=7.144846e-003; ng(n+1)=4.990374e+001;
n=87; farx(n+1)=1.319013e+000; foe(n+1)=1.536542e+000; krok(n+1)=2.592196e-002; ng(n+1)=8.127872e+001;
n=88; farx(n+1)=1.301817e+000; foe(n+1)=1.500007e+000; krok(n+1)=4.834060e-002; ng(n+1)=2.344506e+002;
n=89; farx(n+1)=1.293598e+000; foe(n+1)=1.470679e+000; krok(n+1)=4.523999e-002; ng(n+1)=3.230719e+002;
n=90; farx(n+1)=1.256287e+000; foe(n+1)=1.391145e+000; krok(n+1)=9.137743e-002; ng(n+1)=3.081191e+002;
n=91; farx(n+1)=1.212337e+000; foe(n+1)=1.341191e+000; krok(n+1)=4.446078e-002; ng(n+1)=2.398787e+002;
n=92; farx(n+1)=1.192594e+000; foe(n+1)=1.311566e+000; krok(n+1)=7.689657e-002; ng(n+1)=4.111588e+001;
n=93; farx(n+1)=1.188475e+000; foe(n+1)=1.303615e+000; krok(n+1)=1.779884e-002; ng(n+1)=1.178470e+002;
n=94; farx(n+1)=1.194815e+000; foe(n+1)=1.279374e+000; krok(n+1)=1.079418e-001; ng(n+1)=1.547968e+002;
n=95; farx(n+1)=1.152116e+000; foe(n+1)=1.182600e+000; krok(n+1)=4.188592e-001; ng(n+1)=1.151760e+002;
n=96; farx(n+1)=1.146821e+000; foe(n+1)=1.162056e+000; krok(n+1)=6.189726e-002; ng(n+1)=1.896508e+002;
n=97; farx(n+1)=1.152007e+000; foe(n+1)=1.129596e+000; krok(n+1)=2.093785e-001; ng(n+1)=9.686571e+001;
n=98; farx(n+1)=1.164456e+000; foe(n+1)=1.106361e+000; krok(n+1)=4.953895e-002; ng(n+1)=1.985135e+002;
n=99; farx(n+1)=1.156786e+000; foe(n+1)=1.084317e+000; krok(n+1)=1.091672e-001; ng(n+1)=8.810974e+001;
n=100; farx(n+1)=1.140709e+000; foe(n+1)=1.072131e+000; krok(n+1)=6.458581e-002; ng(n+1)=1.261432e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
