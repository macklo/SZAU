%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.035875e+003; foe(n+1)=3.962868e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.864163e+003; foe(n+1)=2.913494e+003; krok(n+1)=4.981850e-004; ng(n+1)=3.555136e+003;
n=2; farx(n+1)=1.242860e+003; foe(n+1)=9.696138e+002; krok(n+1)=3.141811e-003; ng(n+1)=2.158326e+003;
n=3; farx(n+1)=1.428870e+003; foe(n+1)=5.671533e+002; krok(n+1)=3.716872e-004; ng(n+1)=6.317234e+003;
n=4; farx(n+1)=1.682232e+003; foe(n+1)=5.079980e+002; krok(n+1)=9.562822e-004; ng(n+1)=2.947400e+003;
n=5; farx(n+1)=1.152377e+003; foe(n+1)=4.506572e+002; krok(n+1)=3.915058e-003; ng(n+1)=5.554572e+002;
n=6; farx(n+1)=9.273669e+002; foe(n+1)=4.145170e+002; krok(n+1)=5.485375e-003; ng(n+1)=1.433606e+003;
n=7; farx(n+1)=8.902443e+002; foe(n+1)=4.090149e+002; krok(n+1)=3.523348e-004; ng(n+1)=1.970123e+003;
n=8; farx(n+1)=5.663404e+002; foe(n+1)=3.585735e+002; krok(n+1)=2.013418e-003; ng(n+1)=1.945154e+003;
n=9; farx(n+1)=5.002468e+002; foe(n+1)=3.508137e+002; krok(n+1)=1.207660e-003; ng(n+1)=1.395002e+003;
n=10; farx(n+1)=3.691926e+002; foe(n+1)=3.308899e+002; krok(n+1)=2.117616e-002; ng(n+1)=6.703641e+002;
n=11; farx(n+1)=3.009557e+002; foe(n+1)=3.098870e+002; krok(n+1)=2.774090e-003; ng(n+1)=8.079120e+002;
n=12; farx(n+1)=2.970363e+002; foe(n+1)=2.961140e+002; krok(n+1)=1.265711e-003; ng(n+1)=8.045941e+002;
n=13; farx(n+1)=2.800766e+002; foe(n+1)=2.748565e+002; krok(n+1)=3.915058e-003; ng(n+1)=7.328969e+002;
n=14; farx(n+1)=2.694556e+002; foe(n+1)=2.723636e+002; krok(n+1)=5.053235e-004; ng(n+1)=6.919171e+002;
n=15; farx(n+1)=2.492953e+002; foe(n+1)=2.646421e+002; krok(n+1)=1.279942e-003; ng(n+1)=1.870832e+003;
n=16; farx(n+1)=2.412915e+002; foe(n+1)=2.514760e+002; krok(n+1)=1.869974e-003; ng(n+1)=3.748160e+003;
n=17; farx(n+1)=2.390540e+002; foe(n+1)=2.499928e+002; krok(n+1)=2.456358e-004; ng(n+1)=1.249366e+003;
n=18; farx(n+1)=2.198988e+002; foe(n+1)=2.352349e+002; krok(n+1)=8.009570e-003; ng(n+1)=3.033621e+003;
n=19; farx(n+1)=1.714111e+002; foe(n+1)=2.049253e+002; krok(n+1)=1.564440e-002; ng(n+1)=2.141053e+003;
n=20; farx(n+1)=1.651727e+002; foe(n+1)=2.016042e+002; krok(n+1)=1.086130e-004; ng(n+1)=5.788147e+003;
n=21; farx(n+1)=1.612414e+002; foe(n+1)=1.916224e+002; krok(n+1)=6.099924e-003; ng(n+1)=5.080516e+003;
n=22; farx(n+1)=1.630453e+002; foe(n+1)=1.888287e+002; krok(n+1)=4.630782e-004; ng(n+1)=3.106749e+003;
n=23; farx(n+1)=1.561946e+002; foe(n+1)=1.835400e+002; krok(n+1)=1.033570e-002; ng(n+1)=1.442516e+003;
n=24; farx(n+1)=1.445050e+002; foe(n+1)=1.730772e+002; krok(n+1)=1.450364e-002; ng(n+1)=2.158476e+003;
n=25; farx(n+1)=1.413794e+002; foe(n+1)=1.701286e+002; krok(n+1)=8.989595e-004; ng(n+1)=3.009155e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.411422e+002; foe(n+1)=1.695254e+002; krok(n+1)=5.356044e-006; ng(n+1)=1.399858e+003;
n=27; farx(n+1)=1.408264e+002; foe(n+1)=1.650428e+002; krok(n+1)=8.029770e-005; ng(n+1)=9.787265e+002;
n=28; farx(n+1)=1.329696e+002; foe(n+1)=1.460528e+002; krok(n+1)=1.291963e-003; ng(n+1)=6.020735e+002;
n=29; farx(n+1)=1.285008e+002; foe(n+1)=1.443040e+002; krok(n+1)=1.912125e-004; ng(n+1)=4.353821e+003;
n=30; farx(n+1)=1.115923e+002; foe(n+1)=1.329742e+002; krok(n+1)=9.615395e-004; ng(n+1)=5.454425e+003;
n=31; farx(n+1)=1.102619e+002; foe(n+1)=1.250688e+002; krok(n+1)=1.402081e-003; ng(n+1)=2.459770e+003;
n=32; farx(n+1)=1.022011e+002; foe(n+1)=1.014414e+002; krok(n+1)=3.033479e-004; ng(n+1)=2.066166e+003;
n=33; farx(n+1)=1.017319e+002; foe(n+1)=1.008661e+002; krok(n+1)=2.170937e-005; ng(n+1)=4.168516e+003;
n=34; farx(n+1)=1.008487e+002; foe(n+1)=9.692516e+001; krok(n+1)=1.260218e-004; ng(n+1)=3.195379e+003;
n=35; farx(n+1)=9.016930e+001; foe(n+1)=9.457802e+001; krok(n+1)=2.983603e-003; ng(n+1)=6.061872e+003;
n=36; farx(n+1)=7.918744e+001; foe(n+1)=9.076259e+001; krok(n+1)=9.749430e-004; ng(n+1)=7.203239e+003;
n=37; farx(n+1)=6.441911e+001; foe(n+1)=8.343346e+001; krok(n+1)=1.137064e-003; ng(n+1)=1.137842e+004;
n=38; farx(n+1)=5.356183e+001; foe(n+1)=7.496920e+001; krok(n+1)=1.055362e-003; ng(n+1)=1.133410e+004;
n=39; farx(n+1)=4.323699e+001; foe(n+1)=6.876583e+001; krok(n+1)=3.349706e-003; ng(n+1)=3.590071e+003;
n=40; farx(n+1)=3.224861e+001; foe(n+1)=6.242755e+001; krok(n+1)=3.907882e-003; ng(n+1)=3.484111e+003;
n=41; farx(n+1)=2.183992e+001; foe(n+1)=5.566447e+001; krok(n+1)=6.293742e-003; ng(n+1)=2.143662e+003;
n=42; farx(n+1)=1.416379e+001; foe(n+1)=5.094084e+001; krok(n+1)=5.172508e-003; ng(n+1)=1.649011e+003;
n=43; farx(n+1)=1.043975e+001; foe(n+1)=4.677462e+001; krok(n+1)=1.012568e-002; ng(n+1)=1.444392e+003;
n=44; farx(n+1)=7.370753e+000; foe(n+1)=4.023604e+001; krok(n+1)=9.454744e-003; ng(n+1)=1.139925e+003;
n=45; farx(n+1)=7.021108e+000; foe(n+1)=3.870107e+001; krok(n+1)=1.635770e-003; ng(n+1)=2.385726e+003;
n=46; farx(n+1)=7.092769e+000; foe(n+1)=3.834009e+001; krok(n+1)=1.329544e-003; ng(n+1)=2.543190e+003;
n=47; farx(n+1)=7.301198e+000; foe(n+1)=3.519453e+001; krok(n+1)=1.199953e-002; ng(n+1)=2.381186e+003;
n=48; farx(n+1)=5.589784e+000; foe(n+1)=2.968793e+001; krok(n+1)=2.254527e-002; ng(n+1)=2.708394e+003;
n=49; farx(n+1)=5.173902e+000; foe(n+1)=2.493051e+001; krok(n+1)=1.450364e-002; ng(n+1)=2.876630e+003;
n=50; farx(n+1)=5.069364e+000; foe(n+1)=2.351419e+001; krok(n+1)=9.955600e-003; ng(n+1)=1.755934e+003;
%odnowa zmiennej metryki
n=51; farx(n+1)=4.436056e+000; foe(n+1)=2.133215e+001; krok(n+1)=3.345851e-005; ng(n+1)=1.134473e+003;
n=52; farx(n+1)=4.375335e+000; foe(n+1)=2.068492e+001; krok(n+1)=2.832743e-005; ng(n+1)=5.659462e+002;
n=53; farx(n+1)=3.883472e+000; foe(n+1)=1.653624e+001; krok(n+1)=4.430569e-004; ng(n+1)=4.007214e+002;
n=54; farx(n+1)=3.439982e+000; foe(n+1)=1.437277e+001; krok(n+1)=2.509069e-004; ng(n+1)=4.527152e+002;
n=55; farx(n+1)=3.104108e+000; foe(n+1)=1.137612e+001; krok(n+1)=1.369522e-003; ng(n+1)=3.028260e+002;
n=56; farx(n+1)=3.011108e+000; foe(n+1)=9.814866e+000; krok(n+1)=1.499941e-003; ng(n+1)=3.357782e+002;
n=57; farx(n+1)=2.900027e+000; foe(n+1)=8.579502e+000; krok(n+1)=5.000456e-003; ng(n+1)=6.639261e+002;
n=58; farx(n+1)=2.696468e+000; foe(n+1)=7.418910e+000; krok(n+1)=1.420161e-002; ng(n+1)=5.553307e+002;
n=59; farx(n+1)=2.439557e+000; foe(n+1)=6.742317e+000; krok(n+1)=6.374691e-003; ng(n+1)=3.346679e+002;
n=60; farx(n+1)=2.409203e+000; foe(n+1)=6.471725e+000; krok(n+1)=5.915528e-003; ng(n+1)=3.335609e+002;
n=61; farx(n+1)=2.412161e+000; foe(n+1)=6.084721e+000; krok(n+1)=6.947618e-003; ng(n+1)=4.337339e+002;
n=62; farx(n+1)=2.423269e+000; foe(n+1)=5.952974e+000; krok(n+1)=6.951230e-003; ng(n+1)=3.315161e+002;
n=63; farx(n+1)=2.273014e+000; foe(n+1)=5.641221e+000; krok(n+1)=1.366559e-002; ng(n+1)=2.606405e+002;
n=64; farx(n+1)=2.145015e+000; foe(n+1)=5.144710e+000; krok(n+1)=1.705843e-002; ng(n+1)=5.451798e+002;
n=65; farx(n+1)=2.117174e+000; foe(n+1)=5.043952e+000; krok(n+1)=4.038010e-003; ng(n+1)=4.093964e+002;
n=66; farx(n+1)=2.048814e+000; foe(n+1)=4.874154e+000; krok(n+1)=2.440235e-002; ng(n+1)=3.460645e+002;
n=67; farx(n+1)=2.018704e+000; foe(n+1)=4.807030e+000; krok(n+1)=8.252113e-003; ng(n+1)=1.662340e+002;
n=68; farx(n+1)=1.916333e+000; foe(n+1)=4.542353e+000; krok(n+1)=6.826594e-002; ng(n+1)=1.449282e+002;
n=69; farx(n+1)=1.904189e+000; foe(n+1)=4.460720e+000; krok(n+1)=1.517118e-002; ng(n+1)=1.409966e+002;
n=70; farx(n+1)=1.903345e+000; foe(n+1)=4.219984e+000; krok(n+1)=6.814773e-002; ng(n+1)=1.827548e+002;
n=71; farx(n+1)=1.931157e+000; foe(n+1)=3.999997e+000; krok(n+1)=4.109961e-002; ng(n+1)=3.856380e+002;
n=72; farx(n+1)=1.906611e+000; foe(n+1)=3.861555e+000; krok(n+1)=3.052860e-002; ng(n+1)=2.276590e+002;
n=73; farx(n+1)=1.931297e+000; foe(n+1)=3.674824e+000; krok(n+1)=7.882375e-002; ng(n+1)=2.788522e+002;
n=74; farx(n+1)=1.918104e+000; foe(n+1)=3.548867e+000; krok(n+1)=3.413625e-002; ng(n+1)=8.378792e+001;
n=75; farx(n+1)=1.940075e+000; foe(n+1)=3.305735e+000; krok(n+1)=3.202323e-001; ng(n+1)=1.766142e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.938356e+000; foe(n+1)=3.272519e+000; krok(n+1)=9.041389e-006; ng(n+1)=2.058322e+002;
n=77; farx(n+1)=1.939506e+000; foe(n+1)=3.262900e+000; krok(n+1)=2.067984e-005; ng(n+1)=9.284243e+001;
n=78; farx(n+1)=1.947897e+000; foe(n+1)=3.241398e+000; krok(n+1)=1.278270e-004; ng(n+1)=6.464734e+001;
n=79; farx(n+1)=1.929263e+000; foe(n+1)=3.209197e+000; krok(n+1)=4.494798e-004; ng(n+1)=4.227747e+001;
n=80; farx(n+1)=1.918855e+000; foe(n+1)=3.191812e+000; krok(n+1)=6.510435e-004; ng(n+1)=2.327402e+001;
n=81; farx(n+1)=1.895722e+000; foe(n+1)=3.172103e+000; krok(n+1)=3.141811e-003; ng(n+1)=1.632272e+001;
n=82; farx(n+1)=1.864345e+000; foe(n+1)=3.127531e+000; krok(n+1)=7.632150e-003; ng(n+1)=2.807079e+001;
n=83; farx(n+1)=1.758299e+000; foe(n+1)=3.023270e+000; krok(n+1)=1.725161e-002; ng(n+1)=7.714448e+001;
n=84; farx(n+1)=1.650565e+000; foe(n+1)=2.916010e+000; krok(n+1)=1.251384e-002; ng(n+1)=1.757675e+002;
n=85; farx(n+1)=1.621726e+000; foe(n+1)=2.885663e+000; krok(n+1)=3.890421e-003; ng(n+1)=1.929207e+002;
n=86; farx(n+1)=1.592437e+000; foe(n+1)=2.836022e+000; krok(n+1)=5.000456e-003; ng(n+1)=1.406772e+002;
n=87; farx(n+1)=1.562694e+000; foe(n+1)=2.774510e+000; krok(n+1)=9.100900e-003; ng(n+1)=1.271725e+002;
n=88; farx(n+1)=1.525762e+000; foe(n+1)=2.697819e+000; krok(n+1)=3.252259e-002; ng(n+1)=1.274652e+002;
n=89; farx(n+1)=1.504542e+000; foe(n+1)=2.652632e+000; krok(n+1)=7.444102e-003; ng(n+1)=8.935537e+001;
n=90; farx(n+1)=1.467075e+000; foe(n+1)=2.588877e+000; krok(n+1)=1.964862e-002; ng(n+1)=1.347055e+002;
n=91; farx(n+1)=1.448004e+000; foe(n+1)=2.546360e+000; krok(n+1)=3.222183e-002; ng(n+1)=1.204107e+002;
n=92; farx(n+1)=1.440701e+000; foe(n+1)=2.512851e+000; krok(n+1)=1.340015e-002; ng(n+1)=3.680897e+002;
n=93; farx(n+1)=1.453451e+000; foe(n+1)=2.472782e+000; krok(n+1)=1.955649e-002; ng(n+1)=2.735229e+002;
n=94; farx(n+1)=1.471954e+000; foe(n+1)=2.412198e+000; krok(n+1)=5.671128e-002; ng(n+1)=1.476199e+002;
n=95; farx(n+1)=1.494755e+000; foe(n+1)=2.301547e+000; krok(n+1)=4.446078e-002; ng(n+1)=3.202295e+002;
n=96; farx(n+1)=1.516986e+000; foe(n+1)=2.240558e+000; krok(n+1)=3.715822e-002; ng(n+1)=1.637517e+002;
n=97; farx(n+1)=1.526639e+000; foe(n+1)=2.138761e+000; krok(n+1)=8.732707e-002; ng(n+1)=1.997894e+002;
n=98; farx(n+1)=1.518288e+000; foe(n+1)=1.963035e+000; krok(n+1)=8.877087e-002; ng(n+1)=3.814858e+002;
n=99; farx(n+1)=1.521845e+000; foe(n+1)=1.902729e+000; krok(n+1)=8.100548e-002; ng(n+1)=2.523317e+002;
n=100; farx(n+1)=1.537830e+000; foe(n+1)=1.857628e+000; krok(n+1)=5.576964e-002; ng(n+1)=2.848920e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
