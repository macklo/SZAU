%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.882395e+003; foe(n+1)=4.804776e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.888092e+003; foe(n+1)=3.808365e+003; krok(n+1)=3.467612e-004; ng(n+1)=4.538482e+003;
n=2; farx(n+1)=1.170355e+003; foe(n+1)=9.271465e+002; krok(n+1)=2.378319e-003; ng(n+1)=2.828445e+003;
n=3; farx(n+1)=1.333218e+003; foe(n+1)=8.124303e+002; krok(n+1)=2.215284e-004; ng(n+1)=4.327297e+003;
n=4; farx(n+1)=1.052782e+003; foe(n+1)=7.035309e+002; krok(n+1)=3.059399e-003; ng(n+1)=1.077520e+003;
n=5; farx(n+1)=6.795379e+002; foe(n+1)=6.251548e+002; krok(n+1)=2.563847e-004; ng(n+1)=3.582429e+003;
n=6; farx(n+1)=2.039077e+002; foe(n+1)=3.506931e+002; krok(n+1)=2.742688e-003; ng(n+1)=5.544065e+003;
n=7; farx(n+1)=1.857925e+002; foe(n+1)=3.398255e+002; krok(n+1)=2.215284e-004; ng(n+1)=3.455535e+003;
n=8; farx(n+1)=1.777941e+002; foe(n+1)=3.360955e+002; krok(n+1)=4.748903e-004; ng(n+1)=1.877390e+003;
n=9; farx(n+1)=1.890847e+002; foe(n+1)=3.190835e+002; krok(n+1)=2.621411e-003; ng(n+1)=2.099182e+003;
n=10; farx(n+1)=1.818902e+002; foe(n+1)=3.102454e+002; krok(n+1)=2.366515e-003; ng(n+1)=5.321114e+002;
n=11; farx(n+1)=1.407795e+002; foe(n+1)=2.877362e+002; krok(n+1)=9.064776e-004; ng(n+1)=1.962962e+003;
n=12; farx(n+1)=1.081974e+002; foe(n+1)=2.736695e+002; krok(n+1)=2.400073e-004; ng(n+1)=2.238192e+003;
n=13; farx(n+1)=7.142200e+001; foe(n+1)=2.548671e+002; krok(n+1)=2.417862e-004; ng(n+1)=3.200554e+003;
n=14; farx(n+1)=6.761514e+001; foe(n+1)=2.525851e+002; krok(n+1)=5.600465e-005; ng(n+1)=4.163967e+003;
n=15; farx(n+1)=4.427413e+001; foe(n+1)=2.366396e+002; krok(n+1)=1.441974e-003; ng(n+1)=4.303308e+003;
n=16; farx(n+1)=3.964735e+001; foe(n+1)=2.298100e+002; krok(n+1)=6.038301e-004; ng(n+1)=7.323137e+003;
n=17; farx(n+1)=3.172758e+001; foe(n+1)=2.196847e+002; krok(n+1)=9.289576e-004; ng(n+1)=9.741290e+003;
n=18; farx(n+1)=2.984399e+001; foe(n+1)=2.180502e+002; krok(n+1)=1.655312e-004; ng(n+1)=1.237739e+004;
n=19; farx(n+1)=2.672704e+001; foe(n+1)=2.146120e+002; krok(n+1)=3.816075e-003; ng(n+1)=1.182089e+004;
n=20; farx(n+1)=2.497045e+001; foe(n+1)=2.110105e+002; krok(n+1)=3.109078e-004; ng(n+1)=1.297563e+004;
n=21; farx(n+1)=2.414407e+001; foe(n+1)=2.095190e+002; krok(n+1)=3.428360e-004; ng(n+1)=1.303092e+004;
n=22; farx(n+1)=2.460455e+001; foe(n+1)=2.070730e+002; krok(n+1)=1.939254e-003; ng(n+1)=1.249955e+004;
n=23; farx(n+1)=2.468993e+001; foe(n+1)=2.030014e+002; krok(n+1)=8.476039e-004; ng(n+1)=1.447833e+004;
n=24; farx(n+1)=2.632062e+001; foe(n+1)=1.785222e+002; krok(n+1)=5.668187e-004; ng(n+1)=1.954880e+004;
n=25; farx(n+1)=2.706947e+001; foe(n+1)=1.777083e+002; krok(n+1)=1.356957e-005; ng(n+1)=2.963315e+004;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.709808e+001; foe(n+1)=1.613665e+002; krok(n+1)=3.159773e-007; ng(n+1)=2.635907e+004;
n=27; farx(n+1)=2.882375e+001; foe(n+1)=1.456551e+002; krok(n+1)=1.641052e-005; ng(n+1)=3.946777e+003;
n=28; farx(n+1)=2.817598e+001; foe(n+1)=1.355270e+002; krok(n+1)=1.274425e-005; ng(n+1)=4.046455e+003;
n=29; farx(n+1)=2.353963e+001; foe(n+1)=1.139081e+002; krok(n+1)=3.052463e-004; ng(n+1)=4.415840e+003;
n=30; farx(n+1)=2.316753e+001; foe(n+1)=1.073115e+002; krok(n+1)=1.410950e-004; ng(n+1)=9.294889e+003;
n=31; farx(n+1)=1.872861e+001; foe(n+1)=9.114925e+001; krok(n+1)=2.106662e-003; ng(n+1)=8.627260e+003;
n=32; farx(n+1)=1.618342e+001; foe(n+1)=7.332537e+001; krok(n+1)=1.935432e-004; ng(n+1)=1.344683e+004;
n=33; farx(n+1)=1.192399e+001; foe(n+1)=5.110305e+001; krok(n+1)=2.840497e-003; ng(n+1)=2.519630e+003;
n=34; farx(n+1)=1.019763e+001; foe(n+1)=4.209387e+001; krok(n+1)=1.022616e-003; ng(n+1)=2.349818e+003;
n=35; farx(n+1)=8.811393e+000; foe(n+1)=3.466707e+001; krok(n+1)=1.078975e-003; ng(n+1)=1.861961e+003;
n=36; farx(n+1)=8.661528e+000; foe(n+1)=3.022602e+001; krok(n+1)=4.090422e-004; ng(n+1)=3.483452e+003;
n=37; farx(n+1)=8.121510e+000; foe(n+1)=2.761564e+001; krok(n+1)=2.939707e-003; ng(n+1)=1.469671e+003;
n=38; farx(n+1)=7.528336e+000; foe(n+1)=2.640995e+001; krok(n+1)=1.106947e-003; ng(n+1)=1.855812e+003;
n=39; farx(n+1)=6.455405e+000; foe(n+1)=2.310761e+001; krok(n+1)=5.608324e-003; ng(n+1)=3.303203e+003;
n=40; farx(n+1)=5.570822e+000; foe(n+1)=2.120223e+001; krok(n+1)=2.176076e-003; ng(n+1)=4.304792e+003;
n=41; farx(n+1)=5.242975e+000; foe(n+1)=1.953745e+001; krok(n+1)=2.458210e-003; ng(n+1)=2.426769e+003;
n=42; farx(n+1)=5.269385e+000; foe(n+1)=1.899752e+001; krok(n+1)=3.765398e-003; ng(n+1)=1.090039e+003;
n=43; farx(n+1)=5.171233e+000; foe(n+1)=1.740851e+001; krok(n+1)=5.608324e-003; ng(n+1)=8.353703e+002;
n=44; farx(n+1)=5.119797e+000; foe(n+1)=1.577378e+001; krok(n+1)=9.748751e-003; ng(n+1)=4.344975e+002;
n=45; farx(n+1)=4.835230e+000; foe(n+1)=1.420505e+001; krok(n+1)=4.841655e-003; ng(n+1)=6.483558e+002;
n=46; farx(n+1)=4.987303e+000; foe(n+1)=1.362271e+001; krok(n+1)=1.524981e-003; ng(n+1)=1.260804e+003;
n=47; farx(n+1)=4.687704e+000; foe(n+1)=1.251829e+001; krok(n+1)=1.788132e-003; ng(n+1)=8.019598e+002;
n=48; farx(n+1)=4.554312e+000; foe(n+1)=1.179215e+001; krok(n+1)=4.126268e-003; ng(n+1)=7.891168e+002;
n=49; farx(n+1)=4.227129e+000; foe(n+1)=1.129072e+001; krok(n+1)=3.806601e-003; ng(n+1)=9.336785e+002;
n=50; farx(n+1)=3.974256e+000; foe(n+1)=1.055573e+001; krok(n+1)=9.513276e-003; ng(n+1)=1.697955e+003;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.952878e+000; foe(n+1)=1.040088e+001; krok(n+1)=1.034570e-005; ng(n+1)=5.351865e+002;
n=52; farx(n+1)=3.984816e+000; foe(n+1)=1.032992e+001; krok(n+1)=5.036867e-006; ng(n+1)=4.657598e+002;
n=53; farx(n+1)=4.045295e+000; foe(n+1)=1.013274e+001; krok(n+1)=8.808370e-005; ng(n+1)=2.223625e+002;
n=54; farx(n+1)=3.816269e+000; foe(n+1)=9.587655e+000; krok(n+1)=1.070946e-004; ng(n+1)=3.266738e+002;
n=55; farx(n+1)=3.698882e+000; foe(n+1)=9.256948e+000; krok(n+1)=1.259039e-003; ng(n+1)=1.131967e+002;
n=56; farx(n+1)=3.264668e+000; foe(n+1)=8.453083e+000; krok(n+1)=2.690870e-003; ng(n+1)=1.752723e+002;
n=57; farx(n+1)=3.157626e+000; foe(n+1)=8.145090e+000; krok(n+1)=3.856570e-003; ng(n+1)=7.002172e+002;
n=58; farx(n+1)=2.906111e+000; foe(n+1)=7.434592e+000; krok(n+1)=1.027490e-002; ng(n+1)=6.075209e+002;
n=59; farx(n+1)=2.809180e+000; foe(n+1)=6.966807e+000; krok(n+1)=2.273260e-003; ng(n+1)=7.043582e+002;
n=60; farx(n+1)=2.752906e+000; foe(n+1)=6.524084e+000; krok(n+1)=2.339183e-003; ng(n+1)=4.529829e+002;
n=61; farx(n+1)=2.691855e+000; foe(n+1)=5.789452e+000; krok(n+1)=5.368339e-003; ng(n+1)=6.818918e+002;
n=62; farx(n+1)=2.581369e+000; foe(n+1)=5.199003e+000; krok(n+1)=2.167321e-003; ng(n+1)=8.560277e+002;
n=63; farx(n+1)=2.539345e+000; foe(n+1)=5.013637e+000; krok(n+1)=2.452083e-003; ng(n+1)=3.948424e+002;
n=64; farx(n+1)=2.354322e+000; foe(n+1)=4.717007e+000; krok(n+1)=1.127471e-002; ng(n+1)=2.464214e+002;
n=65; farx(n+1)=2.335688e+000; foe(n+1)=4.681978e+000; krok(n+1)=2.972972e-003; ng(n+1)=3.006974e+002;
n=66; farx(n+1)=2.268508e+000; foe(n+1)=4.583639e+000; krok(n+1)=4.372259e-003; ng(n+1)=6.303650e+002;
n=67; farx(n+1)=2.196823e+000; foe(n+1)=4.484586e+000; krok(n+1)=3.621201e-003; ng(n+1)=3.987504e+002;
n=68; farx(n+1)=2.124505e+000; foe(n+1)=4.331061e+000; krok(n+1)=1.634950e-002; ng(n+1)=3.656849e+002;
n=69; farx(n+1)=2.082167e+000; foe(n+1)=4.251600e+000; krok(n+1)=1.226153e-002; ng(n+1)=6.756379e+002;
n=70; farx(n+1)=2.047512e+000; foe(n+1)=4.193779e+000; krok(n+1)=8.579668e-003; ng(n+1)=2.540936e+002;
n=71; farx(n+1)=2.057976e+000; foe(n+1)=4.097244e+000; krok(n+1)=1.488820e-002; ng(n+1)=2.169362e+002;
n=72; farx(n+1)=1.930394e+000; foe(n+1)=3.989030e+000; krok(n+1)=1.834657e-002; ng(n+1)=1.853395e+002;
n=73; farx(n+1)=1.893266e+000; foe(n+1)=3.961877e+000; krok(n+1)=1.776017e-002; ng(n+1)=3.411888e+002;
n=74; farx(n+1)=1.770107e+000; foe(n+1)=3.837171e+000; krok(n+1)=5.157588e-002; ng(n+1)=3.626457e+002;
n=75; farx(n+1)=1.685314e+000; foe(n+1)=3.682204e+000; krok(n+1)=2.799347e-002; ng(n+1)=6.018512e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.676036e+000; foe(n+1)=3.642158e+000; krok(n+1)=1.833535e-006; ng(n+1)=6.100282e+002;
n=77; farx(n+1)=1.673080e+000; foe(n+1)=3.632037e+000; krok(n+1)=7.381362e-006; ng(n+1)=1.553301e+002;
n=78; farx(n+1)=1.669565e+000; foe(n+1)=3.615558e+000; krok(n+1)=4.621295e-005; ng(n+1)=8.406694e+001;
n=79; farx(n+1)=1.672530e+000; foe(n+1)=3.571003e+000; krok(n+1)=8.368590e-005; ng(n+1)=1.145946e+002;
n=80; farx(n+1)=1.667868e+000; foe(n+1)=3.548237e+000; krok(n+1)=8.062699e-004; ng(n+1)=2.703354e+001;
n=81; farx(n+1)=1.661097e+000; foe(n+1)=3.511348e+000; krok(n+1)=1.045039e-003; ng(n+1)=2.897074e+001;
n=82; farx(n+1)=1.547827e+000; foe(n+1)=3.367651e+000; krok(n+1)=1.483652e-002; ng(n+1)=1.994415e+001;
n=83; farx(n+1)=1.379982e+000; foe(n+1)=3.211865e+000; krok(n+1)=7.837498e-003; ng(n+1)=4.898298e+002;
n=84; farx(n+1)=1.218002e+000; foe(n+1)=3.025915e+000; krok(n+1)=9.240905e-003; ng(n+1)=3.082407e+002;
n=85; farx(n+1)=1.204696e+000; foe(n+1)=2.997966e+000; krok(n+1)=3.128460e-003; ng(n+1)=2.965528e+002;
n=86; farx(n+1)=1.197284e+000; foe(n+1)=2.949414e+000; krok(n+1)=5.836445e-003; ng(n+1)=3.530898e+002;
n=87; farx(n+1)=1.178694e+000; foe(n+1)=2.870847e+000; krok(n+1)=6.450159e-003; ng(n+1)=1.605941e+002;
n=88; farx(n+1)=1.143441e+000; foe(n+1)=2.824458e+000; krok(n+1)=5.000456e-003; ng(n+1)=3.386124e+002;
n=89; farx(n+1)=1.110955e+000; foe(n+1)=2.788171e+000; krok(n+1)=5.682045e-003; ng(n+1)=3.035499e+002;
n=90; farx(n+1)=1.044699e+000; foe(n+1)=2.691121e+000; krok(n+1)=8.704305e-003; ng(n+1)=8.355838e+002;
n=91; farx(n+1)=1.069412e+000; foe(n+1)=2.595378e+000; krok(n+1)=1.196445e-002; ng(n+1)=4.870365e+002;
n=92; farx(n+1)=1.085286e+000; foe(n+1)=2.522558e+000; krok(n+1)=1.759944e-002; ng(n+1)=4.333815e+002;
n=93; farx(n+1)=1.077469e+000; foe(n+1)=2.477820e+000; krok(n+1)=3.973596e-003; ng(n+1)=4.417529e+002;
n=94; farx(n+1)=1.072913e+000; foe(n+1)=2.416823e+000; krok(n+1)=2.983603e-003; ng(n+1)=4.651255e+002;
n=95; farx(n+1)=1.038353e+000; foe(n+1)=2.313175e+000; krok(n+1)=1.734425e-002; ng(n+1)=3.848810e+002;
n=96; farx(n+1)=1.152371e+000; foe(n+1)=2.278965e+000; krok(n+1)=1.470844e-002; ng(n+1)=6.017776e+002;
n=97; farx(n+1)=1.159113e+000; foe(n+1)=2.215539e+000; krok(n+1)=2.857938e-002; ng(n+1)=5.747656e+002;
n=98; farx(n+1)=1.054114e+000; foe(n+1)=2.119922e+000; krok(n+1)=2.069473e-002; ng(n+1)=2.079766e+002;
n=99; farx(n+1)=1.018362e+000; foe(n+1)=2.051484e+000; krok(n+1)=1.470844e-002; ng(n+1)=2.119562e+002;
n=100; farx(n+1)=1.000511e+000; foe(n+1)=1.973992e+000; krok(n+1)=1.109636e-002; ng(n+1)=3.711797e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
