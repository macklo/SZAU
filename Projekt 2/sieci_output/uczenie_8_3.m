%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.996145e+003; foe(n+1)=4.034940e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.943529e+003; foe(n+1)=2.997280e+003; krok(n+1)=4.875677e-004; ng(n+1)=3.761369e+003;
n=2; farx(n+1)=1.025144e+003; foe(n+1)=1.098830e+003; krok(n+1)=5.233259e-003; ng(n+1)=1.415049e+003;
n=3; farx(n+1)=1.071016e+003; foe(n+1)=9.686259e+002; krok(n+1)=7.351192e-005; ng(n+1)=6.997090e+003;
n=4; farx(n+1)=1.305331e+003; foe(n+1)=6.481051e+002; krok(n+1)=1.587460e-003; ng(n+1)=8.363959e+003;
n=5; farx(n+1)=1.267684e+003; foe(n+1)=5.603284e+002; krok(n+1)=2.501815e-003; ng(n+1)=2.457791e+003;
n=6; farx(n+1)=6.863406e+002; foe(n+1)=4.045259e+002; krok(n+1)=2.404573e-003; ng(n+1)=2.416143e+003;
n=7; farx(n+1)=5.546133e+002; foe(n+1)=3.789149e+002; krok(n+1)=5.234410e-004; ng(n+1)=1.509139e+003;
n=8; farx(n+1)=3.810460e+002; foe(n+1)=3.360961e+002; krok(n+1)=7.242402e-003; ng(n+1)=8.877144e+002;
n=9; farx(n+1)=3.044449e+002; foe(n+1)=3.144891e+002; krok(n+1)=5.433546e-003; ng(n+1)=4.023726e+002;
n=10; farx(n+1)=2.460764e+002; foe(n+1)=2.982711e+002; krok(n+1)=2.621411e-003; ng(n+1)=7.809104e+002;
n=11; farx(n+1)=2.100014e+002; foe(n+1)=2.885238e+002; krok(n+1)=4.848134e-004; ng(n+1)=8.722417e+002;
n=12; farx(n+1)=1.884634e+002; foe(n+1)=2.851399e+002; krok(n+1)=1.350179e-003; ng(n+1)=5.609798e+002;
n=13; farx(n+1)=1.556637e+002; foe(n+1)=2.750037e+002; krok(n+1)=3.035901e-003; ng(n+1)=1.072171e+003;
n=14; farx(n+1)=1.156447e+002; foe(n+1)=2.642563e+002; krok(n+1)=3.144401e-003; ng(n+1)=8.457694e+002;
n=15; farx(n+1)=8.896933e+001; foe(n+1)=2.536092e+002; krok(n+1)=2.480186e-003; ng(n+1)=9.986396e+002;
n=16; farx(n+1)=7.407510e+001; foe(n+1)=2.339115e+002; krok(n+1)=2.973498e-003; ng(n+1)=1.191776e+003;
n=17; farx(n+1)=1.110821e+002; foe(n+1)=2.024513e+002; krok(n+1)=2.388829e-003; ng(n+1)=3.021756e+003;
n=18; farx(n+1)=1.987830e+002; foe(n+1)=1.782472e+002; krok(n+1)=7.499704e-004; ng(n+1)=3.659153e+003;
n=19; farx(n+1)=2.042556e+002; foe(n+1)=1.759129e+002; krok(n+1)=2.030280e-004; ng(n+1)=3.027423e+003;
n=20; farx(n+1)=2.589902e+002; foe(n+1)=1.644037e+002; krok(n+1)=2.303305e-003; ng(n+1)=3.763755e+003;
n=21; farx(n+1)=2.287492e+002; foe(n+1)=1.548325e+002; krok(n+1)=8.759836e-004; ng(n+1)=1.975647e+003;
n=22; farx(n+1)=1.143362e+002; foe(n+1)=1.194979e+002; krok(n+1)=6.256921e-003; ng(n+1)=2.102309e+003;
n=23; farx(n+1)=8.630763e+001; foe(n+1)=1.142292e+002; krok(n+1)=4.356664e-004; ng(n+1)=2.051492e+003;
n=24; farx(n+1)=5.235369e+001; foe(n+1)=9.969902e+001; krok(n+1)=4.912155e-003; ng(n+1)=4.129548e+003;
n=25; farx(n+1)=4.637309e+001; foe(n+1)=9.608772e+001; krok(n+1)=2.121656e-003; ng(n+1)=1.489126e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.630369e+001; foe(n+1)=9.389667e+001; krok(n+1)=2.697495e-006; ng(n+1)=3.781306e+003;
n=27; farx(n+1)=4.555346e+001; foe(n+1)=8.908995e+001; krok(n+1)=1.701807e-004; ng(n+1)=7.188994e+002;
n=28; farx(n+1)=3.875055e+001; foe(n+1)=7.923766e+001; krok(n+1)=6.752731e-004; ng(n+1)=4.908010e+002;
n=29; farx(n+1)=3.545963e+001; foe(n+1)=7.076091e+001; krok(n+1)=3.691804e-004; ng(n+1)=2.456904e+003;
n=30; farx(n+1)=3.275597e+001; foe(n+1)=4.914002e+001; krok(n+1)=1.223482e-003; ng(n+1)=1.187746e+003;
n=31; farx(n+1)=3.249375e+001; foe(n+1)=4.853927e+001; krok(n+1)=4.526501e-004; ng(n+1)=4.722809e+002;
n=32; farx(n+1)=2.525442e+001; foe(n+1)=4.164347e+001; krok(n+1)=3.096185e-003; ng(n+1)=8.210584e+002;
n=33; farx(n+1)=1.791809e+001; foe(n+1)=3.593893e+001; krok(n+1)=2.804195e-003; ng(n+1)=6.616216e+002;
n=34; farx(n+1)=1.359005e+001; foe(n+1)=2.795294e+001; krok(n+1)=2.289978e-003; ng(n+1)=1.896119e+003;
n=35; farx(n+1)=1.247368e+001; foe(n+1)=2.638501e+001; krok(n+1)=1.110010e-003; ng(n+1)=5.755975e+002;
n=36; farx(n+1)=1.160349e+001; foe(n+1)=2.241004e+001; krok(n+1)=3.813159e-003; ng(n+1)=6.746284e+002;
n=37; farx(n+1)=1.180278e+001; foe(n+1)=2.010244e+001; krok(n+1)=9.078303e-003; ng(n+1)=6.896801e+002;
n=38; farx(n+1)=1.052367e+001; foe(n+1)=1.903625e+001; krok(n+1)=5.207429e-003; ng(n+1)=3.395805e+002;
n=39; farx(n+1)=9.978438e+000; foe(n+1)=1.844943e+001; krok(n+1)=3.035901e-003; ng(n+1)=6.077142e+002;
n=40; farx(n+1)=9.580153e+000; foe(n+1)=1.773549e+001; krok(n+1)=6.764823e-003; ng(n+1)=3.704447e+002;
n=41; farx(n+1)=8.914666e+000; foe(n+1)=1.711528e+001; krok(n+1)=9.296334e-003; ng(n+1)=3.403004e+002;
n=42; farx(n+1)=8.566493e+000; foe(n+1)=1.671336e+001; krok(n+1)=4.953534e-003; ng(n+1)=2.993745e+002;
n=43; farx(n+1)=8.501136e+000; foe(n+1)=1.647936e+001; krok(n+1)=1.048565e-002; ng(n+1)=2.411424e+002;
n=44; farx(n+1)=8.044556e+000; foe(n+1)=1.519424e+001; krok(n+1)=8.000730e-002; ng(n+1)=3.471634e+002;
n=45; farx(n+1)=7.713976e+000; foe(n+1)=1.454688e+001; krok(n+1)=2.954351e-002; ng(n+1)=4.458203e+002;
n=46; farx(n+1)=7.557476e+000; foe(n+1)=1.402493e+001; krok(n+1)=2.876670e-002; ng(n+1)=5.763729e+002;
n=47; farx(n+1)=7.210150e+000; foe(n+1)=1.322438e+001; krok(n+1)=4.284718e-002; ng(n+1)=3.539239e+002;
n=48; farx(n+1)=6.845475e+000; foe(n+1)=1.285705e+001; krok(n+1)=3.982240e-002; ng(n+1)=3.778463e+002;
n=49; farx(n+1)=6.600365e+000; foe(n+1)=1.261785e+001; krok(n+1)=1.706649e-002; ng(n+1)=4.329296e+002;
n=50; farx(n+1)=6.229023e+000; foe(n+1)=1.168309e+001; krok(n+1)=5.160128e-002; ng(n+1)=2.862315e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=6.213818e+000; foe(n+1)=1.162728e+001; krok(n+1)=2.077412e-005; ng(n+1)=1.971074e+002;
n=52; farx(n+1)=6.149924e+000; foe(n+1)=1.152479e+001; krok(n+1)=1.289459e-004; ng(n+1)=1.313505e+002;
n=53; farx(n+1)=6.077006e+000; foe(n+1)=1.139546e+001; krok(n+1)=1.265491e-004; ng(n+1)=1.321882e+002;
n=54; farx(n+1)=5.977261e+000; foe(n+1)=1.108835e+001; krok(n+1)=3.026034e-004; ng(n+1)=1.263018e+002;
n=55; farx(n+1)=5.266444e+000; foe(n+1)=1.017205e+001; krok(n+1)=1.164626e-003; ng(n+1)=1.236836e+002;
n=56; farx(n+1)=4.916420e+000; foe(n+1)=9.561368e+000; krok(n+1)=3.870712e-003; ng(n+1)=3.304408e+002;
n=57; farx(n+1)=4.464834e+000; foe(n+1)=8.859693e+000; krok(n+1)=5.694898e-003; ng(n+1)=3.657357e+002;
n=58; farx(n+1)=3.954943e+000; foe(n+1)=8.204641e+000; krok(n+1)=2.684169e-003; ng(n+1)=4.382792e+002;
n=59; farx(n+1)=3.049717e+000; foe(n+1)=7.344367e+000; krok(n+1)=1.165911e-002; ng(n+1)=2.040203e+002;
n=60; farx(n+1)=2.974306e+000; foe(n+1)=7.246270e+000; krok(n+1)=4.874671e-003; ng(n+1)=1.388403e+002;
n=61; farx(n+1)=2.841431e+000; foe(n+1)=6.929139e+000; krok(n+1)=4.689265e-003; ng(n+1)=2.281000e+002;
n=62; farx(n+1)=2.775831e+000; foe(n+1)=6.761098e+000; krok(n+1)=2.778799e-003; ng(n+1)=3.423246e+002;
n=63; farx(n+1)=2.669366e+000; foe(n+1)=6.620382e+000; krok(n+1)=1.056599e-002; ng(n+1)=3.784424e+002;
n=64; farx(n+1)=2.389526e+000; foe(n+1)=6.066023e+000; krok(n+1)=2.447519e-002; ng(n+1)=5.811745e+002;
n=65; farx(n+1)=2.331120e+000; foe(n+1)=5.918970e+000; krok(n+1)=5.060913e-003; ng(n+1)=4.941199e+002;
n=66; farx(n+1)=2.275454e+000; foe(n+1)=5.686263e+000; krok(n+1)=2.398987e-002; ng(n+1)=2.498507e+002;
n=67; farx(n+1)=2.292189e+000; foe(n+1)=5.544440e+000; krok(n+1)=7.354218e-003; ng(n+1)=1.754168e+002;
n=68; farx(n+1)=2.352796e+000; foe(n+1)=5.312611e+000; krok(n+1)=2.667694e-002; ng(n+1)=2.063287e+002;
n=69; farx(n+1)=2.236736e+000; foe(n+1)=4.702274e+000; krok(n+1)=6.105720e-002; ng(n+1)=2.144707e+002;
n=70; farx(n+1)=2.182632e+000; foe(n+1)=4.462467e+000; krok(n+1)=1.741045e-002; ng(n+1)=1.437196e+002;
n=71; farx(n+1)=2.075947e+000; foe(n+1)=4.030450e+000; krok(n+1)=4.215364e-002; ng(n+1)=2.774915e+002;
n=72; farx(n+1)=2.001526e+000; foe(n+1)=3.751202e+000; krok(n+1)=7.853583e-002; ng(n+1)=2.337433e+002;
n=73; farx(n+1)=1.919102e+000; foe(n+1)=3.432824e+000; krok(n+1)=1.230771e-001; ng(n+1)=2.497936e+002;
n=74; farx(n+1)=1.828500e+000; foe(n+1)=3.314168e+000; krok(n+1)=4.277073e-002; ng(n+1)=2.115263e+002;
n=75; farx(n+1)=1.707836e+000; foe(n+1)=3.164250e+000; krok(n+1)=9.760941e-002; ng(n+1)=1.056239e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.701354e+000; foe(n+1)=3.133308e+000; krok(n+1)=2.352777e-005; ng(n+1)=1.298154e+002;
n=77; farx(n+1)=1.695468e+000; foe(n+1)=3.116794e+000; krok(n+1)=3.034575e-005; ng(n+1)=9.585031e+001;
n=78; farx(n+1)=1.689458e+000; foe(n+1)=3.055866e+000; krok(n+1)=2.958143e-004; ng(n+1)=5.711878e+001;
n=79; farx(n+1)=1.653890e+000; foe(n+1)=2.954928e+000; krok(n+1)=1.697983e-004; ng(n+1)=9.753384e+001;
n=80; farx(n+1)=1.613315e+000; foe(n+1)=2.826634e+000; krok(n+1)=7.543972e-004; ng(n+1)=6.442302e+001;
n=81; farx(n+1)=1.599257e+000; foe(n+1)=2.737114e+000; krok(n+1)=3.271540e-003; ng(n+1)=7.768695e+001;
n=82; farx(n+1)=1.592008e+000; foe(n+1)=2.703564e+000; krok(n+1)=3.151553e-003; ng(n+1)=1.017877e+002;
n=83; farx(n+1)=1.519078e+000; foe(n+1)=2.563552e+000; krok(n+1)=1.290032e-002; ng(n+1)=1.436474e+002;
n=84; farx(n+1)=1.449067e+000; foe(n+1)=2.428569e+000; krok(n+1)=2.219272e-002; ng(n+1)=1.778266e+002;
n=85; farx(n+1)=1.388185e+000; foe(n+1)=2.319702e+000; krok(n+1)=9.082851e-003; ng(n+1)=2.522311e+002;
n=86; farx(n+1)=1.357724e+000; foe(n+1)=2.282129e+000; krok(n+1)=2.818678e-003; ng(n+1)=1.267054e+002;
n=87; farx(n+1)=1.327667e+000; foe(n+1)=2.240112e+000; krok(n+1)=2.727640e-002; ng(n+1)=4.596153e+001;
n=88; farx(n+1)=1.304895e+000; foe(n+1)=2.181414e+000; krok(n+1)=2.782508e-002; ng(n+1)=9.850684e+001;
n=89; farx(n+1)=1.284889e+000; foe(n+1)=2.119405e+000; krok(n+1)=3.500452e-002; ng(n+1)=1.065246e+002;
n=90; farx(n+1)=1.244497e+000; foe(n+1)=2.027683e+000; krok(n+1)=4.509885e-002; ng(n+1)=1.037532e+002;
n=91; farx(n+1)=1.212847e+000; foe(n+1)=1.985159e+000; krok(n+1)=2.113198e-002; ng(n+1)=1.327302e+002;
n=92; farx(n+1)=1.198003e+000; foe(n+1)=1.961701e+000; krok(n+1)=1.803262e-002; ng(n+1)=8.939655e+001;
n=93; farx(n+1)=1.199587e+000; foe(n+1)=1.875869e+000; krok(n+1)=9.048247e-002; ng(n+1)=1.500026e+002;
n=94; farx(n+1)=1.197473e+000; foe(n+1)=1.837772e+000; krok(n+1)=1.216238e-002; ng(n+1)=9.068421e+001;
n=95; farx(n+1)=1.166832e+000; foe(n+1)=1.735841e+000; krok(n+1)=7.104066e-002; ng(n+1)=1.285651e+002;
n=96; farx(n+1)=1.159792e+000; foe(n+1)=1.676324e+000; krok(n+1)=6.252611e-002; ng(n+1)=2.293068e+002;
n=97; farx(n+1)=1.162016e+000; foe(n+1)=1.606369e+000; krok(n+1)=2.788178e-002; ng(n+1)=2.561893e+002;
n=98; farx(n+1)=1.135520e+000; foe(n+1)=1.526609e+000; krok(n+1)=7.923274e-002; ng(n+1)=2.379093e+002;
n=99; farx(n+1)=1.086704e+000; foe(n+1)=1.437301e+000; krok(n+1)=1.775417e-001; ng(n+1)=1.449900e+002;
n=100; farx(n+1)=1.064468e+000; foe(n+1)=1.377735e+000; krok(n+1)=2.094296e-001; ng(n+1)=1.019651e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
