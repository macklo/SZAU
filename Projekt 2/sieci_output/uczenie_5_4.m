%uczenie predyktora oe
clear all;
n=0; farx(n+1)=5.065285e+003; foe(n+1)=4.941491e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.845512e+003; foe(n+1)=3.889104e+003; krok(n+1)=3.423805e-004; ng(n+1)=3.842243e+003;
n=2; farx(n+1)=6.320370e+002; foe(n+1)=7.807419e+002; krok(n+1)=4.449709e-003; ng(n+1)=1.377412e+003;
n=3; farx(n+1)=6.374010e+002; foe(n+1)=7.440702e+002; krok(n+1)=2.084136e-004; ng(n+1)=1.075444e+003;
n=4; farx(n+1)=3.913427e+002; foe(n+1)=5.267414e+002; krok(n+1)=1.721185e-003; ng(n+1)=1.534574e+003;
n=5; farx(n+1)=2.521079e+002; foe(n+1)=4.691776e+002; krok(n+1)=3.949694e-004; ng(n+1)=2.261261e+003;
n=6; farx(n+1)=2.058004e+002; foe(n+1)=3.857435e+002; krok(n+1)=2.702675e-004; ng(n+1)=3.598726e+003;
n=7; farx(n+1)=2.091918e+002; foe(n+1)=3.648859e+002; krok(n+1)=2.698173e-004; ng(n+1)=4.792193e+003;
n=8; farx(n+1)=2.149188e+002; foe(n+1)=3.471042e+002; krok(n+1)=3.966104e-003; ng(n+1)=3.876970e+003;
n=9; farx(n+1)=2.209794e+002; foe(n+1)=3.351449e+002; krok(n+1)=3.891067e-003; ng(n+1)=2.000508e+003;
n=10; farx(n+1)=2.133837e+002; foe(n+1)=3.286220e+002; krok(n+1)=1.830478e-003; ng(n+1)=5.286281e+002;
n=11; farx(n+1)=2.066962e+002; foe(n+1)=3.186409e+002; krok(n+1)=8.300976e-003; ng(n+1)=3.801729e+002;
n=12; farx(n+1)=1.963427e+002; foe(n+1)=3.142477e+002; krok(n+1)=1.900524e-003; ng(n+1)=7.783319e+002;
n=13; farx(n+1)=1.767602e+002; foe(n+1)=2.907318e+002; krok(n+1)=4.520892e-003; ng(n+1)=1.374161e+003;
n=14; farx(n+1)=1.660989e+002; foe(n+1)=2.840034e+002; krok(n+1)=2.660052e-003; ng(n+1)=5.021257e+002;
n=15; farx(n+1)=1.588183e+002; foe(n+1)=2.783881e+002; krok(n+1)=1.118523e-003; ng(n+1)=1.376962e+003;
n=16; farx(n+1)=1.554122e+002; foe(n+1)=2.773966e+002; krok(n+1)=1.307219e-003; ng(n+1)=7.812991e+002;
n=17; farx(n+1)=1.545685e+002; foe(n+1)=2.739959e+002; krok(n+1)=2.778799e-003; ng(n+1)=4.885670e+002;
n=18; farx(n+1)=1.496831e+002; foe(n+1)=2.701151e+002; krok(n+1)=8.180929e-003; ng(n+1)=7.426160e+002;
n=19; farx(n+1)=1.395696e+002; foe(n+1)=2.565336e+002; krok(n+1)=4.830641e-003; ng(n+1)=1.853574e+003;
n=20; farx(n+1)=1.357616e+002; foe(n+1)=2.537515e+002; krok(n+1)=1.486449e-004; ng(n+1)=2.038008e+003;
n=21; farx(n+1)=1.231136e+002; foe(n+1)=2.484449e+002; krok(n+1)=1.004449e-002; ng(n+1)=1.663771e+003;
n=22; farx(n+1)=1.147835e+002; foe(n+1)=2.452749e+002; krok(n+1)=7.671715e-003; ng(n+1)=2.400228e+003;
n=23; farx(n+1)=1.028831e+002; foe(n+1)=2.375144e+002; krok(n+1)=6.506258e-003; ng(n+1)=2.838265e+003;
n=24; farx(n+1)=9.588927e+001; foe(n+1)=2.337870e+002; krok(n+1)=6.349841e-003; ng(n+1)=2.734004e+003;
n=25; farx(n+1)=9.189541e+001; foe(n+1)=2.287619e+002; krok(n+1)=2.054980e-002; ng(n+1)=3.103380e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=8.920605e+001; foe(n+1)=2.243173e+002; krok(n+1)=1.404624e-005; ng(n+1)=2.121967e+003;
n=27; farx(n+1)=7.141283e+001; foe(n+1)=2.131478e+002; krok(n+1)=1.821498e-004; ng(n+1)=8.805681e+002;
n=28; farx(n+1)=6.928782e+001; foe(n+1)=2.079609e+002; krok(n+1)=6.291931e-005; ng(n+1)=1.284633e+003;
n=29; farx(n+1)=6.062429e+001; foe(n+1)=1.853328e+002; krok(n+1)=3.072763e-004; ng(n+1)=1.158209e+003;
n=30; farx(n+1)=5.826018e+001; foe(n+1)=1.817972e+002; krok(n+1)=1.976315e-004; ng(n+1)=8.877083e+002;
n=31; farx(n+1)=5.203870e+001; foe(n+1)=1.717142e+002; krok(n+1)=1.439566e-004; ng(n+1)=2.046667e+003;
n=32; farx(n+1)=4.157237e+001; foe(n+1)=1.494924e+002; krok(n+1)=1.495556e-003; ng(n+1)=3.229600e+003;
n=33; farx(n+1)=3.784049e+001; foe(n+1)=1.268219e+002; krok(n+1)=2.661414e-004; ng(n+1)=5.886420e+003;
n=34; farx(n+1)=3.283088e+001; foe(n+1)=1.079360e+002; krok(n+1)=5.405350e-004; ng(n+1)=3.730706e+003;
n=35; farx(n+1)=2.982022e+001; foe(n+1)=9.952170e+001; krok(n+1)=1.575776e-003; ng(n+1)=3.609143e+003;
n=36; farx(n+1)=2.959153e+001; foe(n+1)=9.771512e+001; krok(n+1)=9.290537e-005; ng(n+1)=2.715375e+003;
n=37; farx(n+1)=3.106293e+001; foe(n+1)=9.340511e+001; krok(n+1)=1.169591e-003; ng(n+1)=3.047217e+003;
n=38; farx(n+1)=2.622593e+001; foe(n+1)=8.925971e+001; krok(n+1)=1.532691e-003; ng(n+1)=1.834338e+003;
n=39; farx(n+1)=2.213549e+001; foe(n+1)=8.241458e+001; krok(n+1)=3.378712e-003; ng(n+1)=2.676264e+003;
n=40; farx(n+1)=2.000940e+001; foe(n+1)=8.016565e+001; krok(n+1)=6.066958e-004; ng(n+1)=3.003528e+003;
n=41; farx(n+1)=1.743352e+001; foe(n+1)=7.019206e+001; krok(n+1)=5.107684e-003; ng(n+1)=2.972507e+003;
n=42; farx(n+1)=1.720152e+001; foe(n+1)=6.844967e+001; krok(n+1)=9.349870e-004; ng(n+1)=1.840987e+003;
n=43; farx(n+1)=1.749132e+001; foe(n+1)=6.732907e+001; krok(n+1)=1.992740e-003; ng(n+1)=2.563066e+003;
n=44; farx(n+1)=1.845337e+001; foe(n+1)=6.398338e+001; krok(n+1)=8.111094e-003; ng(n+1)=1.445538e+003;
n=45; farx(n+1)=1.609121e+001; foe(n+1)=6.050506e+001; krok(n+1)=9.146433e-003; ng(n+1)=2.046352e+003;
n=46; farx(n+1)=1.644559e+001; foe(n+1)=5.608439e+001; krok(n+1)=1.076348e-002; ng(n+1)=3.039709e+003;
n=47; farx(n+1)=1.491784e+001; foe(n+1)=4.808094e+001; krok(n+1)=4.828142e-002; ng(n+1)=2.068260e+003;
n=48; farx(n+1)=1.099745e+001; foe(n+1)=4.002579e+001; krok(n+1)=9.545881e-003; ng(n+1)=2.092047e+003;
n=49; farx(n+1)=9.431554e+000; foe(n+1)=3.889153e+001; krok(n+1)=1.265711e-003; ng(n+1)=4.302140e+003;
n=50; farx(n+1)=7.729875e+000; foe(n+1)=3.580766e+001; krok(n+1)=6.669234e-003; ng(n+1)=4.744693e+003;
%odnowa zmiennej metryki
n=51; farx(n+1)=6.677908e+000; foe(n+1)=2.864606e+001; krok(n+1)=5.846756e-006; ng(n+1)=4.700049e+003;
n=52; farx(n+1)=6.095371e+000; foe(n+1)=2.642645e+001; krok(n+1)=4.041022e-005; ng(n+1)=1.135589e+003;
n=53; farx(n+1)=5.681755e+000; foe(n+1)=2.509921e+001; krok(n+1)=2.230894e-005; ng(n+1)=1.158504e+003;
n=54; farx(n+1)=4.719825e+000; foe(n+1)=2.339277e+001; krok(n+1)=8.923578e-005; ng(n+1)=1.020242e+003;
n=55; farx(n+1)=5.279783e+000; foe(n+1)=2.027738e+001; krok(n+1)=8.160960e-004; ng(n+1)=9.261563e+002;
n=56; farx(n+1)=5.372397e+000; foe(n+1)=1.792174e+001; krok(n+1)=8.471113e-004; ng(n+1)=6.077488e+002;
n=57; farx(n+1)=5.264720e+000; foe(n+1)=1.677168e+001; krok(n+1)=2.287557e-003; ng(n+1)=6.831254e+002;
n=58; farx(n+1)=5.480016e+000; foe(n+1)=1.602846e+001; krok(n+1)=1.265711e-003; ng(n+1)=7.258926e+002;
n=59; farx(n+1)=5.680628e+000; foe(n+1)=1.560799e+001; krok(n+1)=1.906580e-003; ng(n+1)=1.014859e+003;
n=60; farx(n+1)=6.269949e+000; foe(n+1)=1.489901e+001; krok(n+1)=2.275225e-003; ng(n+1)=9.285102e+002;
n=61; farx(n+1)=6.859327e+000; foe(n+1)=1.409364e+001; krok(n+1)=4.969696e-003; ng(n+1)=2.854661e+002;
n=62; farx(n+1)=6.916848e+000; foe(n+1)=1.372567e+001; krok(n+1)=4.550450e-003; ng(n+1)=5.446622e+002;
n=63; farx(n+1)=6.875919e+000; foe(n+1)=1.349586e+001; krok(n+1)=7.366454e-003; ng(n+1)=8.649480e+002;
n=64; farx(n+1)=6.869054e+000; foe(n+1)=1.339086e+001; krok(n+1)=5.214412e-003; ng(n+1)=7.766897e+002;
n=65; farx(n+1)=6.581476e+000; foe(n+1)=1.281613e+001; krok(n+1)=3.281725e-002; ng(n+1)=8.473785e+002;
n=66; farx(n+1)=6.707286e+000; foe(n+1)=1.254821e+001; krok(n+1)=8.516524e-003; ng(n+1)=8.371864e+002;
n=67; farx(n+1)=6.577890e+000; foe(n+1)=1.215383e+001; krok(n+1)=6.485153e-003; ng(n+1)=7.265839e+002;
n=68; farx(n+1)=6.556837e+000; foe(n+1)=1.181469e+001; krok(n+1)=5.997467e-003; ng(n+1)=7.637067e+002;
n=69; farx(n+1)=6.901918e+000; foe(n+1)=1.134119e+001; krok(n+1)=2.992730e-002; ng(n+1)=7.926317e+002;
n=70; farx(n+1)=7.138321e+000; foe(n+1)=1.110877e+001; krok(n+1)=1.417782e-002; ng(n+1)=8.546931e+002;
n=71; farx(n+1)=7.088097e+000; foe(n+1)=1.093467e+001; krok(n+1)=3.264474e-002; ng(n+1)=6.454963e+002;
n=72; farx(n+1)=7.177549e+000; foe(n+1)=1.086185e+001; krok(n+1)=3.105330e-002; ng(n+1)=4.292505e+002;
n=73; farx(n+1)=6.750257e+000; foe(n+1)=1.041869e+001; krok(n+1)=1.282857e-001; ng(n+1)=4.371743e+002;
n=74; farx(n+1)=7.110715e+000; foe(n+1)=1.011511e+001; krok(n+1)=9.353615e-002; ng(n+1)=8.830500e+002;
n=75; farx(n+1)=6.877606e+000; foe(n+1)=9.867892e+000; krok(n+1)=5.101860e-002; ng(n+1)=6.667602e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=6.854984e+000; foe(n+1)=9.739591e+000; krok(n+1)=1.051121e-005; ng(n+1)=5.022445e+002;
n=77; farx(n+1)=6.597155e+000; foe(n+1)=9.522498e+000; krok(n+1)=4.766085e-005; ng(n+1)=2.819549e+002;
n=78; farx(n+1)=6.459463e+000; foe(n+1)=9.388617e+000; krok(n+1)=7.803699e-006; ng(n+1)=5.506167e+002;
n=79; farx(n+1)=6.426431e+000; foe(n+1)=9.323491e+000; krok(n+1)=3.643472e-004; ng(n+1)=5.734776e+001;
n=80; farx(n+1)=6.296356e+000; foe(n+1)=8.951840e+000; krok(n+1)=1.022616e-003; ng(n+1)=9.455035e+001;
n=81; farx(n+1)=6.156924e+000; foe(n+1)=8.675590e+000; krok(n+1)=5.817002e-004; ng(n+1)=3.256366e+002;
n=82; farx(n+1)=6.259923e+000; foe(n+1)=8.187637e+000; krok(n+1)=5.355898e-003; ng(n+1)=8.493795e+002;
n=83; farx(n+1)=5.918135e+000; foe(n+1)=7.984491e+000; krok(n+1)=4.658504e-003; ng(n+1)=8.979322e+002;
n=84; farx(n+1)=5.624442e+000; foe(n+1)=7.760904e+000; krok(n+1)=5.282547e-003; ng(n+1)=5.842428e+002;
n=85; farx(n+1)=5.265721e+000; foe(n+1)=7.654202e+000; krok(n+1)=2.855545e-003; ng(n+1)=2.679805e+002;
n=86; farx(n+1)=5.099635e+000; foe(n+1)=7.579121e+000; krok(n+1)=1.745241e-003; ng(n+1)=3.406617e+002;
n=87; farx(n+1)=4.932803e+000; foe(n+1)=7.466668e+000; krok(n+1)=6.853004e-003; ng(n+1)=6.278648e+002;
n=88; farx(n+1)=4.444275e+000; foe(n+1)=7.296030e+000; krok(n+1)=5.557598e-003; ng(n+1)=7.275701e+002;
n=89; farx(n+1)=4.370542e+000; foe(n+1)=7.195701e+000; krok(n+1)=4.054148e-003; ng(n+1)=3.636522e+002;
n=90; farx(n+1)=4.165504e+000; foe(n+1)=6.980560e+000; krok(n+1)=1.559909e-002; ng(n+1)=3.052466e+002;
n=91; farx(n+1)=4.187690e+000; foe(n+1)=6.895689e+000; krok(n+1)=1.274938e-002; ng(n+1)=3.461620e+002;
n=92; farx(n+1)=4.139152e+000; foe(n+1)=6.846439e+000; krok(n+1)=9.748751e-003; ng(n+1)=5.276600e+002;
n=93; farx(n+1)=4.125529e+000; foe(n+1)=6.697625e+000; krok(n+1)=5.286105e-002; ng(n+1)=7.501907e+002;
n=94; farx(n+1)=4.110313e+000; foe(n+1)=6.564059e+000; krok(n+1)=1.370601e-002; ng(n+1)=4.428954e+002;
n=95; farx(n+1)=4.032160e+000; foe(n+1)=6.474767e+000; krok(n+1)=1.809047e-002; ng(n+1)=1.121082e+002;
n=96; farx(n+1)=4.093202e+000; foe(n+1)=6.376682e+000; krok(n+1)=1.771116e-002; ng(n+1)=2.719665e+002;
n=97; farx(n+1)=4.150595e+000; foe(n+1)=6.161487e+000; krok(n+1)=4.438543e-002; ng(n+1)=1.683998e+002;
n=98; farx(n+1)=4.025531e+000; foe(n+1)=6.070785e+000; krok(n+1)=2.223039e-002; ng(n+1)=5.111208e+002;
n=99; farx(n+1)=4.148252e+000; foe(n+1)=5.922735e+000; krok(n+1)=9.363811e-002; ng(n+1)=7.877046e+002;
n=100; farx(n+1)=4.341144e+000; foe(n+1)=5.810770e+000; krok(n+1)=3.043820e-002; ng(n+1)=6.089991e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
