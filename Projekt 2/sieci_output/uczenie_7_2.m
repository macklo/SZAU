%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.824980e+003; foe(n+1)=4.800212e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.848462e+003; foe(n+1)=3.742505e+003; krok(n+1)=3.657739e-004; ng(n+1)=4.403127e+003;
n=2; farx(n+1)=1.115128e+003; foe(n+1)=9.701135e+002; krok(n+1)=1.775201e-003; ng(n+1)=3.312523e+003;
n=3; farx(n+1)=1.286920e+003; foe(n+1)=7.995768e+002; krok(n+1)=2.550371e-004; ng(n+1)=4.638987e+003;
n=4; farx(n+1)=5.704376e+002; foe(n+1)=5.765869e+002; krok(n+1)=4.698731e-003; ng(n+1)=9.350178e+002;
n=5; farx(n+1)=3.744520e+002; foe(n+1)=5.065542e+002; krok(n+1)=2.781068e-004; ng(n+1)=2.932458e+003;
n=6; farx(n+1)=3.312666e+002; foe(n+1)=4.454719e+002; krok(n+1)=1.606327e-003; ng(n+1)=3.809731e+003;
n=7; farx(n+1)=2.384992e+002; foe(n+1)=4.044249e+002; krok(n+1)=5.861582e-004; ng(n+1)=3.775888e+003;
n=8; farx(n+1)=2.260004e+002; foe(n+1)=3.656286e+002; krok(n+1)=2.117016e-003; ng(n+1)=1.920638e+003;
n=9; farx(n+1)=2.004620e+002; foe(n+1)=3.380954e+002; krok(n+1)=1.415702e-003; ng(n+1)=1.238369e+003;
n=10; farx(n+1)=1.939852e+002; foe(n+1)=3.184466e+002; krok(n+1)=9.152390e-004; ng(n+1)=1.533293e+003;
n=11; farx(n+1)=1.529274e+002; foe(n+1)=2.898668e+002; krok(n+1)=5.829338e-003; ng(n+1)=6.705759e+002;
n=12; farx(n+1)=1.499425e+002; foe(n+1)=2.880707e+002; krok(n+1)=6.198229e-005; ng(n+1)=1.376123e+003;
n=13; farx(n+1)=1.271638e+002; foe(n+1)=2.783827e+002; krok(n+1)=1.330707e-004; ng(n+1)=2.672302e+003;
n=14; farx(n+1)=1.206153e+002; foe(n+1)=2.664134e+002; krok(n+1)=2.616629e-003; ng(n+1)=2.132030e+003;
n=15; farx(n+1)=1.094514e+002; foe(n+1)=2.574888e+002; krok(n+1)=2.474886e-003; ng(n+1)=1.690809e+003;
n=16; farx(n+1)=1.177168e+002; foe(n+1)=2.548538e+002; krok(n+1)=1.413750e-003; ng(n+1)=1.795405e+003;
n=17; farx(n+1)=1.051039e+002; foe(n+1)=2.483988e+002; krok(n+1)=4.174641e-003; ng(n+1)=1.436164e+003;
n=18; farx(n+1)=1.029107e+002; foe(n+1)=2.401734e+002; krok(n+1)=3.303815e-003; ng(n+1)=1.969468e+003;
n=19; farx(n+1)=1.034755e+002; foe(n+1)=2.381134e+002; krok(n+1)=1.213392e-003; ng(n+1)=1.108768e+003;
n=20; farx(n+1)=1.035644e+002; foe(n+1)=2.372095e+002; krok(n+1)=1.881412e-003; ng(n+1)=6.798277e+002;
n=21; farx(n+1)=1.005101e+002; foe(n+1)=2.321835e+002; krok(n+1)=1.349272e-002; ng(n+1)=1.068610e+003;
n=22; farx(n+1)=8.616495e+001; foe(n+1)=2.264161e+002; krok(n+1)=2.199930e-003; ng(n+1)=1.340704e+003;
n=23; farx(n+1)=7.697977e+001; foe(n+1)=2.224741e+002; krok(n+1)=1.976539e-003; ng(n+1)=1.595407e+003;
n=24; farx(n+1)=7.361757e+001; foe(n+1)=2.205581e+002; krok(n+1)=2.307756e-003; ng(n+1)=1.946781e+003;
n=25; farx(n+1)=7.270827e+001; foe(n+1)=2.157098e+002; krok(n+1)=8.420994e-003; ng(n+1)=2.555735e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=6.977288e+001; foe(n+1)=2.058411e+002; krok(n+1)=1.825109e-005; ng(n+1)=2.959670e+003;
n=27; farx(n+1)=4.625397e+001; foe(n+1)=1.773808e+002; krok(n+1)=1.826166e-004; ng(n+1)=1.656350e+003;
n=28; farx(n+1)=4.619521e+001; foe(n+1)=1.745049e+002; krok(n+1)=4.438276e-005; ng(n+1)=1.682719e+003;
n=29; farx(n+1)=3.520052e+001; foe(n+1)=1.579848e+002; krok(n+1)=5.023578e-004; ng(n+1)=1.937729e+003;
n=30; farx(n+1)=3.015349e+001; foe(n+1)=1.517745e+002; krok(n+1)=5.277180e-004; ng(n+1)=2.557720e+003;
n=31; farx(n+1)=2.506257e+001; foe(n+1)=1.346319e+002; krok(n+1)=4.526501e-004; ng(n+1)=2.200684e+003;
n=32; farx(n+1)=2.395691e+001; foe(n+1)=1.218985e+002; krok(n+1)=1.784716e-004; ng(n+1)=1.046755e+004;
n=33; farx(n+1)=2.785676e+001; foe(n+1)=9.950925e+001; krok(n+1)=1.209728e-003; ng(n+1)=2.210629e+003;
n=34; farx(n+1)=2.154985e+001; foe(n+1)=6.795619e+001; krok(n+1)=1.046882e-003; ng(n+1)=3.033932e+003;
n=35; farx(n+1)=1.470517e+001; foe(n+1)=5.434317e+001; krok(n+1)=1.606327e-003; ng(n+1)=3.113598e+003;
n=36; farx(n+1)=8.849214e+000; foe(n+1)=4.189532e+001; krok(n+1)=1.985317e-004; ng(n+1)=3.898618e+003;
n=37; farx(n+1)=7.134928e+000; foe(n+1)=3.888254e+001; krok(n+1)=9.317073e-004; ng(n+1)=1.373113e+003;
n=38; farx(n+1)=7.057493e+000; foe(n+1)=3.545101e+001; krok(n+1)=5.990131e-004; ng(n+1)=2.236671e+003;
n=39; farx(n+1)=6.879298e+000; foe(n+1)=3.427066e+001; krok(n+1)=1.037622e-003; ng(n+1)=1.099086e+003;
n=40; farx(n+1)=6.767216e+000; foe(n+1)=3.169713e+001; krok(n+1)=1.360047e-002; ng(n+1)=8.465560e+002;
n=41; farx(n+1)=7.298204e+000; foe(n+1)=3.117293e+001; krok(n+1)=2.476861e-003; ng(n+1)=4.068517e+002;
n=42; farx(n+1)=7.346806e+000; foe(n+1)=3.108081e+001; krok(n+1)=1.982946e-003; ng(n+1)=8.478546e+002;
n=43; farx(n+1)=7.801626e+000; foe(n+1)=3.041786e+001; krok(n+1)=1.501192e-002; ng(n+1)=1.152372e+003;
n=44; farx(n+1)=8.463521e+000; foe(n+1)=2.956519e+001; krok(n+1)=9.127324e-003; ng(n+1)=8.133304e+002;
n=45; farx(n+1)=8.964158e+000; foe(n+1)=2.903477e+001; krok(n+1)=7.990988e-003; ng(n+1)=2.906983e+002;
n=46; farx(n+1)=1.031034e+001; foe(n+1)=2.787074e+001; krok(n+1)=1.688698e-002; ng(n+1)=1.004200e+003;
n=47; farx(n+1)=1.056627e+001; foe(n+1)=2.708569e+001; krok(n+1)=1.097075e-002; ng(n+1)=6.413257e+002;
n=48; farx(n+1)=1.133312e+001; foe(n+1)=2.617532e+001; krok(n+1)=1.468412e-002; ng(n+1)=7.981902e+002;
n=49; farx(n+1)=1.216998e+001; foe(n+1)=2.540041e+001; krok(n+1)=3.901146e-002; ng(n+1)=6.076533e+002;
n=50; farx(n+1)=1.091054e+001; foe(n+1)=2.465827e+001; krok(n+1)=2.691279e-002; ng(n+1)=4.063862e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=1.085758e+001; foe(n+1)=2.453101e+001; krok(n+1)=7.381362e-006; ng(n+1)=5.354932e+002;
n=52; farx(n+1)=1.062254e+001; foe(n+1)=2.428237e+001; krok(n+1)=1.187827e-004; ng(n+1)=1.880506e+002;
n=53; farx(n+1)=1.059322e+001; foe(n+1)=2.424771e+001; krok(n+1)=3.466942e-005; ng(n+1)=1.645781e+002;
n=54; farx(n+1)=1.057016e+001; foe(n+1)=2.419311e+001; krok(n+1)=2.921834e-005; ng(n+1)=1.822699e+002;
n=55; farx(n+1)=1.046032e+001; foe(n+1)=2.307274e+001; krok(n+1)=1.740889e-003; ng(n+1)=1.230048e+002;
n=56; farx(n+1)=1.018293e+001; foe(n+1)=2.258385e+001; krok(n+1)=6.187216e-004; ng(n+1)=4.916060e+002;
n=57; farx(n+1)=9.701064e+000; foe(n+1)=2.210722e+001; krok(n+1)=8.336543e-004; ng(n+1)=9.541901e+002;
n=58; farx(n+1)=9.489941e+000; foe(n+1)=2.117750e+001; krok(n+1)=7.819218e-003; ng(n+1)=1.617974e+003;
n=59; farx(n+1)=8.311138e+000; foe(n+1)=1.928345e+001; krok(n+1)=3.783371e-003; ng(n+1)=1.632736e+003;
n=60; farx(n+1)=7.973378e+000; foe(n+1)=1.894707e+001; krok(n+1)=1.104943e-003; ng(n+1)=9.830186e+002;
n=61; farx(n+1)=7.454831e+000; foe(n+1)=1.860969e+001; krok(n+1)=2.700359e-003; ng(n+1)=8.716817e+002;
n=62; farx(n+1)=7.340379e+000; foe(n+1)=1.820640e+001; krok(n+1)=6.947618e-003; ng(n+1)=4.125934e+002;
n=63; farx(n+1)=7.005526e+000; foe(n+1)=1.788564e+001; krok(n+1)=3.572501e-003; ng(n+1)=4.914629e+002;
n=64; farx(n+1)=6.803192e+000; foe(n+1)=1.747756e+001; krok(n+1)=4.352613e-003; ng(n+1)=9.056105e+002;
n=65; farx(n+1)=6.581301e+000; foe(n+1)=1.712102e+001; krok(n+1)=6.669234e-003; ng(n+1)=8.947440e+002;
n=66; farx(n+1)=6.072904e+000; foe(n+1)=1.662144e+001; krok(n+1)=7.251821e-003; ng(n+1)=5.020435e+002;
n=67; farx(n+1)=6.191046e+000; foe(n+1)=1.625541e+001; krok(n+1)=1.560217e-002; ng(n+1)=1.206937e+003;
n=68; farx(n+1)=6.214690e+000; foe(n+1)=1.608870e+001; krok(n+1)=4.161987e-003; ng(n+1)=1.120622e+003;
n=69; farx(n+1)=6.060345e+000; foe(n+1)=1.569287e+001; krok(n+1)=2.362755e-002; ng(n+1)=8.738657e+002;
n=70; farx(n+1)=5.982860e+000; foe(n+1)=1.547901e+001; krok(n+1)=7.530795e-003; ng(n+1)=5.176612e+002;
n=71; farx(n+1)=5.057688e+000; foe(n+1)=1.495412e+001; krok(n+1)=1.839173e-002; ng(n+1)=8.619308e+002;
n=72; farx(n+1)=4.979571e+000; foe(n+1)=1.478086e+001; krok(n+1)=1.278106e-002; ng(n+1)=1.019817e+003;
n=73; farx(n+1)=4.483407e+000; foe(n+1)=1.425226e+001; krok(n+1)=1.849935e-002; ng(n+1)=6.772200e+002;
n=74; farx(n+1)=4.227581e+000; foe(n+1)=1.368409e+001; krok(n+1)=1.301252e-002; ng(n+1)=9.860885e+002;
n=75; farx(n+1)=4.196780e+000; foe(n+1)=1.287152e+001; krok(n+1)=3.742693e-002; ng(n+1)=1.924751e+003;
%odnowa zmiennej metryki
n=76; farx(n+1)=4.180648e+000; foe(n+1)=1.218886e+001; krok(n+1)=4.490170e-006; ng(n+1)=1.827696e+003;
n=77; farx(n+1)=4.179659e+000; foe(n+1)=1.197910e+001; krok(n+1)=4.777908e-006; ng(n+1)=8.670231e+002;
n=78; farx(n+1)=4.258513e+000; foe(n+1)=1.166321e+001; krok(n+1)=2.273062e-005; ng(n+1)=5.717771e+002;
n=79; farx(n+1)=4.029319e+000; foe(n+1)=1.065157e+001; krok(n+1)=3.927263e-004; ng(n+1)=2.693236e+002;
n=80; farx(n+1)=3.981855e+000; foe(n+1)=1.037855e+001; krok(n+1)=1.955288e-004; ng(n+1)=3.036011e+002;
n=81; farx(n+1)=3.595316e+000; foe(n+1)=9.391816e+000; krok(n+1)=6.140193e-004; ng(n+1)=3.051707e+002;
n=82; farx(n+1)=3.251396e+000; foe(n+1)=8.456297e+000; krok(n+1)=3.211908e-004; ng(n+1)=2.913541e+002;
n=83; farx(n+1)=2.877836e+000; foe(n+1)=7.417208e+000; krok(n+1)=2.218843e-003; ng(n+1)=2.979255e+002;
n=84; farx(n+1)=2.656157e+000; foe(n+1)=6.933477e+000; krok(n+1)=3.621201e-003; ng(n+1)=3.090853e+002;
n=85; farx(n+1)=2.501281e+000; foe(n+1)=6.537864e+000; krok(n+1)=3.516052e-003; ng(n+1)=9.282297e+002;
n=86; farx(n+1)=2.335872e+000; foe(n+1)=6.202227e+000; krok(n+1)=8.420994e-003; ng(n+1)=6.613811e+002;
n=87; farx(n+1)=1.987886e+000; foe(n+1)=5.619269e+000; krok(n+1)=5.980899e-003; ng(n+1)=6.626582e+002;
n=88; farx(n+1)=1.733037e+000; foe(n+1)=5.259002e+000; krok(n+1)=4.736926e-003; ng(n+1)=1.011255e+003;
n=89; farx(n+1)=1.544226e+000; foe(n+1)=5.008733e+000; krok(n+1)=4.969883e-003; ng(n+1)=1.058658e+003;
n=90; farx(n+1)=1.313687e+000; foe(n+1)=4.603849e+000; krok(n+1)=4.419773e-003; ng(n+1)=9.807719e+002;
n=91; farx(n+1)=1.159702e+000; foe(n+1)=4.122313e+000; krok(n+1)=1.586441e-002; ng(n+1)=7.470821e+002;
n=92; farx(n+1)=1.090232e+000; foe(n+1)=3.862195e+000; krok(n+1)=9.231023e-003; ng(n+1)=6.974289e+002;
n=93; farx(n+1)=1.058919e+000; foe(n+1)=3.599436e+000; krok(n+1)=3.938450e-003; ng(n+1)=7.479436e+002;
n=94; farx(n+1)=1.062378e+000; foe(n+1)=3.421362e+000; krok(n+1)=4.046350e-003; ng(n+1)=5.754974e+002;
n=95; farx(n+1)=1.115860e+000; foe(n+1)=3.272063e+000; krok(n+1)=4.739825e-002; ng(n+1)=2.789931e+002;
n=96; farx(n+1)=1.151597e+000; foe(n+1)=3.145831e+000; krok(n+1)=1.420161e-002; ng(n+1)=3.237212e+002;
n=97; farx(n+1)=1.164038e+000; foe(n+1)=2.988920e+000; krok(n+1)=1.816570e-002; ng(n+1)=3.035509e+002;
n=98; farx(n+1)=1.240114e+000; foe(n+1)=2.869616e+000; krok(n+1)=5.042484e-002; ng(n+1)=5.860250e+002;
n=99; farx(n+1)=1.282776e+000; foe(n+1)=2.771832e+000; krok(n+1)=3.450322e-002; ng(n+1)=3.297915e+002;
n=100; farx(n+1)=1.164184e+000; foe(n+1)=2.573567e+000; krok(n+1)=8.625198e-002; ng(n+1)=2.124989e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
