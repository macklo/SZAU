%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.756582e+003; foe(n+1)=4.646700e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.069427e+003; foe(n+1)=2.979750e+003; krok(n+1)=5.100741e-004; ng(n+1)=4.965827e+003;
n=2; farx(n+1)=1.083894e+003; foe(n+1)=9.562823e+002; krok(n+1)=3.990929e-003; ng(n+1)=1.991567e+003;
n=3; farx(n+1)=1.303075e+003; foe(n+1)=6.744483e+002; krok(n+1)=1.180809e-004; ng(n+1)=8.955524e+003;
n=4; farx(n+1)=1.712343e+003; foe(n+1)=5.751797e+002; krok(n+1)=2.125792e-004; ng(n+1)=8.378058e+003;
n=5; farx(n+1)=1.090163e+003; foe(n+1)=4.961489e+002; krok(n+1)=4.693644e-003; ng(n+1)=9.492481e+002;
n=6; farx(n+1)=1.060125e+003; foe(n+1)=4.931203e+002; krok(n+1)=1.492510e-004; ng(n+1)=2.183999e+003;
n=7; farx(n+1)=2.106130e+002; foe(n+1)=3.482298e+002; krok(n+1)=1.772228e-003; ng(n+1)=2.320306e+003;
n=8; farx(n+1)=1.462290e+002; foe(n+1)=3.308775e+002; krok(n+1)=2.342760e-005; ng(n+1)=1.162074e+004;
n=9; farx(n+1)=1.163455e+002; foe(n+1)=3.209684e+002; krok(n+1)=2.625683e-004; ng(n+1)=1.353237e+004;
n=10; farx(n+1)=1.120844e+002; foe(n+1)=3.170536e+002; krok(n+1)=4.187132e-004; ng(n+1)=1.197002e+004;
n=11; farx(n+1)=1.200596e+002; foe(n+1)=3.115032e+002; krok(n+1)=8.351411e-004; ng(n+1)=1.047724e+004;
n=12; farx(n+1)=1.209470e+002; foe(n+1)=3.085809e+002; krok(n+1)=4.356528e-004; ng(n+1)=6.854383e+003;
n=13; farx(n+1)=1.533274e+002; foe(n+1)=2.987062e+002; krok(n+1)=2.947309e-003; ng(n+1)=4.026853e+003;
n=14; farx(n+1)=1.626295e+002; foe(n+1)=2.810415e+002; krok(n+1)=2.348414e-003; ng(n+1)=2.279670e+003;
n=15; farx(n+1)=1.616988e+002; foe(n+1)=2.501151e+002; krok(n+1)=2.004465e-003; ng(n+1)=2.718364e+003;
n=16; farx(n+1)=1.598855e+002; foe(n+1)=2.433856e+002; krok(n+1)=3.229906e-004; ng(n+1)=2.450978e+003;
n=17; farx(n+1)=9.727317e+001; foe(n+1)=1.573098e+002; krok(n+1)=2.827499e-003; ng(n+1)=2.290698e+003;
n=18; farx(n+1)=9.722161e+001; foe(n+1)=1.571383e+002; krok(n+1)=3.779703e-006; ng(n+1)=6.178111e+003;
n=19; farx(n+1)=9.710218e+001; foe(n+1)=1.479283e+002; krok(n+1)=7.209870e-004; ng(n+1)=4.869381e+003;
n=20; farx(n+1)=1.044353e+002; foe(n+1)=1.420146e+002; krok(n+1)=2.647020e-003; ng(n+1)=2.554681e+003;
n=21; farx(n+1)=1.066559e+002; foe(n+1)=1.380806e+002; krok(n+1)=7.504897e-003; ng(n+1)=2.891101e+003;
n=22; farx(n+1)=1.261311e+002; foe(n+1)=1.083130e+002; krok(n+1)=1.461943e-003; ng(n+1)=8.195654e+003;
n=23; farx(n+1)=1.259776e+002; foe(n+1)=1.078533e+002; krok(n+1)=1.552961e-004; ng(n+1)=2.695226e+003;
n=24; farx(n+1)=1.303896e+002; foe(n+1)=1.055016e+002; krok(n+1)=8.631728e-004; ng(n+1)=6.257508e+003;
n=25; farx(n+1)=1.365669e+002; foe(n+1)=1.031512e+002; krok(n+1)=2.914397e-003; ng(n+1)=1.747905e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.361697e+002; foe(n+1)=1.019236e+002; krok(n+1)=7.850897e-007; ng(n+1)=6.355693e+003;
n=27; farx(n+1)=1.384914e+002; foe(n+1)=1.012408e+002; krok(n+1)=9.675577e-005; ng(n+1)=4.749189e+002;
n=28; farx(n+1)=1.442882e+002; foe(n+1)=9.896290e+001; krok(n+1)=3.007977e-004; ng(n+1)=7.113241e+002;
n=29; farx(n+1)=1.310599e+002; foe(n+1)=9.546267e+001; krok(n+1)=6.421814e-004; ng(n+1)=8.300473e+002;
n=30; farx(n+1)=8.016254e+001; foe(n+1)=8.675529e+001; krok(n+1)=2.742688e-003; ng(n+1)=1.259637e+003;
n=31; farx(n+1)=7.220472e+001; foe(n+1)=8.298325e+001; krok(n+1)=1.587460e-003; ng(n+1)=3.422608e+003;
n=32; farx(n+1)=6.732715e+001; foe(n+1)=7.617619e+001; krok(n+1)=1.276921e-003; ng(n+1)=3.841677e+003;
n=33; farx(n+1)=6.179198e+001; foe(n+1)=7.360855e+001; krok(n+1)=8.351411e-004; ng(n+1)=1.110476e+003;
n=34; farx(n+1)=5.203112e+001; foe(n+1)=6.904907e+001; krok(n+1)=9.854180e-004; ng(n+1)=5.579416e+003;
n=35; farx(n+1)=4.630280e+001; foe(n+1)=6.359904e+001; krok(n+1)=9.914730e-004; ng(n+1)=5.408854e+003;
n=36; farx(n+1)=3.812945e+001; foe(n+1)=6.143234e+001; krok(n+1)=7.286945e-004; ng(n+1)=3.040442e+003;
n=37; farx(n+1)=2.417025e+001; foe(n+1)=5.377002e+001; krok(n+1)=2.647552e-003; ng(n+1)=1.340908e+003;
n=38; farx(n+1)=2.219067e+001; foe(n+1)=5.157842e+001; krok(n+1)=1.244450e-003; ng(n+1)=2.845441e+003;
n=39; farx(n+1)=2.049680e+001; foe(n+1)=4.943634e+001; krok(n+1)=3.549942e-003; ng(n+1)=9.220034e+002;
n=40; farx(n+1)=1.985883e+001; foe(n+1)=4.680405e+001; krok(n+1)=9.824964e-004; ng(n+1)=1.713760e+003;
n=41; farx(n+1)=1.815265e+001; foe(n+1)=4.527234e+001; krok(n+1)=1.320637e-003; ng(n+1)=1.363395e+003;
n=42; farx(n+1)=1.636574e+001; foe(n+1)=4.365728e+001; krok(n+1)=1.463096e-003; ng(n+1)=2.079757e+003;
n=43; farx(n+1)=1.352290e+001; foe(n+1)=4.241620e+001; krok(n+1)=2.187783e-003; ng(n+1)=1.436901e+003;
n=44; farx(n+1)=1.141152e+001; foe(n+1)=4.007943e+001; krok(n+1)=7.088910e-003; ng(n+1)=2.087963e+003;
n=45; farx(n+1)=1.074127e+001; foe(n+1)=3.907705e+001; krok(n+1)=4.690560e-004; ng(n+1)=3.964907e+003;
n=46; farx(n+1)=8.648356e+000; foe(n+1)=3.704090e+001; krok(n+1)=1.082825e-002; ng(n+1)=2.522069e+003;
n=47; farx(n+1)=7.252721e+000; foe(n+1)=3.455238e+001; krok(n+1)=3.400118e-003; ng(n+1)=1.696933e+003;
n=48; farx(n+1)=6.115247e+000; foe(n+1)=2.991084e+001; krok(n+1)=3.500453e-003; ng(n+1)=2.078707e+003;
n=49; farx(n+1)=6.146261e+000; foe(n+1)=2.865469e+001; krok(n+1)=1.675019e-003; ng(n+1)=5.480935e+003;
n=50; farx(n+1)=6.204365e+000; foe(n+1)=2.778879e+001; krok(n+1)=4.464102e-003; ng(n+1)=6.263086e+003;
%odnowa zmiennej metryki
n=51; farx(n+1)=6.304585e+000; foe(n+1)=2.440868e+001; krok(n+1)=5.005977e-006; ng(n+1)=4.784025e+003;
n=52; farx(n+1)=6.751221e+000; foe(n+1)=2.238548e+001; krok(n+1)=7.130722e-005; ng(n+1)=8.394647e+002;
n=53; farx(n+1)=5.121780e+000; foe(n+1)=1.605589e+001; krok(n+1)=1.874926e-004; ng(n+1)=9.722079e+002;
n=54; farx(n+1)=4.863222e+000; foe(n+1)=1.576051e+001; krok(n+1)=1.482218e-004; ng(n+1)=2.128348e+003;
n=55; farx(n+1)=4.394001e+000; foe(n+1)=1.325673e+001; krok(n+1)=1.504792e-003; ng(n+1)=2.514129e+003;
n=56; farx(n+1)=4.350359e+000; foe(n+1)=1.286580e+001; krok(n+1)=4.430569e-004; ng(n+1)=1.780931e+003;
n=57; farx(n+1)=4.437630e+000; foe(n+1)=1.094109e+001; krok(n+1)=2.312019e-003; ng(n+1)=2.360686e+003;
n=58; farx(n+1)=4.307256e+000; foe(n+1)=8.403900e+000; krok(n+1)=1.651654e-003; ng(n+1)=3.342088e+003;
n=59; farx(n+1)=4.170946e+000; foe(n+1)=8.013028e+000; krok(n+1)=1.846469e-003; ng(n+1)=5.674737e+002;
n=60; farx(n+1)=3.827773e+000; foe(n+1)=7.318247e+000; krok(n+1)=8.099144e-003; ng(n+1)=6.310753e+002;
n=61; farx(n+1)=3.466869e+000; foe(n+1)=6.827358e+000; krok(n+1)=3.096185e-003; ng(n+1)=5.147852e+002;
n=62; farx(n+1)=3.361087e+000; foe(n+1)=6.643440e+000; krok(n+1)=5.711090e-003; ng(n+1)=4.513079e+002;
n=63; farx(n+1)=3.236511e+000; foe(n+1)=6.368106e+000; krok(n+1)=8.816889e-003; ng(n+1)=3.014139e+002;
n=64; farx(n+1)=2.714309e+000; foe(n+1)=5.852124e+000; krok(n+1)=3.081106e-002; ng(n+1)=3.304630e+002;
n=65; farx(n+1)=2.428522e+000; foe(n+1)=5.278429e+000; krok(n+1)=1.706649e-002; ng(n+1)=5.684148e+002;
n=66; farx(n+1)=2.330365e+000; foe(n+1)=4.973270e+000; krok(n+1)=3.816075e-003; ng(n+1)=4.781516e+002;
n=67; farx(n+1)=2.270394e+000; foe(n+1)=4.751806e+000; krok(n+1)=3.225080e-003; ng(n+1)=5.425785e+002;
n=68; farx(n+1)=2.102347e+000; foe(n+1)=4.361943e+000; krok(n+1)=2.799347e-002; ng(n+1)=1.626353e+002;
n=69; farx(n+1)=2.047578e+000; foe(n+1)=4.208230e+000; krok(n+1)=7.321912e-003; ng(n+1)=4.248566e+002;
n=70; farx(n+1)=2.028015e+000; foe(n+1)=4.123706e+000; krok(n+1)=4.522618e-003; ng(n+1)=5.930776e+002;
n=71; farx(n+1)=1.864537e+000; foe(n+1)=3.822796e+000; krok(n+1)=2.194150e-002; ng(n+1)=2.914637e+002;
n=72; farx(n+1)=1.778937e+000; foe(n+1)=3.684716e+000; krok(n+1)=1.532189e-002; ng(n+1)=3.697337e+002;
n=73; farx(n+1)=1.663034e+000; foe(n+1)=3.507983e+000; krok(n+1)=2.896961e-002; ng(n+1)=6.095511e+002;
n=74; farx(n+1)=1.629569e+000; foe(n+1)=3.327088e+000; krok(n+1)=1.857911e-002; ng(n+1)=5.696865e+002;
n=75; farx(n+1)=1.411807e+000; foe(n+1)=2.913670e+000; krok(n+1)=3.809820e-002; ng(n+1)=1.365892e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.410037e+000; foe(n+1)=2.826617e+000; krok(n+1)=3.185077e-006; ng(n+1)=8.689738e+002;
n=77; farx(n+1)=1.411390e+000; foe(n+1)=2.813550e+000; krok(n+1)=1.511881e-005; ng(n+1)=1.772188e+002;
n=78; farx(n+1)=1.415968e+000; foe(n+1)=2.789021e+000; krok(n+1)=6.952670e-005; ng(n+1)=1.083723e+002;
n=79; farx(n+1)=1.412284e+000; foe(n+1)=2.776630e+000; krok(n+1)=1.376014e-004; ng(n+1)=5.176811e+001;
n=80; farx(n+1)=1.400737e+000; foe(n+1)=2.727703e+000; krok(n+1)=1.504792e-003; ng(n+1)=3.397368e+001;
n=81; farx(n+1)=1.349149e+000; foe(n+1)=2.619261e+000; krok(n+1)=2.553842e-003; ng(n+1)=4.910685e+001;
n=82; farx(n+1)=1.327987e+000; foe(n+1)=2.532348e+000; krok(n+1)=2.914778e-003; ng(n+1)=1.163248e+002;
n=83; farx(n+1)=1.311527e+000; foe(n+1)=2.458277e+000; krok(n+1)=5.548179e-003; ng(n+1)=1.198319e+002;
n=84; farx(n+1)=1.280707e+000; foe(n+1)=2.369645e+000; krok(n+1)=1.109636e-002; ng(n+1)=1.887179e+002;
n=85; farx(n+1)=1.259305e+000; foe(n+1)=2.309247e+000; krok(n+1)=1.311143e-002; ng(n+1)=1.511741e+002;
n=86; farx(n+1)=1.246566e+000; foe(n+1)=2.251935e+000; krok(n+1)=2.254077e-003; ng(n+1)=3.082947e+002;
n=87; farx(n+1)=1.239868e+000; foe(n+1)=2.170634e+000; krok(n+1)=1.269968e-002; ng(n+1)=4.766696e+002;
n=88; farx(n+1)=1.198449e+000; foe(n+1)=2.013500e+000; krok(n+1)=3.076926e-002; ng(n+1)=1.335067e+002;
n=89; farx(n+1)=1.195461e+000; foe(n+1)=1.897631e+000; krok(n+1)=1.004449e-002; ng(n+1)=2.654497e+002;
n=90; farx(n+1)=1.188828e+000; foe(n+1)=1.833465e+000; krok(n+1)=4.838912e-003; ng(n+1)=4.385621e+002;
n=91; farx(n+1)=1.175915e+000; foe(n+1)=1.761793e+000; krok(n+1)=1.165911e-002; ng(n+1)=1.568058e+002;
n=92; farx(n+1)=1.188127e+000; foe(n+1)=1.677821e+000; krok(n+1)=7.366454e-003; ng(n+1)=4.576489e+002;
n=93; farx(n+1)=1.211646e+000; foe(n+1)=1.620525e+000; krok(n+1)=2.079162e-002; ng(n+1)=3.892993e+002;
n=94; farx(n+1)=1.246083e+000; foe(n+1)=1.525398e+000; krok(n+1)=3.637216e-002; ng(n+1)=2.064527e+002;
n=95; farx(n+1)=1.259867e+000; foe(n+1)=1.485850e+000; krok(n+1)=1.547432e-002; ng(n+1)=2.342764e+002;
n=96; farx(n+1)=1.264690e+000; foe(n+1)=1.447634e+000; krok(n+1)=1.519649e-002; ng(n+1)=3.232138e+002;
n=97; farx(n+1)=1.244543e+000; foe(n+1)=1.384474e+000; krok(n+1)=1.897240e-002; ng(n+1)=2.910588e+002;
n=98; farx(n+1)=1.214606e+000; foe(n+1)=1.335380e+000; krok(n+1)=1.936726e-002; ng(n+1)=3.500416e+002;
n=99; farx(n+1)=1.194118e+000; foe(n+1)=1.306088e+000; krok(n+1)=1.839173e-002; ng(n+1)=2.303869e+002;
n=100; farx(n+1)=1.162322e+000; foe(n+1)=1.273731e+000; krok(n+1)=4.784719e-002; ng(n+1)=3.394792e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
