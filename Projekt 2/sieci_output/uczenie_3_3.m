%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.012339e+003; foe(n+1)=4.045453e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.898545e+003; foe(n+1)=2.962449e+003; krok(n+1)=4.912482e-004; ng(n+1)=2.808464e+003;
n=2; farx(n+1)=1.072136e+003; foe(n+1)=1.113367e+003; krok(n+1)=3.816075e-003; ng(n+1)=1.139597e+003;
n=3; farx(n+1)=1.157539e+003; foe(n+1)=9.438995e+002; krok(n+1)=6.112503e-005; ng(n+1)=6.030652e+003;
n=4; farx(n+1)=1.835754e+003; foe(n+1)=6.327867e+002; krok(n+1)=8.471113e-004; ng(n+1)=6.764139e+003;
n=5; farx(n+1)=6.657703e+002; foe(n+1)=3.899598e+002; krok(n+1)=1.041670e-002; ng(n+1)=1.188842e+003;
n=6; farx(n+1)=5.550061e+002; foe(n+1)=3.629933e+002; krok(n+1)=2.172259e-004; ng(n+1)=2.033670e+003;
n=7; farx(n+1)=5.312685e+002; foe(n+1)=3.598926e+002; krok(n+1)=2.110020e-004; ng(n+1)=1.093075e+003;
n=8; farx(n+1)=3.631209e+002; foe(n+1)=3.233159e+002; krok(n+1)=1.013647e-002; ng(n+1)=5.870087e+002;
n=9; farx(n+1)=1.472407e+002; foe(n+1)=2.677827e+002; krok(n+1)=3.888877e-003; ng(n+1)=9.188243e+002;
n=10; farx(n+1)=1.236455e+002; foe(n+1)=2.508372e+002; krok(n+1)=9.396816e-004; ng(n+1)=4.370197e+003;
n=11; farx(n+1)=1.500096e+002; foe(n+1)=2.303548e+002; krok(n+1)=1.575776e-003; ng(n+1)=4.872805e+003;
n=12; farx(n+1)=1.533357e+002; foe(n+1)=2.192073e+002; krok(n+1)=4.703531e-004; ng(n+1)=3.243383e+003;
n=13; farx(n+1)=1.491058e+002; foe(n+1)=2.069959e+002; krok(n+1)=6.947618e-003; ng(n+1)=3.125847e+003;
n=14; farx(n+1)=1.487850e+002; foe(n+1)=2.059075e+002; krok(n+1)=1.900907e-003; ng(n+1)=2.402738e+003;
n=15; farx(n+1)=1.481951e+002; foe(n+1)=1.930115e+002; krok(n+1)=2.693892e-002; ng(n+1)=4.210814e+003;
n=16; farx(n+1)=1.227566e+002; foe(n+1)=1.836767e+002; krok(n+1)=4.508154e-003; ng(n+1)=7.090108e+003;
n=17; farx(n+1)=1.132093e+002; foe(n+1)=1.805406e+002; krok(n+1)=8.940659e-004; ng(n+1)=3.044103e+003;
n=18; farx(n+1)=6.159980e+001; foe(n+1)=1.723475e+002; krok(n+1)=1.238474e-002; ng(n+1)=4.306308e+003;
n=19; farx(n+1)=3.741839e+001; foe(n+1)=1.086170e+002; krok(n+1)=1.794664e-001; ng(n+1)=2.891231e+003;
n=20; farx(n+1)=1.692672e+001; foe(n+1)=4.652388e+001; krok(n+1)=2.250273e-001; ng(n+1)=5.060773e+003;
n=21; farx(n+1)=1.688177e+001; foe(n+1)=4.268395e+001; krok(n+1)=5.570844e-002; ng(n+1)=1.613143e+003;
n=22; farx(n+1)=1.409580e+001; foe(n+1)=3.708255e+001; krok(n+1)=1.775417e-001; ng(n+1)=5.845842e+002;
n=23; farx(n+1)=1.328689e+001; foe(n+1)=3.353677e+001; krok(n+1)=5.974954e-001; ng(n+1)=8.427840e+002;
n=24; farx(n+1)=1.374380e+001; foe(n+1)=2.811157e+001; krok(n+1)=1.549732e+000; ng(n+1)=4.505378e+002;
n=25; farx(n+1)=1.300718e+001; foe(n+1)=2.539131e+001; krok(n+1)=1.445753e+000; ng(n+1)=4.506898e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.301073e+001; foe(n+1)=2.508328e+001; krok(n+1)=1.871916e-005; ng(n+1)=4.232211e+002;
n=27; farx(n+1)=1.345487e+001; foe(n+1)=2.463449e+001; krok(n+1)=4.430064e-004; ng(n+1)=1.158393e+002;
n=28; farx(n+1)=1.369463e+001; foe(n+1)=2.379653e+001; krok(n+1)=7.740461e-004; ng(n+1)=9.411855e+001;
n=29; farx(n+1)=1.426083e+001; foe(n+1)=2.325260e+001; krok(n+1)=5.792497e-004; ng(n+1)=2.014404e+002;
n=30; farx(n+1)=1.243395e+001; foe(n+1)=2.085068e+001; krok(n+1)=4.522618e-003; ng(n+1)=2.152850e+002;
n=31; farx(n+1)=1.283558e+001; foe(n+1)=1.980205e+001; krok(n+1)=4.011567e-003; ng(n+1)=2.309417e+002;
n=32; farx(n+1)=1.259827e+001; foe(n+1)=1.957049e+001; krok(n+1)=2.324948e-003; ng(n+1)=5.820524e+002;
n=33; farx(n+1)=1.180141e+001; foe(n+1)=1.859642e+001; krok(n+1)=2.849598e-003; ng(n+1)=1.008288e+003;
n=34; farx(n+1)=1.257326e+001; foe(n+1)=1.817682e+001; krok(n+1)=1.017451e-002; ng(n+1)=8.078538e+002;
n=35; farx(n+1)=1.271132e+001; foe(n+1)=1.752009e+001; krok(n+1)=2.142359e-002; ng(n+1)=5.132473e+002;
n=36; farx(n+1)=1.191031e+001; foe(n+1)=1.709960e+001; krok(n+1)=4.614317e-002; ng(n+1)=5.475106e+002;
n=37; farx(n+1)=1.210905e+001; foe(n+1)=1.680562e+001; krok(n+1)=4.517978e-002; ng(n+1)=4.427098e+002;
n=38; farx(n+1)=1.226165e+001; foe(n+1)=1.618897e+001; krok(n+1)=1.919924e-001; ng(n+1)=5.217387e+002;
n=39; farx(n+1)=1.236682e+001; foe(n+1)=1.608013e+001; krok(n+1)=1.946507e-002; ng(n+1)=3.381231e+002;
n=40; farx(n+1)=1.201430e+001; foe(n+1)=1.557339e+001; krok(n+1)=4.971061e-001; ng(n+1)=2.616357e+002;
n=41; farx(n+1)=1.119914e+001; foe(n+1)=1.486736e+001; krok(n+1)=2.954196e-001; ng(n+1)=2.177299e+002;
n=42; farx(n+1)=9.995930e+000; foe(n+1)=1.434797e+001; krok(n+1)=5.168653e-001; ng(n+1)=3.693315e+002;
n=43; farx(n+1)=8.122538e+000; foe(n+1)=1.342533e+001; krok(n+1)=6.349277e-001; ng(n+1)=4.930262e+002;
n=44; farx(n+1)=6.766268e+000; foe(n+1)=1.259499e+001; krok(n+1)=6.912919e-001; ng(n+1)=3.455291e+002;
n=45; farx(n+1)=5.644684e+000; foe(n+1)=1.163298e+001; krok(n+1)=2.841626e-001; ng(n+1)=4.274273e+002;
n=46; farx(n+1)=5.568004e+000; foe(n+1)=1.118559e+001; krok(n+1)=1.778431e-001; ng(n+1)=5.930337e+002;
n=47; farx(n+1)=5.256577e+000; foe(n+1)=1.058396e+001; krok(n+1)=2.893371e-001; ng(n+1)=3.119044e+002;
n=48; farx(n+1)=4.998870e+000; foe(n+1)=1.006213e+001; krok(n+1)=3.091610e-001; ng(n+1)=2.039921e+002;
n=49; farx(n+1)=4.820635e+000; foe(n+1)=9.612028e+000; krok(n+1)=5.178922e-001; ng(n+1)=3.482957e+002;
n=50; farx(n+1)=4.491651e+000; foe(n+1)=9.261173e+000; krok(n+1)=4.065930e-001; ng(n+1)=2.002937e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=4.488283e+000; foe(n+1)=9.236589e+000; krok(n+1)=9.098641e-006; ng(n+1)=1.435178e+002;
n=52; farx(n+1)=4.478554e+000; foe(n+1)=9.195896e+000; krok(n+1)=9.926586e-005; ng(n+1)=6.454956e+001;
n=53; farx(n+1)=4.372355e+000; foe(n+1)=8.919189e+000; krok(n+1)=3.516052e-003; ng(n+1)=2.933426e+001;
n=54; farx(n+1)=4.197995e+000; foe(n+1)=8.582905e+000; krok(n+1)=2.345612e-004; ng(n+1)=1.111855e+002;
n=55; farx(n+1)=4.152851e+000; foe(n+1)=8.251093e+000; krok(n+1)=1.742801e-003; ng(n+1)=4.911823e+001;
n=56; farx(n+1)=4.065233e+000; foe(n+1)=8.083267e+000; krok(n+1)=2.388016e-003; ng(n+1)=1.718302e+002;
n=57; farx(n+1)=4.021334e+000; foe(n+1)=7.964412e+000; krok(n+1)=1.779752e-003; ng(n+1)=1.121585e+002;
n=58; farx(n+1)=3.800963e+000; foe(n+1)=7.517963e+000; krok(n+1)=5.893163e-002; ng(n+1)=2.328103e+002;
n=59; farx(n+1)=3.763473e+000; foe(n+1)=7.454048e+000; krok(n+1)=1.793370e-002; ng(n+1)=2.446007e+002;
n=60; farx(n+1)=3.874314e+000; foe(n+1)=7.379145e+000; krok(n+1)=2.928765e-002; ng(n+1)=2.304869e+002;
n=61; farx(n+1)=3.847419e+000; foe(n+1)=7.321061e+000; krok(n+1)=4.818488e-002; ng(n+1)=2.070362e+002;
n=62; farx(n+1)=3.814538e+000; foe(n+1)=7.289510e+000; krok(n+1)=2.008899e-002; ng(n+1)=2.131325e+002;
n=63; farx(n+1)=3.763765e+000; foe(n+1)=7.130153e+000; krok(n+1)=1.077557e-001; ng(n+1)=2.500021e+002;
n=64; farx(n+1)=3.552880e+000; foe(n+1)=6.853671e+000; krok(n+1)=9.120186e-002; ng(n+1)=2.368121e+002;
n=65; farx(n+1)=3.318127e+000; foe(n+1)=6.426008e+000; krok(n+1)=9.372047e-001; ng(n+1)=1.300693e+002;
n=66; farx(n+1)=3.062518e+000; foe(n+1)=5.901219e+000; krok(n+1)=4.500546e-001; ng(n+1)=1.100229e+002;
n=67; farx(n+1)=2.930317e+000; foe(n+1)=5.693597e+000; krok(n+1)=4.536903e-001; ng(n+1)=2.427422e+002;
n=68; farx(n+1)=2.832124e+000; foe(n+1)=5.568318e+000; krok(n+1)=3.891962e-001; ng(n+1)=1.989393e+002;
n=69; farx(n+1)=2.684095e+000; foe(n+1)=5.337695e+000; krok(n+1)=3.691454e-001; ng(n+1)=2.221018e+002;
n=70; farx(n+1)=2.521767e+000; foe(n+1)=5.119773e+000; krok(n+1)=6.807263e-001; ng(n+1)=5.891362e+001;
n=71; farx(n+1)=2.387864e+000; foe(n+1)=4.890930e+000; krok(n+1)=4.556164e-001; ng(n+1)=1.775858e+002;
n=72; farx(n+1)=2.287226e+000; foe(n+1)=4.787474e+000; krok(n+1)=3.435737e-001; ng(n+1)=1.808854e+002;
n=73; farx(n+1)=2.212090e+000; foe(n+1)=4.700190e+000; krok(n+1)=3.903951e-001; ng(n+1)=1.140947e+002;
n=74; farx(n+1)=2.080209e+000; foe(n+1)=4.567492e+000; krok(n+1)=8.328011e-001; ng(n+1)=1.580934e+002;
n=75; farx(n+1)=2.008301e+000; foe(n+1)=4.480353e+000; krok(n+1)=9.282331e-001; ng(n+1)=6.369794e+001;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.003234e+000; foe(n+1)=4.438431e+000; krok(n+1)=1.453926e-005; ng(n+1)=1.584978e+002;
n=77; farx(n+1)=2.000675e+000; foe(n+1)=4.425482e+000; krok(n+1)=3.897392e-006; ng(n+1)=1.566936e+002;
n=78; farx(n+1)=1.998730e+000; foe(n+1)=4.423810e+000; krok(n+1)=5.075699e-005; ng(n+1)=1.659140e+001;
n=79; farx(n+1)=1.995762e+000; foe(n+1)=4.411948e+000; krok(n+1)=9.305128e-004; ng(n+1)=1.082162e+001;
n=80; farx(n+1)=2.000364e+000; foe(n+1)=4.380016e+000; krok(n+1)=1.233983e-003; ng(n+1)=1.565094e+001;
n=81; farx(n+1)=2.019467e+000; foe(n+1)=4.238619e+000; krok(n+1)=1.159819e-002; ng(n+1)=1.666782e+001;
n=82; farx(n+1)=1.974555e+000; foe(n+1)=4.205267e+000; krok(n+1)=6.853004e-003; ng(n+1)=1.124093e+002;
n=83; farx(n+1)=1.982207e+000; foe(n+1)=4.197138e+000; krok(n+1)=2.043074e-002; ng(n+1)=1.805615e+002;
n=84; farx(n+1)=2.017936e+000; foe(n+1)=4.186905e+000; krok(n+1)=4.663645e-002; ng(n+1)=1.843665e+002;
n=85; farx(n+1)=2.009549e+000; foe(n+1)=4.159188e+000; krok(n+1)=7.406706e-002; ng(n+1)=1.844998e+002;
n=86; farx(n+1)=1.982051e+000; foe(n+1)=4.083748e+000; krok(n+1)=3.068818e-002; ng(n+1)=1.326254e+002;
n=87; farx(n+1)=1.948630e+000; foe(n+1)=4.005628e+000; krok(n+1)=2.278082e-001; ng(n+1)=1.653092e+002;
n=88; farx(n+1)=1.968031e+000; foe(n+1)=3.921264e+000; krok(n+1)=3.745525e-001; ng(n+1)=7.697359e+001;
n=89; farx(n+1)=1.920566e+000; foe(n+1)=3.884555e+000; krok(n+1)=2.083339e-002; ng(n+1)=6.820038e+001;
n=90; farx(n+1)=1.856247e+000; foe(n+1)=3.660004e+000; krok(n+1)=1.934637e+000; ng(n+1)=1.195665e+002;
n=91; farx(n+1)=1.836983e+000; foe(n+1)=3.605434e+000; krok(n+1)=2.103304e-001; ng(n+1)=1.963320e+002;
n=92; farx(n+1)=1.778289e+000; foe(n+1)=3.491870e+000; krok(n+1)=7.926233e-001; ng(n+1)=2.011926e+002;
n=93; farx(n+1)=1.763151e+000; foe(n+1)=3.434702e+000; krok(n+1)=2.203117e-001; ng(n+1)=2.060857e+002;
n=94; farx(n+1)=1.774527e+000; foe(n+1)=3.363493e+000; krok(n+1)=6.954939e-001; ng(n+1)=1.862537e+002;
n=95; farx(n+1)=1.745656e+000; foe(n+1)=3.275148e+000; krok(n+1)=1.160845e+000; ng(n+1)=1.061121e+002;
n=96; farx(n+1)=1.753776e+000; foe(n+1)=3.228594e+000; krok(n+1)=4.788369e-001; ng(n+1)=2.881932e+002;
n=97; farx(n+1)=1.756679e+000; foe(n+1)=3.163155e+000; krok(n+1)=5.256551e-001; ng(n+1)=1.541864e+002;
n=98; farx(n+1)=1.736777e+000; foe(n+1)=3.113722e+000; krok(n+1)=8.256204e-001; ng(n+1)=1.342688e+002;
n=99; farx(n+1)=1.715091e+000; foe(n+1)=3.082585e+000; krok(n+1)=4.275922e-001; ng(n+1)=1.070805e+002;
n=100; farx(n+1)=1.673085e+000; foe(n+1)=3.055136e+000; krok(n+1)=5.014424e-001; ng(n+1)=1.742483e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
