%uczenie predyktora oe
clear all;
n=0; farx(n+1)=5.004068e+003; foe(n+1)=4.854001e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.924316e+003; foe(n+1)=3.702965e+003; krok(n+1)=3.749852e-004; ng(n+1)=4.244077e+003;
n=2; farx(n+1)=1.113938e+003; foe(n+1)=8.847918e+002; krok(n+1)=1.742801e-003; ng(n+1)=2.822944e+003;
n=3; farx(n+1)=1.218093e+003; foe(n+1)=7.720418e+002; krok(n+1)=2.345280e-004; ng(n+1)=2.981662e+003;
n=4; farx(n+1)=4.367603e+002; foe(n+1)=5.339331e+002; krok(n+1)=5.162776e-003; ng(n+1)=8.428605e+002;
n=5; farx(n+1)=3.983751e+002; foe(n+1)=4.911232e+002; krok(n+1)=2.626087e-004; ng(n+1)=4.465775e+003;
n=6; farx(n+1)=3.216731e+002; foe(n+1)=4.461446e+002; krok(n+1)=1.758026e-003; ng(n+1)=3.046549e+003;
n=7; farx(n+1)=3.079985e+002; foe(n+1)=4.052005e+002; krok(n+1)=5.840350e-004; ng(n+1)=2.865551e+003;
n=8; farx(n+1)=2.948723e+002; foe(n+1)=3.989237e+002; krok(n+1)=1.532691e-003; ng(n+1)=8.030120e+002;
n=9; farx(n+1)=2.776258e+002; foe(n+1)=3.756364e+002; krok(n+1)=7.321912e-003; ng(n+1)=4.326054e+002;
n=10; farx(n+1)=2.736517e+002; foe(n+1)=3.722851e+002; krok(n+1)=6.326141e-004; ng(n+1)=9.315684e+002;
n=11; farx(n+1)=2.364336e+002; foe(n+1)=3.495043e+002; krok(n+1)=1.423801e-002; ng(n+1)=9.819338e+002;
n=12; farx(n+1)=2.292646e+002; foe(n+1)=3.406889e+002; krok(n+1)=2.659087e-003; ng(n+1)=8.864917e+002;
n=13; farx(n+1)=1.938191e+002; foe(n+1)=3.290973e+002; krok(n+1)=3.740913e-003; ng(n+1)=3.253472e+002;
n=14; farx(n+1)=9.037068e+001; foe(n+1)=2.891765e+002; krok(n+1)=3.974004e-003; ng(n+1)=7.333112e+002;
n=15; farx(n+1)=7.091226e+001; foe(n+1)=2.811408e+002; krok(n+1)=4.476652e-004; ng(n+1)=3.176135e+003;
n=16; farx(n+1)=5.350691e+001; foe(n+1)=2.737659e+002; krok(n+1)=1.620122e-003; ng(n+1)=3.723355e+003;
n=17; farx(n+1)=3.787274e+001; foe(n+1)=2.463894e+002; krok(n+1)=1.250908e-003; ng(n+1)=4.015538e+003;
n=18; farx(n+1)=3.962494e+001; foe(n+1)=2.413761e+002; krok(n+1)=4.526501e-004; ng(n+1)=4.046898e+003;
n=19; farx(n+1)=4.113697e+001; foe(n+1)=2.352304e+002; krok(n+1)=6.480489e-003; ng(n+1)=5.688692e+003;
n=20; farx(n+1)=5.220428e+001; foe(n+1)=2.030352e+002; krok(n+1)=3.096185e-003; ng(n+1)=7.217073e+003;
n=21; farx(n+1)=5.156349e+001; foe(n+1)=1.977700e+002; krok(n+1)=1.078226e-003; ng(n+1)=3.589569e+003;
n=22; farx(n+1)=4.369538e+001; foe(n+1)=1.909770e+002; krok(n+1)=1.171709e-002; ng(n+1)=3.568202e+003;
n=23; farx(n+1)=3.425746e+001; foe(n+1)=1.432444e+002; krok(n+1)=1.679351e-002; ng(n+1)=5.390198e+003;
n=24; farx(n+1)=3.419885e+001; foe(n+1)=1.431326e+002; krok(n+1)=1.697983e-004; ng(n+1)=3.416843e+003;
n=25; farx(n+1)=3.150466e+001; foe(n+1)=1.306003e+002; krok(n+1)=7.830117e-003; ng(n+1)=3.338517e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=3.045533e+001; foe(n+1)=1.240516e+002; krok(n+1)=1.584198e-005; ng(n+1)=2.491894e+003;
n=27; farx(n+1)=2.563017e+001; foe(n+1)=8.605163e+001; krok(n+1)=3.268967e-005; ng(n+1)=3.743918e+003;
n=28; farx(n+1)=1.908704e+001; foe(n+1)=7.129051e+001; krok(n+1)=1.511997e-005; ng(n+1)=4.117862e+003;
n=29; farx(n+1)=1.364562e+001; foe(n+1)=5.704363e+001; krok(n+1)=6.783250e-005; ng(n+1)=1.615260e+003;
n=30; farx(n+1)=9.234031e+000; foe(n+1)=4.562240e+001; krok(n+1)=6.694872e-004; ng(n+1)=1.946912e+003;
n=31; farx(n+1)=9.194994e+000; foe(n+1)=4.184759e+001; krok(n+1)=6.574850e-005; ng(n+1)=8.583527e+002;
n=32; farx(n+1)=9.000923e+000; foe(n+1)=3.839909e+001; krok(n+1)=5.921158e-004; ng(n+1)=1.854840e+003;
n=33; farx(n+1)=8.468355e+000; foe(n+1)=3.469209e+001; krok(n+1)=1.532691e-003; ng(n+1)=2.609335e+003;
n=34; farx(n+1)=7.936994e+000; foe(n+1)=2.997182e+001; krok(n+1)=1.793067e-003; ng(n+1)=2.058151e+003;
n=35; farx(n+1)=7.056331e+000; foe(n+1)=2.382648e+001; krok(n+1)=3.941672e-003; ng(n+1)=2.263560e+003;
n=36; farx(n+1)=7.003752e+000; foe(n+1)=2.281214e+001; krok(n+1)=3.595805e-003; ng(n+1)=1.485134e+003;
n=37; farx(n+1)=6.831864e+000; foe(n+1)=2.229149e+001; krok(n+1)=3.364099e-003; ng(n+1)=1.443778e+003;
n=38; farx(n+1)=6.684441e+000; foe(n+1)=2.182523e+001; krok(n+1)=5.318174e-003; ng(n+1)=1.025300e+003;
n=39; farx(n+1)=6.549180e+000; foe(n+1)=2.127161e+001; krok(n+1)=1.601914e-002; ng(n+1)=1.103131e+003;
n=40; farx(n+1)=6.596462e+000; foe(n+1)=2.035282e+001; krok(n+1)=2.043074e-002; ng(n+1)=1.320120e+003;
n=41; farx(n+1)=6.626629e+000; foe(n+1)=2.013172e+001; krok(n+1)=5.852382e-003; ng(n+1)=1.023269e+003;
n=42; farx(n+1)=6.902864e+000; foe(n+1)=1.967871e+001; krok(n+1)=2.067140e-002; ng(n+1)=7.618823e+002;
n=43; farx(n+1)=7.144276e+000; foe(n+1)=1.922892e+001; krok(n+1)=6.690237e-002; ng(n+1)=7.251690e+002;
n=44; farx(n+1)=6.966363e+000; foe(n+1)=1.883451e+001; krok(n+1)=2.272397e-002; ng(n+1)=6.594805e+002;
n=45; farx(n+1)=6.264487e+000; foe(n+1)=1.809751e+001; krok(n+1)=1.125137e-001; ng(n+1)=7.736039e+002;
n=46; farx(n+1)=6.144400e+000; foe(n+1)=1.675407e+001; krok(n+1)=1.778431e-001; ng(n+1)=3.842481e+002;
n=47; farx(n+1)=6.264997e+000; foe(n+1)=1.572127e+001; krok(n+1)=7.660919e-002; ng(n+1)=8.949698e+002;
n=48; farx(n+1)=5.924033e+000; foe(n+1)=1.497945e+001; krok(n+1)=2.363480e-001; ng(n+1)=3.135005e+002;
n=49; farx(n+1)=6.170002e+000; foe(n+1)=1.416491e+001; krok(n+1)=5.490988e-001; ng(n+1)=2.979175e+002;
n=50; farx(n+1)=4.858372e+000; foe(n+1)=1.294748e+001; krok(n+1)=3.556863e-001; ng(n+1)=1.803242e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=4.808289e+000; foe(n+1)=1.282756e+001; krok(n+1)=1.697768e-005; ng(n+1)=3.401823e+002;
n=52; farx(n+1)=4.772733e+000; foe(n+1)=1.277030e+001; krok(n+1)=1.877682e-005; ng(n+1)=2.004105e+002;
n=53; farx(n+1)=4.747031e+000; foe(n+1)=1.274343e+001; krok(n+1)=3.716123e-005; ng(n+1)=1.085631e+002;
n=54; farx(n+1)=4.655826e+000; foe(n+1)=1.228991e+001; krok(n+1)=4.526501e-004; ng(n+1)=1.129162e+002;
n=55; farx(n+1)=4.429825e+000; foe(n+1)=1.149079e+001; krok(n+1)=2.213894e-003; ng(n+1)=7.334763e+001;
n=56; farx(n+1)=4.237197e+000; foe(n+1)=1.124400e+001; krok(n+1)=1.158294e-003; ng(n+1)=3.194354e+002;
n=57; farx(n+1)=4.085362e+000; foe(n+1)=1.099380e+001; krok(n+1)=3.303309e-003; ng(n+1)=3.903394e+002;
n=58; farx(n+1)=3.973659e+000; foe(n+1)=1.084396e+001; krok(n+1)=3.409550e-003; ng(n+1)=4.669223e+002;
n=59; farx(n+1)=4.068197e+000; foe(n+1)=1.023871e+001; krok(n+1)=2.617232e-002; ng(n+1)=3.981804e+002;
n=60; farx(n+1)=4.036795e+000; foe(n+1)=1.006636e+001; krok(n+1)=5.469456e-004; ng(n+1)=6.286162e+002;
n=61; farx(n+1)=4.127106e+000; foe(n+1)=9.463342e+000; krok(n+1)=1.285062e-002; ng(n+1)=7.425332e+002;
n=62; farx(n+1)=4.121267e+000; foe(n+1)=9.376814e+000; krok(n+1)=8.174750e-003; ng(n+1)=5.510734e+002;
n=63; farx(n+1)=3.959266e+000; foe(n+1)=9.134416e+000; krok(n+1)=1.477175e-002; ng(n+1)=4.442115e+002;
n=64; farx(n+1)=3.928332e+000; foe(n+1)=8.965138e+000; krok(n+1)=9.725768e-003; ng(n+1)=3.907422e+002;
n=65; farx(n+1)=3.766125e+000; foe(n+1)=8.790697e+000; krok(n+1)=1.896911e-002; ng(n+1)=2.485478e+002;
n=66; farx(n+1)=3.701628e+000; foe(n+1)=8.446092e+000; krok(n+1)=2.977118e-002; ng(n+1)=3.671187e+002;
n=67; farx(n+1)=3.260466e+000; foe(n+1)=7.822254e+000; krok(n+1)=3.045281e-002; ng(n+1)=1.781890e+002;
n=68; farx(n+1)=2.675230e+000; foe(n+1)=7.059522e+000; krok(n+1)=2.527804e-002; ng(n+1)=5.536547e+002;
n=69; farx(n+1)=2.595230e+000; foe(n+1)=6.619555e+000; krok(n+1)=6.995615e-002; ng(n+1)=2.736930e+002;
n=70; farx(n+1)=2.547689e+000; foe(n+1)=6.181066e+000; krok(n+1)=1.067078e-001; ng(n+1)=1.893589e+002;
n=71; farx(n+1)=2.264542e+000; foe(n+1)=6.001212e+000; krok(n+1)=1.037624e-001; ng(n+1)=2.497564e+002;
n=72; farx(n+1)=1.921360e+000; foe(n+1)=5.647993e+000; krok(n+1)=8.430727e-002; ng(n+1)=2.048383e+002;
n=73; farx(n+1)=1.771305e+000; foe(n+1)=5.369169e+000; krok(n+1)=7.919636e-002; ng(n+1)=4.351253e+002;
n=74; farx(n+1)=1.760449e+000; foe(n+1)=4.957264e+000; krok(n+1)=3.262230e-001; ng(n+1)=4.104717e+002;
n=75; farx(n+1)=1.406232e+000; foe(n+1)=4.476094e+000; krok(n+1)=1.255673e-001; ng(n+1)=4.170460e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.403076e+000; foe(n+1)=4.435352e+000; krok(n+1)=5.163299e-006; ng(n+1)=3.065678e+002;
n=77; farx(n+1)=1.402971e+000; foe(n+1)=4.421186e+000; krok(n+1)=1.085468e-005; ng(n+1)=1.233834e+002;
n=78; farx(n+1)=1.408237e+000; foe(n+1)=4.354224e+000; krok(n+1)=8.669030e-005; ng(n+1)=9.601763e+001;
n=79; farx(n+1)=1.405952e+000; foe(n+1)=4.341660e+000; krok(n+1)=2.529606e-005; ng(n+1)=8.891834e+001;
n=80; farx(n+1)=1.433027e+000; foe(n+1)=4.203223e+000; krok(n+1)=1.081070e-003; ng(n+1)=4.091852e+001;
n=81; farx(n+1)=1.440098e+000; foe(n+1)=4.140687e+000; krok(n+1)=5.651115e-004; ng(n+1)=4.845498e+001;
n=82; farx(n+1)=1.434186e+000; foe(n+1)=4.102397e+000; krok(n+1)=2.186130e-003; ng(n+1)=3.285404e+001;
n=83; farx(n+1)=1.440982e+000; foe(n+1)=4.009377e+000; krok(n+1)=4.408444e-003; ng(n+1)=3.848622e+001;
n=84; farx(n+1)=1.431293e+000; foe(n+1)=3.954919e+000; krok(n+1)=5.680993e-003; ng(n+1)=6.881160e+001;
n=85; farx(n+1)=1.352045e+000; foe(n+1)=3.914312e+000; krok(n+1)=1.238677e-002; ng(n+1)=1.965995e+002;
n=86; farx(n+1)=1.227012e+000; foe(n+1)=3.732800e+000; krok(n+1)=4.095813e-002; ng(n+1)=2.062247e+002;
n=87; farx(n+1)=1.187206e+000; foe(n+1)=3.586237e+000; krok(n+1)=1.303276e-002; ng(n+1)=9.748421e+001;
n=88; farx(n+1)=1.189946e+000; foe(n+1)=3.553355e+000; krok(n+1)=2.344633e-003; ng(n+1)=4.084716e+002;
n=89; farx(n+1)=1.214351e+000; foe(n+1)=3.461062e+000; krok(n+1)=1.121665e-002; ng(n+1)=4.197583e+002;
n=90; farx(n+1)=1.190957e+000; foe(n+1)=3.421986e+000; krok(n+1)=1.521910e-002; ng(n+1)=3.877263e+002;
n=91; farx(n+1)=1.098667e+000; foe(n+1)=3.258138e+000; krok(n+1)=7.866273e-002; ng(n+1)=6.019425e+002;
n=92; farx(n+1)=1.102035e+000; foe(n+1)=3.181982e+000; krok(n+1)=1.207035e-002; ng(n+1)=6.183945e+002;
n=93; farx(n+1)=1.211442e+000; foe(n+1)=2.981121e+000; krok(n+1)=7.338628e-002; ng(n+1)=5.551950e+002;
n=94; farx(n+1)=1.165954e+000; foe(n+1)=2.900035e+000; krok(n+1)=8.430727e-002; ng(n+1)=3.600681e+002;
n=95; farx(n+1)=1.141265e+000; foe(n+1)=2.758517e+000; krok(n+1)=1.722157e-001; ng(n+1)=3.593551e+002;
n=96; farx(n+1)=1.175507e+000; foe(n+1)=2.712153e+000; krok(n+1)=1.865388e-001; ng(n+1)=3.654632e+002;
n=97; farx(n+1)=1.114384e+000; foe(n+1)=2.671137e+000; krok(n+1)=1.076512e-001; ng(n+1)=1.327185e+002;
n=98; farx(n+1)=1.059109e+000; foe(n+1)=2.633789e+000; krok(n+1)=1.245141e-001; ng(n+1)=9.148493e+001;
n=99; farx(n+1)=1.122957e+000; foe(n+1)=2.555124e+000; krok(n+1)=3.607908e-001; ng(n+1)=1.555194e+002;
n=100; farx(n+1)=1.154217e+000; foe(n+1)=2.486709e+000; krok(n+1)=2.093785e-001; ng(n+1)=1.393621e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
