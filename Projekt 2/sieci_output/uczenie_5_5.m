%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.648787e+003; foe(n+1)=4.679222e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.037363e+003; foe(n+1)=3.021347e+003; krok(n+1)=4.838390e-004; ng(n+1)=4.005366e+003;
n=2; farx(n+1)=1.443483e+003; foe(n+1)=1.613057e+003; krok(n+1)=4.830641e-003; ng(n+1)=8.811248e+002;
n=3; farx(n+1)=1.866113e+003; foe(n+1)=1.244882e+003; krok(n+1)=4.037383e-005; ng(n+1)=1.372733e+004;
n=4; farx(n+1)=3.537631e+003; foe(n+1)=5.932494e+002; krok(n+1)=7.546424e-005; ng(n+1)=2.368846e+004;
n=5; farx(n+1)=3.381069e+003; foe(n+1)=5.749476e+002; krok(n+1)=1.493018e-004; ng(n+1)=2.005491e+003;
n=6; farx(n+1)=2.351902e+003; foe(n+1)=5.249095e+002; krok(n+1)=7.905261e-004; ng(n+1)=1.838803e+003;
n=7; farx(n+1)=1.847207e+003; foe(n+1)=4.437995e+002; krok(n+1)=1.721185e-003; ng(n+1)=1.476945e+003;
n=8; farx(n+1)=1.724760e+003; foe(n+1)=4.276853e+002; krok(n+1)=7.286945e-004; ng(n+1)=3.585089e+003;
n=9; farx(n+1)=1.339283e+003; foe(n+1)=4.026956e+002; krok(n+1)=4.892577e-003; ng(n+1)=3.741250e+003;
n=10; farx(n+1)=1.274081e+003; foe(n+1)=4.007480e+002; krok(n+1)=2.494331e-004; ng(n+1)=1.779753e+003;
n=11; farx(n+1)=1.079824e+003; foe(n+1)=3.910427e+002; krok(n+1)=6.734730e-003; ng(n+1)=1.128880e+003;
n=12; farx(n+1)=9.861330e+002; foe(n+1)=3.883899e+002; krok(n+1)=3.286413e-003; ng(n+1)=1.086611e+003;
n=13; farx(n+1)=5.521756e+002; foe(n+1)=3.661351e+002; krok(n+1)=1.258748e-002; ng(n+1)=1.044049e+003;
n=14; farx(n+1)=4.431445e+002; foe(n+1)=3.490302e+002; krok(n+1)=1.758026e-003; ng(n+1)=2.054599e+003;
n=15; farx(n+1)=5.511041e+002; foe(n+1)=3.331170e+002; krok(n+1)=2.607264e-003; ng(n+1)=3.854276e+003;
n=16; farx(n+1)=6.443675e+002; foe(n+1)=3.271949e+002; krok(n+1)=4.290347e-003; ng(n+1)=2.923725e+003;
n=17; farx(n+1)=6.697364e+002; foe(n+1)=3.260436e+002; krok(n+1)=1.329544e-003; ng(n+1)=1.633791e+003;
n=18; farx(n+1)=6.664538e+002; foe(n+1)=3.186842e+002; krok(n+1)=1.346946e-002; ng(n+1)=1.682367e+003;
n=19; farx(n+1)=6.604146e+002; foe(n+1)=3.155313e+002; krok(n+1)=5.711090e-003; ng(n+1)=1.988267e+003;
n=20; farx(n+1)=4.951853e+002; foe(n+1)=2.973477e+002; krok(n+1)=1.598627e-002; ng(n+1)=1.173615e+003;
n=21; farx(n+1)=4.248811e+002; foe(n+1)=2.939472e+002; krok(n+1)=3.621201e-003; ng(n+1)=8.990675e+002;
n=22; farx(n+1)=3.732361e+002; foe(n+1)=2.906887e+002; krok(n+1)=1.321526e-002; ng(n+1)=1.565753e+003;
n=23; farx(n+1)=3.229981e+002; foe(n+1)=2.826106e+002; krok(n+1)=3.854743e-002; ng(n+1)=8.276858e+002;
n=24; farx(n+1)=2.716034e+002; foe(n+1)=2.635289e+002; krok(n+1)=4.346837e-002; ng(n+1)=7.714372e+002;
n=25; farx(n+1)=2.147998e+002; foe(n+1)=2.528463e+002; krok(n+1)=2.113198e-002; ng(n+1)=4.136497e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.160468e+002; foe(n+1)=2.484871e+002; krok(n+1)=2.502989e-006; ng(n+1)=5.806249e+003;
n=27; farx(n+1)=2.236911e+002; foe(n+1)=2.315351e+002; krok(n+1)=5.445660e-005; ng(n+1)=2.313969e+003;
n=28; farx(n+1)=1.685092e+002; foe(n+1)=2.149226e+002; krok(n+1)=5.239523e-004; ng(n+1)=1.314777e+003;
n=29; farx(n+1)=1.557881e+002; foe(n+1)=2.079825e+002; krok(n+1)=1.133097e-004; ng(n+1)=1.849162e+003;
n=30; farx(n+1)=1.478832e+002; foe(n+1)=1.942111e+002; krok(n+1)=4.047370e-004; ng(n+1)=4.160341e+003;
n=31; farx(n+1)=1.485126e+002; foe(n+1)=1.796593e+002; krok(n+1)=1.317301e-003; ng(n+1)=3.237954e+003;
n=32; farx(n+1)=1.436335e+002; foe(n+1)=1.763159e+002; krok(n+1)=2.958143e-004; ng(n+1)=4.488067e+003;
n=33; farx(n+1)=1.405767e+002; foe(n+1)=1.741547e+002; krok(n+1)=3.383827e-004; ng(n+1)=3.311736e+003;
n=34; farx(n+1)=1.250492e+002; foe(n+1)=1.611280e+002; krok(n+1)=6.117412e-004; ng(n+1)=2.835324e+003;
n=35; farx(n+1)=1.134433e+002; foe(n+1)=1.522909e+002; krok(n+1)=3.921839e-004; ng(n+1)=9.087012e+003;
n=36; farx(n+1)=9.862281e+001; foe(n+1)=1.470393e+002; krok(n+1)=1.612540e-003; ng(n+1)=7.342299e+003;
n=37; farx(n+1)=8.645302e+001; foe(n+1)=1.405196e+002; krok(n+1)=3.049962e-003; ng(n+1)=9.112882e+003;
n=38; farx(n+1)=7.256208e+001; foe(n+1)=1.266957e+002; krok(n+1)=7.799544e-003; ng(n+1)=6.450459e+003;
n=39; farx(n+1)=5.500161e+001; foe(n+1)=1.126173e+002; krok(n+1)=6.752063e-003; ng(n+1)=5.985392e+003;
n=40; farx(n+1)=5.159579e+001; foe(n+1)=1.070835e+002; krok(n+1)=5.362933e-004; ng(n+1)=9.600349e+003;
n=41; farx(n+1)=4.086651e+001; foe(n+1)=9.246760e+001; krok(n+1)=9.128410e-003; ng(n+1)=8.832458e+003;
n=42; farx(n+1)=3.812656e+001; foe(n+1)=8.931123e+001; krok(n+1)=3.721397e-003; ng(n+1)=6.090658e+003;
n=43; farx(n+1)=2.745729e+001; foe(n+1)=7.792645e+001; krok(n+1)=2.642647e-002; ng(n+1)=6.221131e+003;
n=44; farx(n+1)=2.259226e+001; foe(n+1)=7.335640e+001; krok(n+1)=6.256921e-003; ng(n+1)=7.757693e+003;
n=45; farx(n+1)=1.588023e+001; foe(n+1)=6.559861e+001; krok(n+1)=4.256083e-002; ng(n+1)=6.893289e+003;
n=46; farx(n+1)=8.655656e+000; foe(n+1)=5.416653e+001; krok(n+1)=2.398987e-002; ng(n+1)=5.680584e+003;
n=47; farx(n+1)=7.930295e+000; foe(n+1)=4.950876e+001; krok(n+1)=6.545122e-003; ng(n+1)=6.160337e+003;
n=48; farx(n+1)=6.971095e+000; foe(n+1)=4.418453e+001; krok(n+1)=1.791379e-002; ng(n+1)=1.622765e+003;
n=49; farx(n+1)=8.161359e+000; foe(n+1)=3.044109e+001; krok(n+1)=4.953895e-002; ng(n+1)=4.649838e+003;
n=50; farx(n+1)=7.189010e+000; foe(n+1)=2.850487e+001; krok(n+1)=9.019770e-002; ng(n+1)=2.073968e+003;
%odnowa zmiennej metryki
n=51; farx(n+1)=7.037954e+000; foe(n+1)=2.806019e+001; krok(n+1)=2.604953e-006; ng(n+1)=1.489840e+003;
n=52; farx(n+1)=6.129280e+000; foe(n+1)=2.160773e+001; krok(n+1)=3.736809e-005; ng(n+1)=1.782025e+003;
n=53; farx(n+1)=5.739676e+000; foe(n+1)=1.866577e+001; krok(n+1)=8.388029e-005; ng(n+1)=9.556686e+002;
n=54; farx(n+1)=5.172356e+000; foe(n+1)=1.448497e+001; krok(n+1)=2.734728e-004; ng(n+1)=1.147713e+003;
n=55; farx(n+1)=5.037380e+000; foe(n+1)=1.377743e+001; krok(n+1)=1.916970e-005; ng(n+1)=1.229956e+003;
n=56; farx(n+1)=4.932264e+000; foe(n+1)=1.292015e+001; krok(n+1)=1.221241e-003; ng(n+1)=1.000068e+003;
n=57; farx(n+1)=4.636547e+000; foe(n+1)=1.245131e+001; krok(n+1)=3.204735e-003; ng(n+1)=2.181418e+003;
n=58; farx(n+1)=4.300152e+000; foe(n+1)=1.116784e+001; krok(n+1)=6.244283e-003; ng(n+1)=2.417338e+003;
n=59; farx(n+1)=4.099435e+000; foe(n+1)=1.044274e+001; krok(n+1)=4.896932e-003; ng(n+1)=1.072981e+003;
n=60; farx(n+1)=3.994544e+000; foe(n+1)=1.016979e+001; krok(n+1)=8.055458e-003; ng(n+1)=4.831483e+002;
n=61; farx(n+1)=3.626208e+000; foe(n+1)=9.190046e+000; krok(n+1)=1.600678e-002; ng(n+1)=1.001467e+003;
n=62; farx(n+1)=3.452238e+000; foe(n+1)=8.866139e+000; krok(n+1)=3.427028e-003; ng(n+1)=7.308745e+002;
n=63; farx(n+1)=3.286175e+000; foe(n+1)=8.319480e+000; krok(n+1)=1.971968e-002; ng(n+1)=6.353545e+002;
n=64; farx(n+1)=3.251356e+000; foe(n+1)=8.032102e+000; krok(n+1)=8.929289e-003; ng(n+1)=7.788645e+002;
n=65; farx(n+1)=3.127003e+000; foe(n+1)=7.418958e+000; krok(n+1)=7.947193e-003; ng(n+1)=7.108349e+002;
n=66; farx(n+1)=2.859502e+000; foe(n+1)=6.414687e+000; krok(n+1)=5.112424e-002; ng(n+1)=9.289060e+002;
n=67; farx(n+1)=2.864032e+000; foe(n+1)=5.936834e+000; krok(n+1)=1.726831e-002; ng(n+1)=4.594616e+002;
n=68; farx(n+1)=2.800404e+000; foe(n+1)=5.705598e+000; krok(n+1)=1.680696e-002; ng(n+1)=1.032493e+003;
n=69; farx(n+1)=2.752050e+000; foe(n+1)=5.495303e+000; krok(n+1)=9.240905e-003; ng(n+1)=7.165167e+002;
n=70; farx(n+1)=2.599391e+000; foe(n+1)=4.977197e+000; krok(n+1)=5.214880e-002; ng(n+1)=5.246425e+002;
n=71; farx(n+1)=2.564120e+000; foe(n+1)=4.775808e+000; krok(n+1)=5.722022e-002; ng(n+1)=2.186276e+002;
n=72; farx(n+1)=2.219402e+000; foe(n+1)=4.357657e+000; krok(n+1)=2.293950e-001; ng(n+1)=1.569151e+002;
n=73; farx(n+1)=2.150422e+000; foe(n+1)=4.059666e+000; krok(n+1)=2.268451e-001; ng(n+1)=5.175833e+002;
n=74; farx(n+1)=2.002590e+000; foe(n+1)=3.388832e+000; krok(n+1)=3.029139e-001; ng(n+1)=7.274899e+002;
n=75; farx(n+1)=1.824040e+000; foe(n+1)=3.128151e+000; krok(n+1)=4.818488e-002; ng(n+1)=3.813468e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.821722e+000; foe(n+1)=3.082503e+000; krok(n+1)=6.180228e-007; ng(n+1)=9.227297e+002;
n=77; farx(n+1)=1.812372e+000; foe(n+1)=3.023775e+000; krok(n+1)=2.921834e-005; ng(n+1)=1.949802e+002;
n=78; farx(n+1)=1.813709e+000; foe(n+1)=3.015396e+000; krok(n+1)=3.223647e-005; ng(n+1)=7.114763e+001;
n=79; farx(n+1)=1.816204e+000; foe(n+1)=2.996121e+000; krok(n+1)=4.136800e-005; ng(n+1)=9.933686e+001;
n=80; farx(n+1)=1.820701e+000; foe(n+1)=2.963519e+000; krok(n+1)=1.442478e-004; ng(n+1)=6.975307e+001;
n=81; farx(n+1)=1.816357e+000; foe(n+1)=2.917248e+000; krok(n+1)=1.345435e-003; ng(n+1)=3.268524e+001;
n=82; farx(n+1)=1.790397e+000; foe(n+1)=2.871695e+000; krok(n+1)=4.312903e-003; ng(n+1)=4.095049e+001;
n=83; farx(n+1)=1.744920e+000; foe(n+1)=2.807225e+000; krok(n+1)=3.485603e-003; ng(n+1)=1.389256e+002;
n=84; farx(n+1)=1.704761e+000; foe(n+1)=2.767538e+000; krok(n+1)=7.505960e-003; ng(n+1)=5.091671e+002;
n=85; farx(n+1)=1.674518e+000; foe(n+1)=2.719045e+000; krok(n+1)=3.966104e-003; ng(n+1)=3.162745e+002;
n=86; farx(n+1)=1.646196e+000; foe(n+1)=2.657018e+000; krok(n+1)=2.782508e-002; ng(n+1)=3.098661e+002;
n=87; farx(n+1)=1.605460e+000; foe(n+1)=2.564342e+000; krok(n+1)=2.607440e-002; ng(n+1)=5.171264e+002;
n=88; farx(n+1)=1.573162e+000; foe(n+1)=2.501243e+000; krok(n+1)=2.142359e-002; ng(n+1)=2.016404e+002;
n=89; farx(n+1)=1.507943e+000; foe(n+1)=2.423522e+000; krok(n+1)=2.142359e-002; ng(n+1)=6.340108e+002;
n=90; farx(n+1)=1.490301e+000; foe(n+1)=2.323119e+000; krok(n+1)=4.544795e-002; ng(n+1)=2.110336e+002;
n=91; farx(n+1)=1.484254e+000; foe(n+1)=2.287056e+000; krok(n+1)=2.674687e-002; ng(n+1)=1.149459e+002;
n=92; farx(n+1)=1.477290e+000; foe(n+1)=2.222437e+000; krok(n+1)=1.933624e-001; ng(n+1)=4.100625e+002;
n=93; farx(n+1)=1.453422e+000; foe(n+1)=2.147006e+000; krok(n+1)=4.446078e-002; ng(n+1)=2.555850e+002;
n=94; farx(n+1)=1.435511e+000; foe(n+1)=2.122449e+000; krok(n+1)=6.524238e-002; ng(n+1)=2.121315e+002;
n=95; farx(n+1)=1.411589e+000; foe(n+1)=2.032270e+000; krok(n+1)=1.202721e-001; ng(n+1)=4.660992e+002;
n=96; farx(n+1)=1.392918e+000; foe(n+1)=1.945337e+000; krok(n+1)=2.214681e-001; ng(n+1)=1.838577e+002;
n=97; farx(n+1)=1.394354e+000; foe(n+1)=1.864609e+000; krok(n+1)=1.613755e-001; ng(n+1)=8.500420e+002;
n=98; farx(n+1)=1.399701e+000; foe(n+1)=1.849313e+000; krok(n+1)=4.446078e-002; ng(n+1)=2.575487e+002;
n=99; farx(n+1)=1.380714e+000; foe(n+1)=1.732676e+000; krok(n+1)=2.496347e-001; ng(n+1)=3.144823e+002;
n=100; farx(n+1)=1.365146e+000; foe(n+1)=1.673378e+000; krok(n+1)=1.442609e-001; ng(n+1)=3.153754e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
