%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.705626e+003; foe(n+1)=4.633676e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.110121e+003; foe(n+1)=2.982105e+003; krok(n+1)=5.127695e-004; ng(n+1)=3.143169e+003;
n=2; farx(n+1)=1.124450e+003; foe(n+1)=8.616834e+002; krok(n+1)=5.022246e-003; ng(n+1)=1.097305e+003;
n=3; farx(n+1)=1.183685e+003; foe(n+1)=6.684631e+002; krok(n+1)=1.554679e-004; ng(n+1)=4.649163e+003;
n=4; farx(n+1)=1.624843e+003; foe(n+1)=5.137638e+002; krok(n+1)=7.394073e-004; ng(n+1)=5.016428e+003;
n=5; farx(n+1)=5.960344e+002; foe(n+1)=3.600826e+002; krok(n+1)=7.251821e-003; ng(n+1)=5.367987e+002;
n=6; farx(n+1)=5.044798e+002; foe(n+1)=3.436481e+002; krok(n+1)=1.163400e-003; ng(n+1)=7.302055e+002;
n=7; farx(n+1)=4.756756e+002; foe(n+1)=3.404628e+002; krok(n+1)=1.265228e-003; ng(n+1)=3.719716e+002;
n=8; farx(n+1)=4.198170e+002; foe(n+1)=3.344810e+002; krok(n+1)=9.296334e-003; ng(n+1)=2.783860e+002;
n=9; farx(n+1)=3.891747e+002; foe(n+1)=3.247757e+002; krok(n+1)=8.174750e-003; ng(n+1)=5.929833e+002;
n=10; farx(n+1)=3.739050e+002; foe(n+1)=3.213555e+002; krok(n+1)=8.713055e-004; ng(n+1)=4.443037e+002;
n=11; farx(n+1)=3.511415e+002; foe(n+1)=3.152339e+002; krok(n+1)=9.195867e-003; ng(n+1)=5.470797e+002;
n=12; farx(n+1)=3.147575e+002; foe(n+1)=3.061430e+002; krok(n+1)=4.483426e-003; ng(n+1)=8.056905e+002;
n=13; farx(n+1)=2.310914e+002; foe(n+1)=2.730118e+002; krok(n+1)=8.130648e-003; ng(n+1)=5.963675e+002;
n=14; farx(n+1)=1.905637e+002; foe(n+1)=2.594862e+002; krok(n+1)=4.888875e-004; ng(n+1)=1.430591e+003;
n=15; farx(n+1)=1.855527e+002; foe(n+1)=2.390583e+002; krok(n+1)=5.548179e-003; ng(n+1)=2.087178e+003;
n=16; farx(n+1)=1.884921e+002; foe(n+1)=2.371710e+002; krok(n+1)=1.058508e-003; ng(n+1)=7.765385e+002;
n=17; farx(n+1)=1.741253e+002; foe(n+1)=2.327669e+002; krok(n+1)=4.087375e-003; ng(n+1)=7.762760e+002;
n=18; farx(n+1)=1.496660e+002; foe(n+1)=2.283262e+002; krok(n+1)=4.036613e-003; ng(n+1)=9.390090e+002;
n=19; farx(n+1)=1.278178e+002; foe(n+1)=2.221025e+002; krok(n+1)=9.045235e-003; ng(n+1)=1.128244e+003;
n=20; farx(n+1)=8.939929e+001; foe(n+1)=2.132766e+002; krok(n+1)=8.380227e-003; ng(n+1)=1.107412e+003;
n=21; farx(n+1)=5.145649e+001; foe(n+1)=1.913083e+002; krok(n+1)=2.223039e-002; ng(n+1)=2.764046e+003;
n=22; farx(n+1)=4.750088e+001; foe(n+1)=1.891513e+002; krok(n+1)=7.523961e-004; ng(n+1)=5.767432e+003;
n=23; farx(n+1)=4.535418e+001; foe(n+1)=1.849326e+002; krok(n+1)=5.608324e-003; ng(n+1)=9.581839e+003;
n=24; farx(n+1)=4.460289e+001; foe(n+1)=1.834171e+002; krok(n+1)=5.890474e-004; ng(n+1)=1.038943e+004;
n=25; farx(n+1)=4.363795e+001; foe(n+1)=1.808705e+002; krok(n+1)=1.955649e-002; ng(n+1)=1.290930e+004;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.663316e+001; foe(n+1)=1.652434e+002; krok(n+1)=5.005977e-006; ng(n+1)=9.290393e+003;
n=27; farx(n+1)=4.719902e+001; foe(n+1)=1.102520e+002; krok(n+1)=2.352777e-005; ng(n+1)=3.285741e+003;
n=28; farx(n+1)=4.408508e+001; foe(n+1)=1.077238e+002; krok(n+1)=1.347782e-004; ng(n+1)=3.255524e+003;
n=29; farx(n+1)=4.310795e+001; foe(n+1)=9.933271e+001; krok(n+1)=1.075699e-004; ng(n+1)=3.545026e+003;
n=30; farx(n+1)=4.153897e+001; foe(n+1)=9.414753e+001; krok(n+1)=2.298967e-003; ng(n+1)=3.495652e+003;
n=31; farx(n+1)=3.728648e+001; foe(n+1)=8.852972e+001; krok(n+1)=3.467612e-004; ng(n+1)=2.855244e+003;
n=32; farx(n+1)=3.239722e+001; foe(n+1)=7.627964e+001; krok(n+1)=9.261564e-004; ng(n+1)=7.095207e+003;
n=33; farx(n+1)=3.152899e+001; foe(n+1)=7.463718e+001; krok(n+1)=3.192302e-004; ng(n+1)=3.075317e+003;
n=34; farx(n+1)=2.593264e+001; foe(n+1)=6.896990e+001; krok(n+1)=3.812452e-004; ng(n+1)=6.506103e+003;
n=35; farx(n+1)=2.482159e+001; foe(n+1)=6.717626e+001; krok(n+1)=1.402097e-003; ng(n+1)=8.422177e+003;
n=36; farx(n+1)=2.369284e+001; foe(n+1)=6.385065e+001; krok(n+1)=5.022246e-003; ng(n+1)=1.824155e+003;
n=37; farx(n+1)=2.148788e+001; foe(n+1)=6.199379e+001; krok(n+1)=2.339724e-003; ng(n+1)=7.044090e+003;
n=38; farx(n+1)=2.105692e+001; foe(n+1)=6.143702e+001; krok(n+1)=3.941672e-003; ng(n+1)=5.721726e+003;
n=39; farx(n+1)=2.019457e+001; foe(n+1)=6.064773e+001; krok(n+1)=1.274938e-002; ng(n+1)=2.519352e+003;
n=40; farx(n+1)=1.939401e+001; foe(n+1)=5.988323e+001; krok(n+1)=1.226153e-002; ng(n+1)=1.107117e+004;
n=41; farx(n+1)=1.935553e+001; foe(n+1)=5.895576e+001; krok(n+1)=2.277959e-002; ng(n+1)=9.763286e+003;
n=42; farx(n+1)=1.844684e+001; foe(n+1)=5.612032e+001; krok(n+1)=9.019770e-002; ng(n+1)=3.518052e+003;
n=43; farx(n+1)=1.761877e+001; foe(n+1)=5.505789e+001; krok(n+1)=3.798141e-002; ng(n+1)=5.910461e+003;
n=44; farx(n+1)=1.517282e+001; foe(n+1)=4.941872e+001; krok(n+1)=7.439358e-002; ng(n+1)=1.617129e+003;
n=45; farx(n+1)=1.425616e+001; foe(n+1)=3.856584e+001; krok(n+1)=1.484981e-001; ng(n+1)=9.056677e+002;
n=46; farx(n+1)=1.408048e+001; foe(n+1)=3.494103e+001; krok(n+1)=8.877087e-002; ng(n+1)=6.994867e+002;
n=47; farx(n+1)=1.507177e+001; foe(n+1)=3.163271e+001; krok(n+1)=4.890625e-002; ng(n+1)=1.389611e+003;
n=48; farx(n+1)=1.406433e+001; foe(n+1)=2.913777e+001; krok(n+1)=1.530377e-001; ng(n+1)=3.249370e+002;
n=49; farx(n+1)=1.302796e+001; foe(n+1)=2.246277e+001; krok(n+1)=2.800362e-001; ng(n+1)=1.208830e+003;
n=50; farx(n+1)=1.316147e+001; foe(n+1)=1.953041e+001; krok(n+1)=8.179879e-001; ng(n+1)=9.447025e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=1.305609e+001; foe(n+1)=1.927803e+001; krok(n+1)=1.736589e-005; ng(n+1)=3.551680e+002;
n=52; farx(n+1)=1.237520e+001; foe(n+1)=1.856823e+001; krok(n+1)=1.697983e-004; ng(n+1)=1.967199e+002;
n=53; farx(n+1)=1.183578e+001; foe(n+1)=1.726643e+001; krok(n+1)=1.345435e-003; ng(n+1)=1.414196e+002;
n=54; farx(n+1)=1.182335e+001; foe(n+1)=1.708023e+001; krok(n+1)=2.710676e-004; ng(n+1)=8.163710e+001;
n=55; farx(n+1)=1.196338e+001; foe(n+1)=1.689790e+001; krok(n+1)=1.736904e-003; ng(n+1)=4.396546e+001;
n=56; farx(n+1)=1.208534e+001; foe(n+1)=1.672144e+001; krok(n+1)=2.040296e-003; ng(n+1)=8.783671e+001;
n=57; farx(n+1)=1.174771e+001; foe(n+1)=1.599710e+001; krok(n+1)=2.219272e-002; ng(n+1)=5.481053e+001;
n=58; farx(n+1)=1.034349e+001; foe(n+1)=1.511610e+001; krok(n+1)=6.963444e-002; ng(n+1)=1.149638e+002;
n=59; farx(n+1)=8.888732e+000; foe(n+1)=1.463699e+001; krok(n+1)=2.074719e-002; ng(n+1)=1.470972e+002;
n=60; farx(n+1)=8.173654e+000; foe(n+1)=1.351419e+001; krok(n+1)=4.017797e-002; ng(n+1)=1.745152e+002;
n=61; farx(n+1)=7.731253e+000; foe(n+1)=1.275424e+001; krok(n+1)=1.441658e-001; ng(n+1)=4.734652e+002;
n=62; farx(n+1)=7.365137e+000; foe(n+1)=1.247863e+001; krok(n+1)=4.034388e-002; ng(n+1)=2.401859e+002;
n=63; farx(n+1)=6.613589e+000; foe(n+1)=1.153425e+001; krok(n+1)=3.011048e-001; ng(n+1)=3.998968e+002;
n=64; farx(n+1)=6.404046e+000; foe(n+1)=1.080235e+001; krok(n+1)=2.286351e-001; ng(n+1)=2.195887e+002;
n=65; farx(n+1)=5.214197e+000; foe(n+1)=9.936613e+000; krok(n+1)=3.304177e-001; ng(n+1)=1.640194e+002;
n=66; farx(n+1)=4.749504e+000; foe(n+1)=9.640504e+000; krok(n+1)=2.301336e-001; ng(n+1)=2.810648e+002;
n=67; farx(n+1)=4.618721e+000; foe(n+1)=9.020010e+000; krok(n+1)=1.528330e-001; ng(n+1)=3.805750e+002;
n=68; farx(n+1)=4.625684e+000; foe(n+1)=8.848982e+000; krok(n+1)=1.845727e-001; ng(n+1)=3.221560e+002;
n=69; farx(n+1)=4.442426e+000; foe(n+1)=8.470292e+000; krok(n+1)=2.055256e-001; ng(n+1)=1.402321e+002;
n=70; farx(n+1)=4.103901e+000; foe(n+1)=7.937977e+000; krok(n+1)=5.667570e-001; ng(n+1)=1.039460e+002;
n=71; farx(n+1)=3.872483e+000; foe(n+1)=7.656099e+000; krok(n+1)=4.112198e-001; ng(n+1)=2.022864e+002;
n=72; farx(n+1)=3.759700e+000; foe(n+1)=7.363366e+000; krok(n+1)=8.166569e-001; ng(n+1)=1.651594e+002;
n=73; farx(n+1)=3.728852e+000; foe(n+1)=7.201051e+000; krok(n+1)=2.094296e-001; ng(n+1)=1.707160e+002;
n=74; farx(n+1)=3.697524e+000; foe(n+1)=7.127742e+000; krok(n+1)=9.656284e-002; ng(n+1)=9.922316e+001;
n=75; farx(n+1)=3.605755e+000; foe(n+1)=6.896149e+000; krok(n+1)=4.764226e-001; ng(n+1)=1.413007e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=3.570887e+000; foe(n+1)=6.822131e+000; krok(n+1)=5.423010e-005; ng(n+1)=1.049677e+002;
n=77; farx(n+1)=3.569291e+000; foe(n+1)=6.810147e+000; krok(n+1)=7.746296e-006; ng(n+1)=1.272185e+002;
n=78; farx(n+1)=3.553511e+000; foe(n+1)=6.799460e+000; krok(n+1)=9.773946e-005; ng(n+1)=3.675409e+001;
n=79; farx(n+1)=3.520901e+000; foe(n+1)=6.733549e+000; krok(n+1)=8.616391e-004; ng(n+1)=2.820625e+001;
n=80; farx(n+1)=3.471715e+000; foe(n+1)=6.676067e+000; krok(n+1)=1.944438e-003; ng(n+1)=1.803842e+001;
n=81; farx(n+1)=3.276478e+000; foe(n+1)=6.382907e+000; krok(n+1)=7.119007e-003; ng(n+1)=3.110615e+001;
n=82; farx(n+1)=3.256487e+000; foe(n+1)=6.344989e+000; krok(n+1)=2.312418e-003; ng(n+1)=1.324895e+002;
n=83; farx(n+1)=3.237772e+000; foe(n+1)=6.318624e+000; krok(n+1)=4.027729e-003; ng(n+1)=1.747095e+002;
n=84; farx(n+1)=3.204772e+000; foe(n+1)=6.278705e+000; krok(n+1)=8.100548e-002; ng(n+1)=2.074858e+002;
n=85; farx(n+1)=3.186255e+000; foe(n+1)=6.261477e+000; krok(n+1)=1.196180e-002; ng(n+1)=1.646913e+002;
n=86; farx(n+1)=3.141783e+000; foe(n+1)=6.225263e+000; krok(n+1)=3.320390e-002; ng(n+1)=1.763426e+002;
n=87; farx(n+1)=3.045097e+000; foe(n+1)=6.187829e+000; krok(n+1)=4.438543e-002; ng(n+1)=2.139084e+002;
n=88; farx(n+1)=3.035886e+000; foe(n+1)=6.112407e+000; krok(n+1)=3.669314e-002; ng(n+1)=2.100077e+002;
n=89; farx(n+1)=3.138255e+000; foe(n+1)=5.872361e+000; krok(n+1)=2.272257e-001; ng(n+1)=2.058799e+002;
n=90; farx(n+1)=3.157240e+000; foe(n+1)=5.738859e+000; krok(n+1)=2.292046e-001; ng(n+1)=9.290816e+001;
n=91; farx(n+1)=2.987820e+000; foe(n+1)=5.581692e+000; krok(n+1)=3.372291e-001; ng(n+1)=7.870062e+001;
n=92; farx(n+1)=2.858082e+000; foe(n+1)=5.466600e+000; krok(n+1)=1.608941e-001; ng(n+1)=1.024861e+002;
n=93; farx(n+1)=2.637768e+000; foe(n+1)=5.245616e+000; krok(n+1)=6.954939e-001; ng(n+1)=2.435201e+002;
n=94; farx(n+1)=2.527576e+000; foe(n+1)=5.089263e+000; krok(n+1)=4.461084e-001; ng(n+1)=1.530238e+002;
n=95; farx(n+1)=2.422608e+000; foe(n+1)=4.897606e+000; krok(n+1)=5.819545e-001; ng(n+1)=1.363329e+002;
n=96; farx(n+1)=2.402980e+000; foe(n+1)=4.795357e+000; krok(n+1)=2.317569e-001; ng(n+1)=2.525254e+002;
n=97; farx(n+1)=2.389679e+000; foe(n+1)=4.645009e+000; krok(n+1)=6.151726e-001; ng(n+1)=3.179760e+002;
n=98; farx(n+1)=2.336150e+000; foe(n+1)=4.488115e+000; krok(n+1)=6.305900e-001; ng(n+1)=1.047905e+002;
n=99; farx(n+1)=2.297562e+000; foe(n+1)=4.394090e+000; krok(n+1)=3.123324e-001; ng(n+1)=2.726133e+002;
n=100; farx(n+1)=2.265195e+000; foe(n+1)=4.152044e+000; krok(n+1)=7.273018e-001; ng(n+1)=2.147389e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
