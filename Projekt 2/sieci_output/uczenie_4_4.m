%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.788535e+003; foe(n+1)=4.898546e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.922991e+003; foe(n+1)=3.915281e+003; krok(n+1)=3.348253e-004; ng(n+1)=3.075392e+003;
n=2; farx(n+1)=7.067763e+002; foe(n+1)=6.879031e+002; krok(n+1)=1.091588e-002; ng(n+1)=9.133745e+002;
n=3; farx(n+1)=3.811102e+002; foe(n+1)=4.220552e+002; krok(n+1)=2.232322e-003; ng(n+1)=1.374574e+003;
n=4; farx(n+1)=3.511810e+002; foe(n+1)=4.008468e+002; krok(n+1)=2.026610e-004; ng(n+1)=1.437288e+003;
n=5; farx(n+1)=3.252343e+002; foe(n+1)=3.924418e+002; krok(n+1)=1.858436e-004; ng(n+1)=8.599961e+002;
n=6; farx(n+1)=2.772883e+002; foe(n+1)=3.713508e+002; krok(n+1)=1.166078e-003; ng(n+1)=7.297051e+002;
n=7; farx(n+1)=2.080702e+002; foe(n+1)=3.525077e+002; krok(n+1)=1.037622e-003; ng(n+1)=9.373641e+002;
n=8; farx(n+1)=1.821586e+002; foe(n+1)=3.369688e+002; krok(n+1)=3.652332e-004; ng(n+1)=1.017963e+003;
n=9; farx(n+1)=1.566950e+002; foe(n+1)=3.281201e+002; krok(n+1)=4.966995e-004; ng(n+1)=1.317059e+003;
n=10; farx(n+1)=7.100430e+001; foe(n+1)=2.750825e+002; krok(n+1)=3.621201e-003; ng(n+1)=1.752683e+003;
n=11; farx(n+1)=6.993981e+001; foe(n+1)=2.736167e+002; krok(n+1)=8.151193e-006; ng(n+1)=7.245955e+003;
n=12; farx(n+1)=6.911761e+001; foe(n+1)=2.716844e+002; krok(n+1)=2.734728e-004; ng(n+1)=9.134038e+003;
n=13; farx(n+1)=6.940262e+001; foe(n+1)=2.685479e+002; krok(n+1)=2.287557e-003; ng(n+1)=9.031770e+003;
n=14; farx(n+1)=6.962874e+001; foe(n+1)=2.633013e+002; krok(n+1)=1.152797e-003; ng(n+1)=8.860665e+003;
n=15; farx(n+1)=8.863757e+001; foe(n+1)=2.518868e+002; krok(n+1)=6.485153e-003; ng(n+1)=8.998660e+003;
n=16; farx(n+1)=1.156385e+002; foe(n+1)=2.336081e+002; krok(n+1)=1.526430e-002; ng(n+1)=4.970663e+003;
n=17; farx(n+1)=1.006964e+002; foe(n+1)=2.263338e+002; krok(n+1)=2.319637e-002; ng(n+1)=2.796575e+003;
n=18; farx(n+1)=8.898866e+001; foe(n+1)=2.060190e+002; krok(n+1)=2.565762e-002; ng(n+1)=2.906310e+003;
n=19; farx(n+1)=8.636377e+001; foe(n+1)=1.994272e+002; krok(n+1)=2.900728e-002; ng(n+1)=4.592340e+003;
n=20; farx(n+1)=8.594281e+001; foe(n+1)=1.954506e+002; krok(n+1)=2.865473e-002; ng(n+1)=4.219454e+003;
n=21; farx(n+1)=8.355774e+001; foe(n+1)=1.740909e+002; krok(n+1)=3.650930e-002; ng(n+1)=4.201932e+003;
n=22; farx(n+1)=8.152254e+001; foe(n+1)=1.400559e+002; krok(n+1)=4.834060e-002; ng(n+1)=2.801143e+003;
n=23; farx(n+1)=7.333531e+001; foe(n+1)=1.355036e+002; krok(n+1)=1.384117e-002; ng(n+1)=1.977770e+003;
n=24; farx(n+1)=5.892634e+001; foe(n+1)=1.143730e+002; krok(n+1)=1.653254e-001; ng(n+1)=2.497043e+003;
n=25; farx(n+1)=5.860883e+001; foe(n+1)=1.141037e+002; krok(n+1)=3.473809e-003; ng(n+1)=2.144641e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=6.198173e+001; foe(n+1)=1.094266e+002; krok(n+1)=1.302487e-005; ng(n+1)=2.147056e+003;
n=27; farx(n+1)=4.533578e+001; foe(n+1)=9.997515e+001; krok(n+1)=4.012417e-004; ng(n+1)=6.216635e+002;
n=28; farx(n+1)=4.361853e+001; foe(n+1)=9.817647e+001; krok(n+1)=2.077412e-005; ng(n+1)=9.635139e+002;
n=29; farx(n+1)=3.575687e+001; foe(n+1)=9.254187e+001; krok(n+1)=1.176687e-004; ng(n+1)=9.130558e+002;
n=30; farx(n+1)=2.861901e+001; foe(n+1)=8.342760e+001; krok(n+1)=1.736904e-003; ng(n+1)=6.985633e+002;
n=31; farx(n+1)=2.739384e+001; foe(n+1)=8.132028e+001; krok(n+1)=2.025153e-004; ng(n+1)=2.433492e+003;
n=32; farx(n+1)=2.111310e+001; foe(n+1)=5.890328e+001; krok(n+1)=6.694872e-004; ng(n+1)=2.404406e+003;
n=33; farx(n+1)=1.843552e+001; foe(n+1)=5.138048e+001; krok(n+1)=5.057541e-004; ng(n+1)=1.558475e+003;
n=34; farx(n+1)=1.840830e+001; foe(n+1)=4.533362e+001; krok(n+1)=6.767654e-004; ng(n+1)=1.140097e+003;
n=35; farx(n+1)=1.789855e+001; foe(n+1)=4.397313e+001; krok(n+1)=1.387045e-003; ng(n+1)=1.449577e+003;
n=36; farx(n+1)=1.694725e+001; foe(n+1)=4.244325e+001; krok(n+1)=3.990004e-003; ng(n+1)=1.191830e+003;
n=37; farx(n+1)=1.510419e+001; foe(n+1)=3.921088e+001; krok(n+1)=6.752063e-003; ng(n+1)=1.046282e+003;
n=38; farx(n+1)=1.463531e+001; foe(n+1)=3.818688e+001; krok(n+1)=3.739948e-003; ng(n+1)=9.230790e+002;
n=39; farx(n+1)=1.433013e+001; foe(n+1)=3.653592e+001; krok(n+1)=9.808332e-003; ng(n+1)=1.102093e+003;
n=40; farx(n+1)=1.390829e+001; foe(n+1)=3.544180e+001; krok(n+1)=1.548166e-002; ng(n+1)=9.863728e+002;
n=41; farx(n+1)=1.265984e+001; foe(n+1)=2.968272e+001; krok(n+1)=5.344961e-002; ng(n+1)=1.455722e+003;
n=42; farx(n+1)=1.206031e+001; foe(n+1)=2.809810e+001; krok(n+1)=2.642647e-002; ng(n+1)=1.113644e+003;
n=43; farx(n+1)=1.092401e+001; foe(n+1)=2.564288e+001; krok(n+1)=7.822596e-002; ng(n+1)=3.072209e+002;
n=44; farx(n+1)=1.024152e+001; foe(n+1)=2.468570e+001; krok(n+1)=2.691279e-002; ng(n+1)=5.718362e+002;
n=45; farx(n+1)=9.038111e+000; foe(n+1)=2.267232e+001; krok(n+1)=1.420059e-001; ng(n+1)=6.177040e+002;
n=46; farx(n+1)=8.797087e+000; foe(n+1)=2.098788e+001; krok(n+1)=8.277891e-002; ng(n+1)=7.476426e+002;
n=47; farx(n+1)=7.129991e+000; foe(n+1)=1.825346e+001; krok(n+1)=4.498732e-001; ng(n+1)=5.841357e+002;
n=48; farx(n+1)=6.715688e+000; foe(n+1)=1.721914e+001; krok(n+1)=6.020520e-002; ng(n+1)=7.671438e+002;
n=49; farx(n+1)=5.951645e+000; foe(n+1)=1.578802e+001; krok(n+1)=3.103642e-001; ng(n+1)=1.109108e+003;
n=50; farx(n+1)=5.673088e+000; foe(n+1)=1.466023e+001; krok(n+1)=3.011048e-001; ng(n+1)=6.618591e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=5.572758e+000; foe(n+1)=1.437018e+001; krok(n+1)=1.466008e-005; ng(n+1)=5.382260e+002;
n=52; farx(n+1)=5.488076e+000; foe(n+1)=1.404022e+001; krok(n+1)=2.031518e-005; ng(n+1)=4.165145e+002;
n=53; farx(n+1)=5.523548e+000; foe(n+1)=1.375012e+001; krok(n+1)=4.273921e-004; ng(n+1)=1.065556e+002;
n=54; farx(n+1)=5.467506e+000; foe(n+1)=1.366092e+001; krok(n+1)=3.418410e-005; ng(n+1)=1.490240e+002;
n=55; farx(n+1)=5.414753e+000; foe(n+1)=1.355454e+001; krok(n+1)=6.946998e-004; ng(n+1)=6.338456e+001;
n=56; farx(n+1)=4.886544e+000; foe(n+1)=1.235204e+001; krok(n+1)=4.118564e-003; ng(n+1)=6.955496e+001;
n=57; farx(n+1)=4.659496e+000; foe(n+1)=1.201774e+001; krok(n+1)=2.187783e-003; ng(n+1)=2.383166e+002;
n=58; farx(n+1)=4.702246e+000; foe(n+1)=1.190118e+001; krok(n+1)=1.830478e-003; ng(n+1)=3.734242e+002;
n=59; farx(n+1)=4.735523e+000; foe(n+1)=1.141651e+001; krok(n+1)=9.356732e-003; ng(n+1)=5.061309e+002;
n=60; farx(n+1)=4.392135e+000; foe(n+1)=1.105808e+001; krok(n+1)=1.199493e-002; ng(n+1)=4.053730e+002;
n=61; farx(n+1)=4.380650e+000; foe(n+1)=1.097480e+001; krok(n+1)=1.012568e-002; ng(n+1)=3.555282e+002;
n=62; farx(n+1)=4.406363e+000; foe(n+1)=1.084702e+001; krok(n+1)=2.900728e-002; ng(n+1)=2.892549e+002;
n=63; farx(n+1)=4.332764e+000; foe(n+1)=1.069872e+001; krok(n+1)=2.307159e-002; ng(n+1)=2.820914e+002;
n=64; farx(n+1)=4.126646e+000; foe(n+1)=1.042572e+001; krok(n+1)=2.502130e-002; ng(n+1)=3.216664e+002;
n=65; farx(n+1)=4.025513e+000; foe(n+1)=1.025882e+001; krok(n+1)=6.168811e-002; ng(n+1)=2.867109e+002;
n=66; farx(n+1)=3.784728e+000; foe(n+1)=1.000811e+001; krok(n+1)=1.044257e-001; ng(n+1)=2.967333e+002;
n=67; farx(n+1)=3.542410e+000; foe(n+1)=9.741911e+000; krok(n+1)=8.569436e-002; ng(n+1)=3.683992e+002;
n=68; farx(n+1)=3.435169e+000; foe(n+1)=9.551640e+000; krok(n+1)=2.223039e-002; ng(n+1)=3.438496e+002;
n=69; farx(n+1)=3.197291e+000; foe(n+1)=8.546183e+000; krok(n+1)=1.933624e-001; ng(n+1)=5.156900e+002;
n=70; farx(n+1)=2.765067e+000; foe(n+1)=8.031598e+000; krok(n+1)=2.969638e-001; ng(n+1)=2.529878e+002;
n=71; farx(n+1)=2.477943e+000; foe(n+1)=7.489323e+000; krok(n+1)=8.268560e-002; ng(n+1)=6.987024e+002;
n=72; farx(n+1)=2.234506e+000; foe(n+1)=6.806497e+000; krok(n+1)=2.288809e-001; ng(n+1)=5.448728e+002;
n=73; farx(n+1)=2.043686e+000; foe(n+1)=6.079039e+000; krok(n+1)=2.760258e-001; ng(n+1)=6.187657e+002;
n=74; farx(n+1)=1.777301e+000; foe(n+1)=5.471633e+000; krok(n+1)=2.209722e-001; ng(n+1)=7.210735e+002;
n=75; farx(n+1)=1.699307e+000; foe(n+1)=5.284274e+000; krok(n+1)=6.826594e-002; ng(n+1)=1.164656e+003;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.697554e+000; foe(n+1)=5.210730e+000; krok(n+1)=3.136685e-006; ng(n+1)=5.404019e+002;
n=77; farx(n+1)=1.698931e+000; foe(n+1)=5.174870e+000; krok(n+1)=4.167023e-006; ng(n+1)=3.174862e+002;
n=78; farx(n+1)=1.708335e+000; foe(n+1)=5.087490e+000; krok(n+1)=2.015675e-004; ng(n+1)=9.113391e+001;
n=79; farx(n+1)=1.701983e+000; foe(n+1)=5.048952e+000; krok(n+1)=5.434585e-005; ng(n+1)=1.093108e+002;
n=80; farx(n+1)=1.686512e+000; foe(n+1)=4.991498e+000; krok(n+1)=6.657663e-005; ng(n+1)=1.241989e+002;
n=81; farx(n+1)=1.598160e+000; foe(n+1)=4.437682e+000; krok(n+1)=2.823736e-003; ng(n+1)=5.645021e+001;
n=82; farx(n+1)=1.607136e+000; foe(n+1)=4.330613e+000; krok(n+1)=1.084270e-003; ng(n+1)=4.434199e+002;
n=83; farx(n+1)=1.614064e+000; foe(n+1)=4.197769e+000; krok(n+1)=4.609843e-003; ng(n+1)=6.760080e+002;
n=84; farx(n+1)=1.624495e+000; foe(n+1)=4.096338e+000; krok(n+1)=5.003630e-003; ng(n+1)=1.131721e+003;
n=85; farx(n+1)=1.606472e+000; foe(n+1)=4.007069e+000; krok(n+1)=4.235590e-003; ng(n+1)=7.413923e+002;
n=86; farx(n+1)=1.601197e+000; foe(n+1)=3.951969e+000; krok(n+1)=8.324349e-003; ng(n+1)=6.388497e+002;
n=87; farx(n+1)=1.524920e+000; foe(n+1)=3.827724e+000; krok(n+1)=3.280985e-002; ng(n+1)=7.704550e+002;
n=88; farx(n+1)=1.589674e+000; foe(n+1)=3.740129e+000; krok(n+1)=1.748904e-002; ng(n+1)=3.474702e+002;
n=89; farx(n+1)=1.587093e+000; foe(n+1)=3.625453e+000; krok(n+1)=3.127687e-002; ng(n+1)=1.968901e+002;
n=90; farx(n+1)=1.479555e+000; foe(n+1)=3.558599e+000; krok(n+1)=2.779047e-002; ng(n+1)=4.713146e+002;
n=91; farx(n+1)=1.447087e+000; foe(n+1)=3.463961e+000; krok(n+1)=3.907971e-002; ng(n+1)=3.140521e+002;
n=92; farx(n+1)=1.308356e+000; foe(n+1)=3.287473e+000; krok(n+1)=1.453256e-001; ng(n+1)=2.600603e+002;
n=93; farx(n+1)=1.277963e+000; foe(n+1)=3.151961e+000; krok(n+1)=1.269153e-001; ng(n+1)=1.993489e+002;
n=94; farx(n+1)=1.264823e+000; foe(n+1)=3.038126e+000; krok(n+1)=9.267410e-002; ng(n+1)=4.916200e+002;
n=95; farx(n+1)=1.271881e+000; foe(n+1)=2.977238e+000; krok(n+1)=3.450322e-002; ng(n+1)=8.021152e+002;
n=96; farx(n+1)=1.262573e+000; foe(n+1)=2.697542e+000; krok(n+1)=4.090511e-001; ng(n+1)=5.092896e+002;
n=97; farx(n+1)=1.192798e+000; foe(n+1)=2.501890e+000; krok(n+1)=4.033988e-001; ng(n+1)=3.329674e+002;
n=98; farx(n+1)=1.140852e+000; foe(n+1)=2.342218e+000; krok(n+1)=1.794664e-001; ng(n+1)=2.550512e+002;
n=99; farx(n+1)=1.102714e+000; foe(n+1)=2.240696e+000; krok(n+1)=1.951976e-001; ng(n+1)=3.304446e+002;
n=100; farx(n+1)=1.109328e+000; foe(n+1)=2.139029e+000; krok(n+1)=4.228884e-001; ng(n+1)=2.432858e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
