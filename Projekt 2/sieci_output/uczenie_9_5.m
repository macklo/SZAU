%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.585084e+003; foe(n+1)=4.587258e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.042905e+003; foe(n+1)=2.780344e+003; krok(n+1)=5.277180e-004; ng(n+1)=4.950107e+003;
n=2; farx(n+1)=1.163334e+003; foe(n+1)=9.082112e+002; krok(n+1)=1.956257e-003; ng(n+1)=3.203700e+003;
n=3; farx(n+1)=1.333374e+003; foe(n+1)=5.641170e+002; krok(n+1)=2.419010e-004; ng(n+1)=6.883711e+003;
n=4; farx(n+1)=1.546857e+003; foe(n+1)=5.490550e+002; krok(n+1)=9.676040e-004; ng(n+1)=2.551390e+003;
n=5; farx(n+1)=1.304918e+003; foe(n+1)=4.950692e+002; krok(n+1)=8.447848e-003; ng(n+1)=7.470210e+002;
n=6; farx(n+1)=1.274264e+003; foe(n+1)=4.926269e+002; krok(n+1)=1.629504e-004; ng(n+1)=1.267730e+003;
n=7; farx(n+1)=5.723395e+002; foe(n+1)=4.248278e+002; krok(n+1)=5.095665e-003; ng(n+1)=1.235262e+003;
n=8; farx(n+1)=3.823216e+002; foe(n+1)=4.093448e+002; krok(n+1)=2.456358e-004; ng(n+1)=2.141705e+003;
n=9; farx(n+1)=1.440076e+002; foe(n+1)=3.456230e+002; krok(n+1)=1.532691e-003; ng(n+1)=2.954568e+003;
n=10; farx(n+1)=1.302056e+002; foe(n+1)=3.418184e+002; krok(n+1)=6.121123e-005; ng(n+1)=5.052242e+003;
n=11; farx(n+1)=1.285358e+002; foe(n+1)=3.328956e+002; krok(n+1)=9.375382e-003; ng(n+1)=5.221059e+003;
n=12; farx(n+1)=1.159875e+002; foe(n+1)=3.045943e+002; krok(n+1)=2.569527e-003; ng(n+1)=3.682304e+003;
n=13; farx(n+1)=1.157233e+002; foe(n+1)=2.989141e+002; krok(n+1)=1.955288e-004; ng(n+1)=2.058532e+003;
n=14; farx(n+1)=1.158135e+002; foe(n+1)=2.966132e+002; krok(n+1)=2.922588e-005; ng(n+1)=4.550047e+003;
n=15; farx(n+1)=1.155831e+002; foe(n+1)=2.943081e+002; krok(n+1)=8.216032e-004; ng(n+1)=2.402765e+003;
n=16; farx(n+1)=1.025940e+002; foe(n+1)=2.788483e+002; krok(n+1)=8.155298e-003; ng(n+1)=2.126081e+004;
n=17; farx(n+1)=1.595385e+002; foe(n+1)=2.441900e+002; krok(n+1)=5.060913e-003; ng(n+1)=2.082914e+003;
n=18; farx(n+1)=1.551150e+002; foe(n+1)=2.424669e+002; krok(n+1)=1.141051e-003; ng(n+1)=5.715618e+002;
n=19; farx(n+1)=1.294372e+002; foe(n+1)=2.358519e+002; krok(n+1)=9.064776e-004; ng(n+1)=1.829270e+003;
n=20; farx(n+1)=1.216797e+002; foe(n+1)=2.317258e+002; krok(n+1)=3.334617e-003; ng(n+1)=3.871104e+002;
n=21; farx(n+1)=1.205343e+002; foe(n+1)=2.290261e+002; krok(n+1)=5.548179e-003; ng(n+1)=1.107800e+003;
n=22; farx(n+1)=1.231796e+002; foe(n+1)=2.215877e+002; krok(n+1)=1.763378e-002; ng(n+1)=1.126300e+003;
n=23; farx(n+1)=9.689403e+001; foe(n+1)=2.115530e+002; krok(n+1)=2.539936e-002; ng(n+1)=1.257741e+003;
n=24; farx(n+1)=8.816458e+001; foe(n+1)=2.059036e+002; krok(n+1)=4.800362e-003; ng(n+1)=5.857472e+002;
n=25; farx(n+1)=9.558911e+001; foe(n+1)=2.003193e+002; krok(n+1)=4.090464e-003; ng(n+1)=8.091833e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.281610e+001; foe(n+1)=1.967659e+002; krok(n+1)=7.856157e-005; ng(n+1)=8.795843e+002;
n=27; farx(n+1)=7.836007e+001; foe(n+1)=1.931817e+002; krok(n+1)=1.180993e-004; ng(n+1)=8.427894e+002;
n=28; farx(n+1)=4.714774e+001; foe(n+1)=1.452179e+002; krok(n+1)=1.415153e-003; ng(n+1)=5.128884e+002;
n=29; farx(n+1)=4.361655e+001; foe(n+1)=1.421286e+002; krok(n+1)=9.290537e-005; ng(n+1)=1.256598e+003;
n=30; farx(n+1)=3.794955e+001; foe(n+1)=1.227110e+002; krok(n+1)=3.473499e-004; ng(n+1)=3.863095e+003;
n=31; farx(n+1)=3.143448e+001; foe(n+1)=1.085769e+002; krok(n+1)=9.855942e-004; ng(n+1)=2.315261e+003;
n=32; farx(n+1)=3.102967e+001; foe(n+1)=9.861895e+001; krok(n+1)=3.738564e-004; ng(n+1)=1.968649e+003;
n=33; farx(n+1)=2.903309e+001; foe(n+1)=9.074760e+001; krok(n+1)=2.799030e-004; ng(n+1)=3.298729e+003;
n=34; farx(n+1)=1.818853e+001; foe(n+1)=7.334768e+001; krok(n+1)=3.065383e-003; ng(n+1)=2.864033e+003;
n=35; farx(n+1)=1.623593e+001; foe(n+1)=6.845867e+001; krok(n+1)=8.898758e-004; ng(n+1)=3.378381e+003;
n=36; farx(n+1)=1.480693e+001; foe(n+1)=6.581867e+001; krok(n+1)=1.525147e-003; ng(n+1)=2.155506e+003;
n=37; farx(n+1)=1.292543e+001; foe(n+1)=6.031680e+001; krok(n+1)=2.973498e-003; ng(n+1)=1.141921e+003;
n=38; farx(n+1)=1.209606e+001; foe(n+1)=5.269066e+001; krok(n+1)=1.040351e-002; ng(n+1)=2.169009e+003;
n=39; farx(n+1)=1.119969e+001; foe(n+1)=4.573097e+001; krok(n+1)=3.334617e-003; ng(n+1)=1.174844e+003;
n=40; farx(n+1)=1.097309e+001; foe(n+1)=3.479585e+001; krok(n+1)=1.099965e-003; ng(n+1)=2.132165e+003;
n=41; farx(n+1)=1.036844e+001; foe(n+1)=3.030755e+001; krok(n+1)=9.381121e-004; ng(n+1)=4.293395e+003;
n=42; farx(n+1)=8.697675e+000; foe(n+1)=2.649760e+001; krok(n+1)=4.323984e-003; ng(n+1)=3.642280e+003;
n=43; farx(n+1)=8.042648e+000; foe(n+1)=2.474288e+001; krok(n+1)=8.566255e-004; ng(n+1)=3.663244e+003;
n=44; farx(n+1)=7.662683e+000; foe(n+1)=2.351331e+001; krok(n+1)=5.320104e-003; ng(n+1)=9.660436e+002;
n=45; farx(n+1)=5.752403e+000; foe(n+1)=1.978671e+001; krok(n+1)=1.486332e-002; ng(n+1)=8.818015e+002;
n=46; farx(n+1)=5.492790e+000; foe(n+1)=1.728090e+001; krok(n+1)=3.740913e-003; ng(n+1)=2.306032e+003;
n=47; farx(n+1)=5.089879e+000; foe(n+1)=1.595877e+001; krok(n+1)=3.026819e-003; ng(n+1)=1.344501e+003;
n=48; farx(n+1)=4.981331e+000; foe(n+1)=1.489769e+001; krok(n+1)=2.620821e-003; ng(n+1)=7.454349e+002;
n=49; farx(n+1)=4.273437e+000; foe(n+1)=1.274489e+001; krok(n+1)=1.729712e-002; ng(n+1)=1.108631e+003;
n=50; farx(n+1)=4.126668e+000; foe(n+1)=1.224101e+001; krok(n+1)=8.751130e-003; ng(n+1)=4.601501e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=4.139562e+000; foe(n+1)=1.183283e+001; krok(n+1)=6.300572e-006; ng(n+1)=1.300860e+003;
n=52; farx(n+1)=4.096534e+000; foe(n+1)=1.172087e+001; krok(n+1)=1.784716e-004; ng(n+1)=1.288912e+002;
n=53; farx(n+1)=4.060931e+000; foe(n+1)=1.162942e+001; krok(n+1)=4.789661e-005; ng(n+1)=2.003570e+002;
n=54; farx(n+1)=4.016792e+000; foe(n+1)=1.148100e+001; krok(n+1)=9.793797e-004; ng(n+1)=6.805733e+001;
n=55; farx(n+1)=3.837336e+000; foe(n+1)=1.102516e+001; krok(n+1)=3.205178e-004; ng(n+1)=1.850225e+002;
n=56; farx(n+1)=3.664378e+000; foe(n+1)=1.065740e+001; krok(n+1)=1.358387e-003; ng(n+1)=8.837336e+001;
n=57; farx(n+1)=3.418211e+000; foe(n+1)=9.962208e+000; krok(n+1)=5.414124e-003; ng(n+1)=1.630488e+002;
n=58; farx(n+1)=3.342524e+000; foe(n+1)=9.331437e+000; krok(n+1)=6.728198e-003; ng(n+1)=8.185492e+002;
n=59; farx(n+1)=3.167688e+000; foe(n+1)=8.811391e+000; krok(n+1)=5.915528e-003; ng(n+1)=4.447306e+002;
n=60; farx(n+1)=2.922186e+000; foe(n+1)=8.154861e+000; krok(n+1)=5.433546e-003; ng(n+1)=8.629383e+002;
n=61; farx(n+1)=2.748138e+000; foe(n+1)=7.545996e+000; krok(n+1)=5.635011e-003; ng(n+1)=1.240408e+003;
n=62; farx(n+1)=2.265071e+000; foe(n+1)=6.658247e+000; krok(n+1)=6.543079e-003; ng(n+1)=1.002681e+003;
n=63; farx(n+1)=1.935547e+000; foe(n+1)=5.664107e+000; krok(n+1)=6.832794e-003; ng(n+1)=3.218745e+002;
n=64; farx(n+1)=1.872793e+000; foe(n+1)=5.358887e+000; krok(n+1)=5.000456e-003; ng(n+1)=3.857824e+002;
n=65; farx(n+1)=1.828239e+000; foe(n+1)=5.059554e+000; krok(n+1)=3.559503e-003; ng(n+1)=6.588129e+002;
n=66; farx(n+1)=1.699782e+000; foe(n+1)=4.621517e+000; krok(n+1)=1.048565e-002; ng(n+1)=2.777216e+002;
n=67; farx(n+1)=1.682421e+000; foe(n+1)=4.229373e+000; krok(n+1)=1.514225e-002; ng(n+1)=2.507256e+002;
n=68; farx(n+1)=1.699643e+000; foe(n+1)=3.870244e+000; krok(n+1)=1.955649e-002; ng(n+1)=3.734171e+002;
n=69; farx(n+1)=1.666647e+000; foe(n+1)=3.571474e+000; krok(n+1)=1.027490e-002; ng(n+1)=6.751691e+002;
n=70; farx(n+1)=1.689618e+000; foe(n+1)=3.400479e+000; krok(n+1)=6.998367e-003; ng(n+1)=7.162249e+002;
n=71; farx(n+1)=1.660938e+000; foe(n+1)=3.087401e+000; krok(n+1)=3.951655e-002; ng(n+1)=5.732333e+002;
n=72; farx(n+1)=1.606695e+000; foe(n+1)=2.995546e+000; krok(n+1)=1.153579e-002; ng(n+1)=2.652579e+002;
n=73; farx(n+1)=1.583210e+000; foe(n+1)=2.759551e+000; krok(n+1)=2.753789e-002; ng(n+1)=2.674136e+002;
n=74; farx(n+1)=1.556590e+000; foe(n+1)=2.622272e+000; krok(n+1)=3.897540e-002; ng(n+1)=3.497356e+002;
n=75; farx(n+1)=1.498697e+000; foe(n+1)=2.363764e+000; krok(n+1)=4.331299e-002; ng(n+1)=3.495258e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.494900e+000; foe(n+1)=2.350462e+000; krok(n+1)=6.147973e-006; ng(n+1)=2.196127e+002;
n=77; farx(n+1)=1.492043e+000; foe(n+1)=2.338516e+000; krok(n+1)=3.079778e-005; ng(n+1)=1.008129e+002;
n=78; farx(n+1)=1.489831e+000; foe(n+1)=2.312205e+000; krok(n+1)=6.703667e-005; ng(n+1)=9.152168e+001;
n=79; farx(n+1)=1.490477e+000; foe(n+1)=2.303273e+000; krok(n+1)=1.733806e-004; ng(n+1)=3.415355e+001;
n=80; farx(n+1)=1.463690e+000; foe(n+1)=2.205627e+000; krok(n+1)=1.915237e-003; ng(n+1)=3.779091e+001;
n=81; farx(n+1)=1.460594e+000; foe(n+1)=2.159807e+000; krok(n+1)=9.854180e-004; ng(n+1)=1.215327e+002;
n=82; farx(n+1)=1.455408e+000; foe(n+1)=2.121616e+000; krok(n+1)=1.899561e-003; ng(n+1)=2.470136e+002;
n=83; farx(n+1)=1.446053e+000; foe(n+1)=2.083513e+000; krok(n+1)=8.111094e-003; ng(n+1)=3.665850e+002;
n=84; farx(n+1)=1.400848e+000; foe(n+1)=2.007402e+000; krok(n+1)=8.003391e-003; ng(n+1)=3.947110e+002;
n=85; farx(n+1)=1.372321e+000; foe(n+1)=1.954218e+000; krok(n+1)=9.045235e-003; ng(n+1)=2.869668e+002;
n=86; farx(n+1)=1.346606e+000; foe(n+1)=1.891845e+000; krok(n+1)=1.726361e-002; ng(n+1)=2.333263e+002;
n=87; farx(n+1)=1.290610e+000; foe(n+1)=1.799362e+000; krok(n+1)=2.107682e-002; ng(n+1)=1.429087e+002;
n=88; farx(n+1)=1.268049e+000; foe(n+1)=1.763100e+000; krok(n+1)=1.366918e-002; ng(n+1)=2.444717e+002;
n=89; farx(n+1)=1.251409e+000; foe(n+1)=1.729845e+000; krok(n+1)=1.350413e-002; ng(n+1)=2.077146e+002;
n=90; farx(n+1)=1.230256e+000; foe(n+1)=1.688646e+000; krok(n+1)=3.032212e-002; ng(n+1)=6.657903e+001;
n=91; farx(n+1)=1.201077e+000; foe(n+1)=1.649888e+000; krok(n+1)=2.857938e-002; ng(n+1)=1.748511e+002;
n=92; farx(n+1)=1.165469e+000; foe(n+1)=1.617907e+000; krok(n+1)=3.432277e-002; ng(n+1)=1.426100e+002;
n=93; farx(n+1)=1.107608e+000; foe(n+1)=1.537943e+000; krok(n+1)=3.847317e-002; ng(n+1)=1.740490e+002;
n=94; farx(n+1)=1.094913e+000; foe(n+1)=1.511385e+000; krok(n+1)=1.136199e-002; ng(n+1)=1.522320e+002;
n=95; farx(n+1)=1.082755e+000; foe(n+1)=1.461229e+000; krok(n+1)=5.793922e-002; ng(n+1)=2.025887e+002;
n=96; farx(n+1)=1.063382e+000; foe(n+1)=1.420441e+000; krok(n+1)=8.100548e-002; ng(n+1)=6.057766e+001;
n=97; farx(n+1)=1.067052e+000; foe(n+1)=1.388099e+000; krok(n+1)=4.193314e-002; ng(n+1)=9.864316e+001;
n=98; farx(n+1)=1.056109e+000; foe(n+1)=1.368302e+000; krok(n+1)=4.545636e-002; ng(n+1)=8.749342e+001;
n=99; farx(n+1)=1.035287e+000; foe(n+1)=1.324502e+000; krok(n+1)=7.901515e-002; ng(n+1)=7.036394e+001;
n=100; farx(n+1)=1.034316e+000; foe(n+1)=1.312501e+000; krok(n+1)=6.306675e-002; ng(n+1)=1.033594e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
