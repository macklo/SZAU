%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.587799e+003; foe(n+1)=4.805951e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.544625e+003; foe(n+1)=3.719434e+003; krok(n+1)=3.473499e-004; ng(n+1)=4.237828e+003;
n=2; farx(n+1)=9.412909e+002; foe(n+1)=9.179417e+002; krok(n+1)=1.651908e-003; ng(n+1)=3.317344e+003;
n=3; farx(n+1)=1.068721e+003; foe(n+1)=7.519845e+002; krok(n+1)=2.023685e-004; ng(n+1)=4.321844e+003;
n=4; farx(n+1)=3.039958e+002; foe(n+1)=4.949312e+002; krok(n+1)=6.825425e-003; ng(n+1)=1.068155e+003;
n=5; farx(n+1)=2.426230e+002; foe(n+1)=3.901880e+002; krok(n+1)=9.186583e-005; ng(n+1)=5.968814e+003;
n=6; farx(n+1)=2.374471e+002; foe(n+1)=3.766873e+002; krok(n+1)=1.990494e-005; ng(n+1)=4.347258e+003;
n=7; farx(n+1)=1.961147e+002; foe(n+1)=3.539231e+002; krok(n+1)=4.228014e-004; ng(n+1)=1.584238e+003;
n=8; farx(n+1)=2.028660e+002; foe(n+1)=3.233842e+002; krok(n+1)=8.108299e-003; ng(n+1)=2.847974e+003;
n=9; farx(n+1)=1.725615e+002; foe(n+1)=2.994575e+002; krok(n+1)=4.459951e-003; ng(n+1)=7.469490e+002;
n=10; farx(n+1)=1.303693e+002; foe(n+1)=2.833249e+002; krok(n+1)=2.914778e-003; ng(n+1)=4.782726e+002;
n=11; farx(n+1)=1.151768e+002; foe(n+1)=2.766098e+002; krok(n+1)=5.546784e-005; ng(n+1)=3.221422e+003;
n=12; farx(n+1)=9.616408e+001; foe(n+1)=2.674245e+002; krok(n+1)=4.999290e-005; ng(n+1)=4.109791e+003;
n=13; farx(n+1)=8.389391e+001; foe(n+1)=2.535799e+002; krok(n+1)=3.021288e-003; ng(n+1)=5.703273e+003;
n=14; farx(n+1)=8.155473e+001; foe(n+1)=2.517373e+002; krok(n+1)=1.299465e-004; ng(n+1)=1.820420e+003;
n=15; farx(n+1)=7.340122e+001; foe(n+1)=2.403985e+002; krok(n+1)=2.352381e-003; ng(n+1)=3.552981e+003;
n=16; farx(n+1)=7.199204e+001; foe(n+1)=2.156061e+002; krok(n+1)=1.572201e-003; ng(n+1)=2.869658e+003;
n=17; farx(n+1)=8.113561e+001; foe(n+1)=1.998874e+002; krok(n+1)=2.197532e-004; ng(n+1)=1.844572e+004;
n=18; farx(n+1)=7.750344e+001; foe(n+1)=1.953402e+002; krok(n+1)=1.564230e-003; ng(n+1)=4.188306e+003;
n=19; farx(n+1)=8.016875e+001; foe(n+1)=1.878819e+002; krok(n+1)=1.797919e-003; ng(n+1)=1.431786e+004;
n=20; farx(n+1)=8.849580e+001; foe(n+1)=1.814455e+002; krok(n+1)=3.141811e-003; ng(n+1)=8.633363e+003;
n=21; farx(n+1)=8.554527e+001; foe(n+1)=1.735976e+002; krok(n+1)=2.433205e-003; ng(n+1)=1.205294e+003;
n=22; farx(n+1)=8.122223e+001; foe(n+1)=1.661869e+002; krok(n+1)=2.396053e-003; ng(n+1)=1.206919e+003;
n=23; farx(n+1)=8.120579e+001; foe(n+1)=1.591420e+002; krok(n+1)=1.999909e-003; ng(n+1)=1.412952e+003;
n=24; farx(n+1)=7.655168e+001; foe(n+1)=1.576946e+002; krok(n+1)=1.682049e-003; ng(n+1)=9.129842e+002;
n=25; farx(n+1)=7.367055e+001; foe(n+1)=1.558185e+002; krok(n+1)=6.410357e-004; ng(n+1)=1.266629e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.329654e+001; foe(n+1)=1.555941e+002; krok(n+1)=2.706602e-006; ng(n+1)=1.789339e+003;
n=27; farx(n+1)=7.298012e+001; foe(n+1)=1.534982e+002; krok(n+1)=1.138585e-005; ng(n+1)=1.755661e+003;
n=28; farx(n+1)=6.200657e+001; foe(n+1)=1.479398e+002; krok(n+1)=1.209232e-004; ng(n+1)=1.575509e+003;
n=29; farx(n+1)=6.251282e+001; foe(n+1)=1.445576e+002; krok(n+1)=4.283785e-004; ng(n+1)=9.109337e+002;
n=30; farx(n+1)=6.278435e+001; foe(n+1)=1.257697e+002; krok(n+1)=5.336796e-004; ng(n+1)=1.612783e+003;
n=31; farx(n+1)=5.803637e+001; foe(n+1)=1.146435e+002; krok(n+1)=4.251583e-004; ng(n+1)=3.602841e+003;
n=32; farx(n+1)=5.788221e+001; foe(n+1)=9.618301e+001; krok(n+1)=1.088038e-003; ng(n+1)=2.057302e+003;
n=33; farx(n+1)=3.980930e+001; foe(n+1)=8.337666e+001; krok(n+1)=1.402081e-003; ng(n+1)=2.003196e+003;
n=34; farx(n+1)=3.256433e+001; foe(n+1)=7.404320e+001; krok(n+1)=4.729213e-004; ng(n+1)=5.165760e+003;
n=35; farx(n+1)=1.953942e+001; foe(n+1)=6.115912e+001; krok(n+1)=3.778589e-003; ng(n+1)=1.901112e+003;
n=36; farx(n+1)=1.549109e+001; foe(n+1)=5.526227e+001; krok(n+1)=4.912716e-004; ng(n+1)=2.210900e+003;
n=37; farx(n+1)=1.431542e+001; foe(n+1)=5.160491e+001; krok(n+1)=2.045232e-003; ng(n+1)=9.631468e+002;
n=38; farx(n+1)=1.322525e+001; foe(n+1)=4.900008e+001; krok(n+1)=2.660052e-003; ng(n+1)=1.549456e+003;
n=39; farx(n+1)=1.173803e+001; foe(n+1)=4.591841e+001; krok(n+1)=1.588254e-003; ng(n+1)=1.628699e+003;
n=40; farx(n+1)=1.091556e+001; foe(n+1)=4.349683e+001; krok(n+1)=4.756638e-003; ng(n+1)=1.806245e+003;
n=41; farx(n+1)=9.480372e+000; foe(n+1)=4.119363e+001; krok(n+1)=9.128410e-003; ng(n+1)=2.539460e+003;
n=42; farx(n+1)=8.662257e+000; foe(n+1)=4.037886e+001; krok(n+1)=4.102156e-003; ng(n+1)=9.144309e+002;
n=43; farx(n+1)=7.854091e+000; foe(n+1)=3.734429e+001; krok(n+1)=4.683883e-003; ng(n+1)=1.523086e+003;
n=44; farx(n+1)=7.822345e+000; foe(n+1)=3.542715e+001; krok(n+1)=9.251671e-003; ng(n+1)=1.275950e+003;
n=45; farx(n+1)=7.930303e+000; foe(n+1)=3.392958e+001; krok(n+1)=1.037360e-002; ng(n+1)=1.386872e+003;
n=46; farx(n+1)=8.016319e+000; foe(n+1)=3.336231e+001; krok(n+1)=1.175883e-002; ng(n+1)=1.901353e+003;
n=47; farx(n+1)=8.662279e+000; foe(n+1)=3.128921e+001; krok(n+1)=7.165516e-002; ng(n+1)=8.361621e+002;
n=48; farx(n+1)=9.316241e+000; foe(n+1)=2.951134e+001; krok(n+1)=2.977118e-002; ng(n+1)=8.236474e+002;
n=49; farx(n+1)=8.677669e+000; foe(n+1)=2.827126e+001; krok(n+1)=5.334988e-002; ng(n+1)=9.573012e+002;
n=50; farx(n+1)=8.105942e+000; foe(n+1)=2.771438e+001; krok(n+1)=1.269968e-002; ng(n+1)=1.301847e+003;
%odnowa zmiennej metryki
n=51; farx(n+1)=8.100957e+000; foe(n+1)=2.735174e+001; krok(n+1)=6.169752e-006; ng(n+1)=1.067052e+003;
n=52; farx(n+1)=8.108820e+000; foe(n+1)=2.726389e+001; krok(n+1)=4.565439e-007; ng(n+1)=1.657137e+003;
n=53; farx(n+1)=8.013853e+000; foe(n+1)=2.693331e+001; krok(n+1)=2.769106e-005; ng(n+1)=4.223110e+002;
n=54; farx(n+1)=8.160556e+000; foe(n+1)=2.648311e+001; krok(n+1)=3.968650e-004; ng(n+1)=2.064413e+002;
n=55; farx(n+1)=8.282309e+000; foe(n+1)=2.628589e+001; krok(n+1)=2.732662e-004; ng(n+1)=2.104434e+002;
n=56; farx(n+1)=9.313294e+000; foe(n+1)=2.569986e+001; krok(n+1)=6.459813e-004; ng(n+1)=4.161301e+002;
n=57; farx(n+1)=9.150291e+000; foe(n+1)=2.535831e+001; krok(n+1)=1.691206e-003; ng(n+1)=9.410829e+002;
n=58; farx(n+1)=8.731443e+000; foe(n+1)=2.490322e+001; krok(n+1)=6.728198e-003; ng(n+1)=1.745384e+003;
n=59; farx(n+1)=9.482674e+000; foe(n+1)=2.401755e+001; krok(n+1)=4.372259e-003; ng(n+1)=2.523882e+003;
n=60; farx(n+1)=9.674769e+000; foe(n+1)=2.252152e+001; krok(n+1)=1.358387e-003; ng(n+1)=3.280014e+003;
n=61; farx(n+1)=1.013402e+001; foe(n+1)=2.229385e+001; krok(n+1)=3.225080e-003; ng(n+1)=1.354830e+003;
n=62; farx(n+1)=1.010886e+001; foe(n+1)=2.180810e+001; krok(n+1)=3.065383e-003; ng(n+1)=3.417136e+003;
n=63; farx(n+1)=9.574085e+000; foe(n+1)=2.113926e+001; krok(n+1)=6.516379e-003; ng(n+1)=1.511749e+003;
n=64; farx(n+1)=8.860528e+000; foe(n+1)=2.069791e+001; krok(n+1)=3.264384e-003; ng(n+1)=1.914084e+003;
n=65; farx(n+1)=7.992201e+000; foe(n+1)=1.979248e+001; krok(n+1)=2.804162e-003; ng(n+1)=5.356419e+003;
n=66; farx(n+1)=7.705824e+000; foe(n+1)=1.954194e+001; krok(n+1)=2.186130e-003; ng(n+1)=1.639460e+003;
n=67; farx(n+1)=7.155343e+000; foe(n+1)=1.875005e+001; krok(n+1)=1.569591e-002; ng(n+1)=1.009197e+003;
n=68; farx(n+1)=6.877509e+000; foe(n+1)=1.831373e+001; krok(n+1)=1.193441e-002; ng(n+1)=1.070522e+003;
n=69; farx(n+1)=6.575156e+000; foe(n+1)=1.807338e+001; krok(n+1)=1.688698e-002; ng(n+1)=1.507856e+003;
n=70; farx(n+1)=5.818259e+000; foe(n+1)=1.736145e+001; krok(n+1)=2.069473e-002; ng(n+1)=1.344415e+003;
n=71; farx(n+1)=5.504010e+000; foe(n+1)=1.701417e+001; krok(n+1)=4.698731e-003; ng(n+1)=2.491378e+003;
n=72; farx(n+1)=4.582487e+000; foe(n+1)=1.617578e+001; krok(n+1)=1.450364e-002; ng(n+1)=1.563988e+003;
n=73; farx(n+1)=3.920213e+000; foe(n+1)=1.558561e+001; krok(n+1)=4.929920e-003; ng(n+1)=6.670334e+002;
n=74; farx(n+1)=3.437843e+000; foe(n+1)=1.443223e+001; krok(n+1)=3.068686e-002; ng(n+1)=1.386247e+003;
n=75; farx(n+1)=3.296330e+000; foe(n+1)=1.415559e+001; krok(n+1)=8.324349e-003; ng(n+1)=1.058432e+003;
%odnowa zmiennej metryki
n=76; farx(n+1)=3.290430e+000; foe(n+1)=1.404412e+001; krok(n+1)=1.001277e-006; ng(n+1)=1.257111e+003;
n=77; farx(n+1)=3.236637e+000; foe(n+1)=1.363452e+001; krok(n+1)=1.416371e-005; ng(n+1)=6.078475e+002;
n=78; farx(n+1)=3.120104e+000; foe(n+1)=1.341148e+001; krok(n+1)=1.581864e-005; ng(n+1)=5.283322e+002;
n=79; farx(n+1)=3.011049e+000; foe(n+1)=1.243251e+001; krok(n+1)=5.427827e-005; ng(n+1)=5.990076e+002;
n=80; farx(n+1)=2.997218e+000; foe(n+1)=1.190429e+001; krok(n+1)=6.401041e-005; ng(n+1)=3.472649e+002;
n=81; farx(n+1)=2.583420e+000; foe(n+1)=1.147690e+001; krok(n+1)=6.326141e-004; ng(n+1)=4.980045e+002;
n=82; farx(n+1)=1.973596e+000; foe(n+1)=8.924866e+000; krok(n+1)=5.027940e-003; ng(n+1)=4.902631e+002;
n=83; farx(n+1)=1.818180e+000; foe(n+1)=8.125078e+000; krok(n+1)=2.716773e-003; ng(n+1)=2.176320e+003;
n=84; farx(n+1)=1.680090e+000; foe(n+1)=7.743099e+000; krok(n+1)=1.554197e-003; ng(n+1)=1.268237e+003;
n=85; farx(n+1)=1.530557e+000; foe(n+1)=7.369500e+000; krok(n+1)=1.310706e-003; ng(n+1)=1.308157e+003;
n=86; farx(n+1)=1.358429e+000; foe(n+1)=6.813913e+000; krok(n+1)=3.248447e-003; ng(n+1)=7.437723e+002;
n=87; farx(n+1)=1.356183e+000; foe(n+1)=6.324989e+000; krok(n+1)=5.433546e-003; ng(n+1)=1.146907e+003;
n=88; farx(n+1)=1.330917e+000; foe(n+1)=5.949307e+000; krok(n+1)=5.945944e-003; ng(n+1)=6.774759e+002;
n=89; farx(n+1)=1.421495e+000; foe(n+1)=5.538025e+000; krok(n+1)=5.997467e-003; ng(n+1)=1.872839e+003;
n=90; farx(n+1)=1.622275e+000; foe(n+1)=4.981350e+000; krok(n+1)=5.711090e-003; ng(n+1)=1.562796e+003;
n=91; farx(n+1)=1.687926e+000; foe(n+1)=4.726274e+000; krok(n+1)=5.655154e-003; ng(n+1)=9.298355e+002;
n=92; farx(n+1)=1.749509e+000; foe(n+1)=4.439899e+000; krok(n+1)=1.360047e-002; ng(n+1)=9.419121e+002;
n=93; farx(n+1)=1.767147e+000; foe(n+1)=4.134063e+000; krok(n+1)=1.904910e-002; ng(n+1)=1.062652e+003;
n=94; farx(n+1)=1.940952e+000; foe(n+1)=3.705723e+000; krok(n+1)=2.355148e-002; ng(n+1)=3.150867e+002;
n=95; farx(n+1)=2.028030e+000; foe(n+1)=3.603187e+000; krok(n+1)=1.605804e-002; ng(n+1)=3.363427e+002;
n=96; farx(n+1)=2.036631e+000; foe(n+1)=3.544882e+000; krok(n+1)=1.703305e-002; ng(n+1)=1.997884e+002;
n=97; farx(n+1)=1.948754e+000; foe(n+1)=3.412572e+000; krok(n+1)=8.035594e-002; ng(n+1)=2.442045e+002;
n=98; farx(n+1)=1.739491e+000; foe(n+1)=3.240050e+000; krok(n+1)=1.569501e-001; ng(n+1)=2.992444e+002;
n=99; farx(n+1)=1.643489e+000; foe(n+1)=3.147647e+000; krok(n+1)=4.486659e-002; ng(n+1)=3.691372e+002;
n=100; farx(n+1)=1.643529e+000; foe(n+1)=3.019231e+000; krok(n+1)=1.016482e-001; ng(n+1)=2.214443e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
