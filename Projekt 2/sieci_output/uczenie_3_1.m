%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.107476e+003; foe(n+1)=4.009146e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.074656e+003; foe(n+1)=2.972857e+003; krok(n+1)=5.251366e-004; ng(n+1)=2.519339e+003;
n=2; farx(n+1)=1.065791e+003; foe(n+1)=8.460046e+002; krok(n+1)=4.608763e-003; ng(n+1)=1.055741e+003;
n=3; farx(n+1)=1.110581e+003; foe(n+1)=7.172346e+002; krok(n+1)=1.168734e-004; ng(n+1)=4.011853e+003;
n=4; farx(n+1)=1.876339e+003; foe(n+1)=5.857211e+002; krok(n+1)=1.457389e-003; ng(n+1)=4.657909e+003;
n=5; farx(n+1)=1.879620e+003; foe(n+1)=5.728230e+002; krok(n+1)=3.382411e-003; ng(n+1)=8.528883e+002;
n=6; farx(n+1)=1.726071e+003; foe(n+1)=5.533840e+002; krok(n+1)=4.964322e-003; ng(n+1)=7.988553e+002;
n=7; farx(n+1)=1.628064e+003; foe(n+1)=5.460482e+002; krok(n+1)=2.066363e-003; ng(n+1)=8.984411e+002;
n=8; farx(n+1)=8.332900e+002; foe(n+1)=4.708448e+002; krok(n+1)=6.414404e-003; ng(n+1)=9.049639e+002;
n=9; farx(n+1)=6.616434e+002; foe(n+1)=4.527187e+002; krok(n+1)=5.890474e-004; ng(n+1)=1.413223e+003;
n=10; farx(n+1)=5.821513e+002; foe(n+1)=4.091543e+002; krok(n+1)=2.359800e-003; ng(n+1)=1.918728e+003;
n=11; farx(n+1)=5.265574e+002; foe(n+1)=3.896667e+002; krok(n+1)=2.257520e-003; ng(n+1)=5.241869e+002;
n=12; farx(n+1)=5.638122e+002; foe(n+1)=3.738332e+002; krok(n+1)=5.680644e-002; ng(n+1)=6.408163e+002;
n=13; farx(n+1)=5.660201e+002; foe(n+1)=3.724779e+002; krok(n+1)=4.813050e-004; ng(n+1)=1.347193e+003;
n=14; farx(n+1)=4.223796e+002; foe(n+1)=3.385389e+002; krok(n+1)=9.089589e-002; ng(n+1)=1.309362e+003;
n=15; farx(n+1)=2.011567e+002; foe(n+1)=3.129979e+002; krok(n+1)=3.113135e-002; ng(n+1)=8.029938e+002;
n=16; farx(n+1)=1.447899e+002; foe(n+1)=3.043432e+002; krok(n+1)=2.539936e-002; ng(n+1)=1.032807e+003;
n=17; farx(n+1)=1.341821e+002; foe(n+1)=2.868766e+002; krok(n+1)=5.082412e-002; ng(n+1)=1.514188e+003;
n=18; farx(n+1)=1.329558e+002; foe(n+1)=2.761656e+002; krok(n+1)=1.809047e-002; ng(n+1)=1.026699e+003;
n=19; farx(n+1)=7.347885e+001; foe(n+1)=2.447731e+002; krok(n+1)=1.513224e-001; ng(n+1)=2.099885e+003;
n=20; farx(n+1)=7.561444e+001; foe(n+1)=2.332225e+002; krok(n+1)=5.167850e-003; ng(n+1)=4.276762e+003;
n=21; farx(n+1)=7.531539e+001; foe(n+1)=2.161685e+002; krok(n+1)=5.107684e-003; ng(n+1)=2.171880e+004;
n=22; farx(n+1)=7.524751e+001; foe(n+1)=2.161034e+002; krok(n+1)=3.984182e-004; ng(n+1)=2.543042e+006;
n=23; farx(n+1)=7.482088e+001; foe(n+1)=2.149865e+002; krok(n+1)=1.462327e-004; ng(n+1)=2.812484e+006;
n=24; farx(n+1)=5.116036e+001; foe(n+1)=1.894329e+002; krok(n+1)=3.166015e-002; ng(n+1)=1.054458e+006;
n=25; farx(n+1)=4.362348e+001; foe(n+1)=1.773397e+002; krok(n+1)=4.000365e-002; ng(n+1)=3.574352e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.107541e+001; foe(n+1)=1.707817e+002; krok(n+1)=1.136531e-005; ng(n+1)=2.451592e+003;
n=27; farx(n+1)=3.749251e+001; foe(n+1)=1.338788e+002; krok(n+1)=3.242569e-005; ng(n+1)=3.237171e+003;
n=28; farx(n+1)=3.225718e+001; foe(n+1)=1.095226e+002; krok(n+1)=5.002119e-004; ng(n+1)=2.610917e+003;
n=29; farx(n+1)=2.860041e+001; foe(n+1)=9.325640e+001; krok(n+1)=2.873709e-004; ng(n+1)=7.416453e+003;
n=30; farx(n+1)=2.389755e+001; foe(n+1)=8.884188e+001; krok(n+1)=3.325065e-004; ng(n+1)=9.222233e+003;
n=31; farx(n+1)=2.164284e+001; foe(n+1)=7.700553e+001; krok(n+1)=4.204537e-004; ng(n+1)=1.043937e+004;
n=32; farx(n+1)=2.143989e+001; foe(n+1)=7.428452e+001; krok(n+1)=5.292541e-004; ng(n+1)=5.811032e+003;
n=33; farx(n+1)=1.990723e+001; foe(n+1)=7.068259e+001; krok(n+1)=1.812955e-003; ng(n+1)=5.804950e+003;
n=34; farx(n+1)=1.933196e+001; foe(n+1)=6.658779e+001; krok(n+1)=4.929920e-003; ng(n+1)=5.963173e+003;
n=35; farx(n+1)=1.923868e+001; foe(n+1)=6.576669e+001; krok(n+1)=1.238384e-003; ng(n+1)=4.619083e+003;
n=36; farx(n+1)=1.898866e+001; foe(n+1)=6.379872e+001; krok(n+1)=7.321912e-003; ng(n+1)=3.617969e+003;
n=37; farx(n+1)=1.907901e+001; foe(n+1)=6.294971e+001; krok(n+1)=1.552665e-002; ng(n+1)=3.355907e+003;
n=38; farx(n+1)=1.920635e+001; foe(n+1)=6.187690e+001; krok(n+1)=1.066655e-003; ng(n+1)=3.051654e+003;
n=39; farx(n+1)=1.730114e+001; foe(n+1)=5.634767e+001; krok(n+1)=3.010260e-002; ng(n+1)=1.832334e+003;
n=40; farx(n+1)=1.493163e+001; foe(n+1)=4.657736e+001; krok(n+1)=2.928765e-002; ng(n+1)=1.523996e+003;
n=41; farx(n+1)=1.381728e+001; foe(n+1)=4.497491e+001; krok(n+1)=2.113198e-002; ng(n+1)=9.580711e+002;
n=42; farx(n+1)=1.117798e+001; foe(n+1)=3.921833e+001; krok(n+1)=6.082901e-002; ng(n+1)=2.296143e+003;
n=43; farx(n+1)=1.166099e+001; foe(n+1)=3.479641e+001; krok(n+1)=4.904612e-002; ng(n+1)=2.181225e+003;
n=44; farx(n+1)=1.175293e+001; foe(n+1)=3.440843e+001; krok(n+1)=3.826493e-002; ng(n+1)=2.151839e+003;
n=45; farx(n+1)=1.113794e+001; foe(n+1)=3.058559e+001; krok(n+1)=9.642176e-002; ng(n+1)=2.057205e+003;
n=46; farx(n+1)=7.545619e+000; foe(n+1)=2.236398e+001; krok(n+1)=1.070120e+000; ng(n+1)=1.007936e+003;
n=47; farx(n+1)=7.111800e+000; foe(n+1)=2.118461e+001; krok(n+1)=9.089030e-001; ng(n+1)=6.517076e+002;
n=48; farx(n+1)=7.138382e+000; foe(n+1)=2.070183e+001; krok(n+1)=7.571876e-001; ng(n+1)=3.619627e+002;
n=49; farx(n+1)=6.100625e+000; foe(n+1)=1.874297e+001; krok(n+1)=5.544063e+000; ng(n+1)=2.336485e+002;
n=50; farx(n+1)=5.821209e+000; foe(n+1)=1.719646e+001; krok(n+1)=7.178655e-001; ng(n+1)=5.759984e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=5.598194e+000; foe(n+1)=1.615296e+001; krok(n+1)=4.088483e-005; ng(n+1)=5.315613e+002;
n=52; farx(n+1)=5.589996e+000; foe(n+1)=1.586197e+001; krok(n+1)=1.465800e-005; ng(n+1)=4.606450e+002;
n=53; farx(n+1)=5.548345e+000; foe(n+1)=1.573060e+001; krok(n+1)=1.984325e-004; ng(n+1)=8.400495e+001;
n=54; farx(n+1)=5.207421e+000; foe(n+1)=1.464570e+001; krok(n+1)=3.036370e-003; ng(n+1)=6.340071e+001;
n=55; farx(n+1)=4.762720e+000; foe(n+1)=1.376195e+001; krok(n+1)=1.387045e-003; ng(n+1)=1.808797e+002;
n=56; farx(n+1)=4.712705e+000; foe(n+1)=1.331267e+001; krok(n+1)=4.106680e-003; ng(n+1)=4.677639e+002;
n=57; farx(n+1)=4.630754e+000; foe(n+1)=1.265278e+001; krok(n+1)=5.711090e-003; ng(n+1)=2.487663e+002;
n=58; farx(n+1)=4.113347e+000; foe(n+1)=1.174205e+001; krok(n+1)=1.831590e-002; ng(n+1)=2.965672e+002;
n=59; farx(n+1)=3.798570e+000; foe(n+1)=1.093442e+001; krok(n+1)=9.486198e-003; ng(n+1)=3.225287e+002;
n=60; farx(n+1)=3.589843e+000; foe(n+1)=1.017946e+001; krok(n+1)=9.612071e-003; ng(n+1)=3.384334e+002;
n=61; farx(n+1)=3.566040e+000; foe(n+1)=9.733204e+000; krok(n+1)=7.088910e-003; ng(n+1)=3.863982e+002;
n=62; farx(n+1)=3.303408e+000; foe(n+1)=9.366881e+000; krok(n+1)=3.320390e-002; ng(n+1)=3.116242e+002;
n=63; farx(n+1)=3.165768e+000; foe(n+1)=9.179954e+000; krok(n+1)=2.839954e-002; ng(n+1)=6.649581e+002;
n=64; farx(n+1)=2.837036e+000; foe(n+1)=8.353320e+000; krok(n+1)=1.340009e-001; ng(n+1)=4.115028e+002;
n=65; farx(n+1)=2.833979e+000; foe(n+1)=7.971562e+000; krok(n+1)=9.563284e-002; ng(n+1)=4.013156e+002;
n=66; farx(n+1)=2.696975e+000; foe(n+1)=7.708951e+000; krok(n+1)=1.442609e-001; ng(n+1)=5.454661e+002;
n=67; farx(n+1)=2.632254e+000; foe(n+1)=7.165013e+000; krok(n+1)=1.686145e-001; ng(n+1)=5.646751e+002;
n=68; farx(n+1)=2.631959e+000; foe(n+1)=5.827273e+000; krok(n+1)=1.210739e+000; ng(n+1)=1.093378e+002;
n=69; farx(n+1)=2.349026e+000; foe(n+1)=5.233027e+000; krok(n+1)=7.113726e-001; ng(n+1)=8.215220e+001;
n=70; farx(n+1)=2.308409e+000; foe(n+1)=4.989554e+000; krok(n+1)=2.052436e-001; ng(n+1)=2.443298e+002;
n=71; farx(n+1)=2.295092e+000; foe(n+1)=4.813548e+000; krok(n+1)=4.926664e-001; ng(n+1)=3.055961e+002;
n=72; farx(n+1)=2.216166e+000; foe(n+1)=4.670079e+000; krok(n+1)=9.576737e-001; ng(n+1)=8.828817e+001;
n=73; farx(n+1)=2.199983e+000; foe(n+1)=4.620602e+000; krok(n+1)=4.150498e-001; ng(n+1)=6.945435e+001;
n=74; farx(n+1)=2.156475e+000; foe(n+1)=4.511562e+000; krok(n+1)=1.146483e+000; ng(n+1)=1.030564e+002;
n=75; farx(n+1)=2.100087e+000; foe(n+1)=4.451172e+000; krok(n+1)=1.322970e+000; ng(n+1)=4.599059e+001;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.100984e+000; foe(n+1)=4.438889e+000; krok(n+1)=1.144248e-005; ng(n+1)=8.275057e+001;
n=77; farx(n+1)=2.098973e+000; foe(n+1)=4.431756e+000; krok(n+1)=1.672925e-005; ng(n+1)=6.579424e+001;
n=78; farx(n+1)=2.096051e+000; foe(n+1)=4.349552e+000; krok(n+1)=5.060913e-003; ng(n+1)=1.427543e+001;
n=79; farx(n+1)=2.110182e+000; foe(n+1)=4.325429e+000; krok(n+1)=8.669030e-005; ng(n+1)=5.697875e+001;
n=80; farx(n+1)=2.094898e+000; foe(n+1)=4.294476e+000; krok(n+1)=2.999882e-003; ng(n+1)=4.313458e+001;
n=81; farx(n+1)=2.067376e+000; foe(n+1)=4.251376e+000; krok(n+1)=3.240245e-003; ng(n+1)=3.922908e+001;
n=82; farx(n+1)=2.036730e+000; foe(n+1)=4.180564e+000; krok(n+1)=6.319511e-003; ng(n+1)=2.350922e+001;
n=83; farx(n+1)=2.015684e+000; foe(n+1)=4.136310e+000; krok(n+1)=1.844475e-002; ng(n+1)=1.033068e+002;
n=84; farx(n+1)=1.976733e+000; foe(n+1)=4.111298e+000; krok(n+1)=1.254679e-002; ng(n+1)=1.423259e+002;
n=85; farx(n+1)=1.974018e+000; foe(n+1)=4.101263e+000; krok(n+1)=1.448480e-002; ng(n+1)=1.564711e+002;
n=86; farx(n+1)=1.955044e+000; foe(n+1)=4.074950e+000; krok(n+1)=5.955282e-002; ng(n+1)=1.365180e+002;
n=87; farx(n+1)=1.934143e+000; foe(n+1)=4.041658e+000; krok(n+1)=8.000730e-002; ng(n+1)=1.610256e+002;
n=88; farx(n+1)=1.925104e+000; foe(n+1)=4.019030e+000; krok(n+1)=3.979978e-002; ng(n+1)=1.278112e+002;
n=89; farx(n+1)=1.909147e+000; foe(n+1)=3.839648e+000; krok(n+1)=3.619299e-001; ng(n+1)=1.453103e+002;
n=90; farx(n+1)=1.807887e+000; foe(n+1)=3.815065e+000; krok(n+1)=1.125137e-001; ng(n+1)=1.241449e+002;
n=91; farx(n+1)=1.726553e+000; foe(n+1)=3.696560e+000; krok(n+1)=2.268451e-001; ng(n+1)=6.004987e+001;
n=92; farx(n+1)=1.701108e+000; foe(n+1)=3.630925e+000; krok(n+1)=5.045340e-001; ng(n+1)=1.411578e+002;
n=93; farx(n+1)=1.706038e+000; foe(n+1)=3.593444e+000; krok(n+1)=2.485530e-001; ng(n+1)=1.473561e+002;
n=94; farx(n+1)=1.693744e+000; foe(n+1)=3.524669e+000; krok(n+1)=5.683253e-001; ng(n+1)=1.528050e+002;
n=95; farx(n+1)=1.684651e+000; foe(n+1)=3.479884e+000; krok(n+1)=6.522451e-001; ng(n+1)=9.028348e+001;
n=96; farx(n+1)=1.650995e+000; foe(n+1)=3.442765e+000; krok(n+1)=2.501044e-001; ng(n+1)=3.538945e+001;
n=97; farx(n+1)=1.567042e+000; foe(n+1)=3.373430e+000; krok(n+1)=6.182030e-001; ng(n+1)=1.264513e+002;
n=98; farx(n+1)=1.538352e+000; foe(n+1)=3.311763e+000; krok(n+1)=9.763190e-001; ng(n+1)=1.268091e+002;
n=99; farx(n+1)=1.522362e+000; foe(n+1)=3.272517e+000; krok(n+1)=6.807263e-001; ng(n+1)=1.268785e+002;
n=100; farx(n+1)=1.500629e+000; foe(n+1)=3.214095e+000; krok(n+1)=3.477470e-001; ng(n+1)=1.157277e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
