%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.040617e+003; foe(n+1)=4.057539e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.846561e+003; foe(n+1)=2.959900e+003; krok(n+1)=4.822659e-004; ng(n+1)=2.803266e+003;
n=2; farx(n+1)=9.629643e+002; foe(n+1)=9.756512e+002; krok(n+1)=4.372259e-003; ng(n+1)=1.071158e+003;
n=3; farx(n+1)=1.017803e+003; foe(n+1)=8.153595e+002; krok(n+1)=8.763006e-005; ng(n+1)=4.334468e+003;
n=4; farx(n+1)=1.217784e+003; foe(n+1)=6.970819e+002; krok(n+1)=1.524981e-003; ng(n+1)=4.491269e+003;
n=5; farx(n+1)=1.559895e+003; foe(n+1)=5.955333e+002; krok(n+1)=1.596535e-003; ng(n+1)=2.550167e+003;
n=6; farx(n+1)=1.226689e+003; foe(n+1)=4.342109e+002; krok(n+1)=4.718270e-003; ng(n+1)=1.239726e+003;
n=7; farx(n+1)=6.984964e+002; foe(n+1)=3.918854e+002; krok(n+1)=2.774090e-003; ng(n+1)=9.098084e+002;
n=8; farx(n+1)=6.959565e+002; foe(n+1)=3.797849e+002; krok(n+1)=1.715934e-002; ng(n+1)=3.537468e+002;
n=9; farx(n+1)=6.620316e+002; foe(n+1)=3.719859e+002; krok(n+1)=3.426502e-003; ng(n+1)=6.756546e+002;
n=10; farx(n+1)=5.148324e+002; foe(n+1)=3.360868e+002; krok(n+1)=7.191611e-003; ng(n+1)=6.256714e+002;
n=11; farx(n+1)=4.943661e+002; foe(n+1)=3.323738e+002; krok(n+1)=2.583925e-003; ng(n+1)=2.506566e+002;
n=12; farx(n+1)=4.855724e+002; foe(n+1)=3.281600e+002; krok(n+1)=6.776891e-003; ng(n+1)=4.511152e+002;
n=13; farx(n+1)=2.121133e+002; foe(n+1)=2.817135e+002; krok(n+1)=3.360587e-001; ng(n+1)=5.134592e+002;
n=14; farx(n+1)=1.928410e+002; foe(n+1)=2.740785e+002; krok(n+1)=1.406421e-002; ng(n+1)=7.740494e+002;
n=15; farx(n+1)=1.876873e+002; foe(n+1)=2.723577e+002; krok(n+1)=9.446471e-004; ng(n+1)=1.533586e+003;
n=16; farx(n+1)=1.807333e+002; foe(n+1)=2.661104e+002; krok(n+1)=1.184956e-002; ng(n+1)=1.486910e+003;
n=17; farx(n+1)=1.790486e+002; foe(n+1)=2.576375e+002; krok(n+1)=2.284436e-002; ng(n+1)=1.225132e+003;
n=18; farx(n+1)=1.632213e+002; foe(n+1)=2.527890e+002; krok(n+1)=4.568872e-002; ng(n+1)=1.398110e+003;
n=19; farx(n+1)=1.357360e+002; foe(n+1)=2.330832e+002; krok(n+1)=1.139041e-001; ng(n+1)=2.387487e+003;
n=20; farx(n+1)=1.169623e+002; foe(n+1)=2.225667e+002; krok(n+1)=8.316649e-002; ng(n+1)=1.307058e+003;
n=21; farx(n+1)=6.994372e+001; foe(n+1)=1.636989e+002; krok(n+1)=6.018987e-001; ng(n+1)=1.015398e+003;
n=22; farx(n+1)=5.875316e+001; foe(n+1)=1.462812e+002; krok(n+1)=5.274350e-003; ng(n+1)=2.046378e+003;
n=23; farx(n+1)=4.579681e+001; foe(n+1)=1.205322e+002; krok(n+1)=4.884576e-001; ng(n+1)=8.050101e+002;
n=24; farx(n+1)=4.787944e+001; foe(n+1)=1.141452e+002; krok(n+1)=3.185301e-002; ng(n+1)=1.606745e+003;
n=25; farx(n+1)=4.935672e+001; foe(n+1)=1.113626e+002; krok(n+1)=1.608941e-001; ng(n+1)=5.666774e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.621027e+001; foe(n+1)=1.083039e+002; krok(n+1)=3.022327e-005; ng(n+1)=9.030855e+002;
n=27; farx(n+1)=4.330701e+001; foe(n+1)=1.024389e+002; krok(n+1)=8.115387e-005; ng(n+1)=7.650955e+002;
n=28; farx(n+1)=4.508304e+001; foe(n+1)=9.983780e+001; krok(n+1)=3.831728e-004; ng(n+1)=2.315846e+002;
n=29; farx(n+1)=3.938496e+001; foe(n+1)=9.472913e+001; krok(n+1)=2.247399e-004; ng(n+1)=5.349423e+002;
n=30; farx(n+1)=2.947855e+001; foe(n+1)=7.647369e+001; krok(n+1)=1.096961e-003; ng(n+1)=1.386349e+003;
n=31; farx(n+1)=2.876946e+001; foe(n+1)=7.593782e+001; krok(n+1)=2.885108e-005; ng(n+1)=2.229235e+003;
n=32; farx(n+1)=1.915050e+001; foe(n+1)=6.737462e+001; krok(n+1)=3.726829e-003; ng(n+1)=7.101952e+003;
n=33; farx(n+1)=2.099757e+001; foe(n+1)=6.581996e+001; krok(n+1)=7.010487e-004; ng(n+1)=2.771486e+003;
n=34; farx(n+1)=2.100656e+001; foe(n+1)=6.349881e+001; krok(n+1)=8.446781e-004; ng(n+1)=3.714416e+003;
n=35; farx(n+1)=1.970708e+001; foe(n+1)=6.136412e+001; krok(n+1)=6.353015e-003; ng(n+1)=2.788585e+003;
n=36; farx(n+1)=1.891336e+001; foe(n+1)=6.048625e+001; krok(n+1)=3.276764e-004; ng(n+1)=3.528079e+003;
n=37; farx(n+1)=1.745739e+001; foe(n+1)=5.690362e+001; krok(n+1)=1.178039e-002; ng(n+1)=2.177585e+003;
n=38; farx(n+1)=1.531622e+001; foe(n+1)=5.207087e+001; krok(n+1)=2.476948e-002; ng(n+1)=2.646976e+003;
n=39; farx(n+1)=1.384878e+001; foe(n+1)=4.838842e+001; krok(n+1)=1.419977e-002; ng(n+1)=2.721985e+003;
n=40; farx(n+1)=1.136137e+001; foe(n+1)=4.143784e+001; krok(n+1)=1.695040e-001; ng(n+1)=2.370245e+003;
n=41; farx(n+1)=1.279504e+001; foe(n+1)=3.863376e+001; krok(n+1)=1.490721e-001; ng(n+1)=1.449771e+003;
n=42; farx(n+1)=1.179685e+001; foe(n+1)=3.727081e+001; krok(n+1)=7.727538e-002; ng(n+1)=9.759482e+002;
n=43; farx(n+1)=9.260092e+000; foe(n+1)=3.428976e+001; krok(n+1)=4.799811e-002; ng(n+1)=1.814303e+003;
n=44; farx(n+1)=8.526460e+000; foe(n+1)=3.229018e+001; krok(n+1)=2.301336e-001; ng(n+1)=9.286250e+002;
n=45; farx(n+1)=7.588071e+000; foe(n+1)=2.707572e+001; krok(n+1)=6.361450e-001; ng(n+1)=1.542248e+003;
n=46; farx(n+1)=7.803924e+000; foe(n+1)=2.536391e+001; krok(n+1)=6.236201e-001; ng(n+1)=3.363534e+002;
n=47; farx(n+1)=7.294461e+000; foe(n+1)=2.361323e+001; krok(n+1)=1.707324e+000; ng(n+1)=3.576086e+002;
n=48; farx(n+1)=7.098177e+000; foe(n+1)=2.279544e+001; krok(n+1)=5.567212e-001; ng(n+1)=5.245316e+002;
n=49; farx(n+1)=7.100585e+000; foe(n+1)=2.209901e+001; krok(n+1)=1.092255e+000; ng(n+1)=4.188152e+002;
n=50; farx(n+1)=5.988241e+000; foe(n+1)=2.042344e+001; krok(n+1)=1.535351e+000; ng(n+1)=2.603443e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=5.952742e+000; foe(n+1)=1.940369e+001; krok(n+1)=1.061240e-005; ng(n+1)=7.850920e+002;
n=52; farx(n+1)=5.667261e+000; foe(n+1)=1.854520e+001; krok(n+1)=4.285449e-005; ng(n+1)=2.865811e+002;
n=53; farx(n+1)=5.908231e+000; foe(n+1)=1.777793e+001; krok(n+1)=7.968363e-004; ng(n+1)=1.359649e+002;
n=54; farx(n+1)=5.840889e+000; foe(n+1)=1.763511e+001; krok(n+1)=3.542617e-005; ng(n+1)=2.034463e+002;
n=55; farx(n+1)=5.576134e+000; foe(n+1)=1.726477e+001; krok(n+1)=7.252042e-004; ng(n+1)=2.335341e+002;
n=56; farx(n+1)=5.377353e+000; foe(n+1)=1.704260e+001; krok(n+1)=1.338974e-003; ng(n+1)=1.434292e+002;
n=57; farx(n+1)=4.881850e+000; foe(n+1)=1.635748e+001; krok(n+1)=1.071180e-002; ng(n+1)=2.388196e+002;
n=58; farx(n+1)=4.959849e+000; foe(n+1)=1.611589e+001; krok(n+1)=1.640862e-002; ng(n+1)=1.840578e+002;
n=59; farx(n+1)=4.957481e+000; foe(n+1)=1.605708e+001; krok(n+1)=6.802533e-003; ng(n+1)=3.136868e+002;
n=60; farx(n+1)=4.914310e+000; foe(n+1)=1.495583e+001; krok(n+1)=3.963116e-001; ng(n+1)=2.795109e+002;
n=61; farx(n+1)=5.107993e+000; foe(n+1)=1.484171e+001; krok(n+1)=1.450364e-002; ng(n+1)=2.289149e+002;
n=62; farx(n+1)=4.038344e+000; foe(n+1)=1.395903e+001; krok(n+1)=2.818076e-001; ng(n+1)=2.084185e+002;
n=63; farx(n+1)=3.708384e+000; foe(n+1)=1.351841e+001; krok(n+1)=1.067078e-001; ng(n+1)=1.696470e+002;
n=64; farx(n+1)=3.388461e+000; foe(n+1)=1.252249e+001; krok(n+1)=6.477968e-001; ng(n+1)=9.326684e+001;
n=65; farx(n+1)=3.309212e+000; foe(n+1)=1.225049e+001; krok(n+1)=7.478469e-002; ng(n+1)=2.003243e+002;
n=66; farx(n+1)=2.885564e+000; foe(n+1)=1.078868e+001; krok(n+1)=4.915350e-001; ng(n+1)=3.072787e+002;
n=67; farx(n+1)=2.717689e+000; foe(n+1)=1.043463e+001; krok(n+1)=2.193298e-001; ng(n+1)=2.395243e+002;
n=68; farx(n+1)=2.704524e+000; foe(n+1)=1.040139e+001; krok(n+1)=2.165649e-002; ng(n+1)=2.689100e+002;
n=69; farx(n+1)=2.469985e+000; foe(n+1)=9.715409e+000; krok(n+1)=2.954351e-002; ng(n+1)=2.799536e+002;
n=70; farx(n+1)=2.453316e+000; foe(n+1)=9.368614e+000; krok(n+1)=2.155114e-001; ng(n+1)=3.453772e+002;
n=71; farx(n+1)=2.248528e+000; foe(n+1)=8.592122e+000; krok(n+1)=2.828655e-001; ng(n+1)=3.490302e+002;
n=72; farx(n+1)=2.188588e+000; foe(n+1)=7.915044e+000; krok(n+1)=3.189871e-001; ng(n+1)=3.390785e+002;
n=73; farx(n+1)=2.185397e+000; foe(n+1)=7.864841e+000; krok(n+1)=4.419773e-003; ng(n+1)=7.812874e+002;
n=74; farx(n+1)=2.196649e+000; foe(n+1)=7.362729e+000; krok(n+1)=3.713045e-001; ng(n+1)=4.412572e+002;
n=75; farx(n+1)=2.222614e+000; foe(n+1)=7.238877e+000; krok(n+1)=9.431389e-002; ng(n+1)=3.742987e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.220664e+000; foe(n+1)=7.204948e+000; krok(n+1)=1.457486e-006; ng(n+1)=3.631333e+002;
n=77; farx(n+1)=2.219054e+000; foe(n+1)=7.194807e+000; krok(n+1)=2.639833e-006; ng(n+1)=1.397225e+002;
n=78; farx(n+1)=2.218849e+000; foe(n+1)=7.186442e+000; krok(n+1)=2.697415e-005; ng(n+1)=7.767167e+001;
n=79; farx(n+1)=2.220352e+000; foe(n+1)=7.183426e+000; krok(n+1)=2.026093e-005; ng(n+1)=5.657362e+001;
n=80; farx(n+1)=2.205954e+000; foe(n+1)=7.091265e+000; krok(n+1)=1.006932e-003; ng(n+1)=5.335707e+001;
n=81; farx(n+1)=2.249438e+000; foe(n+1)=6.954425e+000; krok(n+1)=1.970836e-003; ng(n+1)=5.404882e+001;
n=82; farx(n+1)=2.299984e+000; foe(n+1)=6.848121e+000; krok(n+1)=3.657312e-003; ng(n+1)=9.225778e+001;
n=83; farx(n+1)=2.299678e+000; foe(n+1)=6.796751e+000; krok(n+1)=9.949946e-003; ng(n+1)=2.652486e+002;
n=84; farx(n+1)=2.311162e+000; foe(n+1)=6.779075e+000; krok(n+1)=2.420908e-003; ng(n+1)=1.880954e+002;
n=85; farx(n+1)=2.314153e+000; foe(n+1)=6.768376e+000; krok(n+1)=2.152696e-002; ng(n+1)=1.761655e+002;
n=86; farx(n+1)=2.333366e+000; foe(n+1)=6.712015e+000; krok(n+1)=5.099752e-002; ng(n+1)=2.244417e+002;
n=87; farx(n+1)=2.270191e+000; foe(n+1)=6.637760e+000; krok(n+1)=6.442938e-002; ng(n+1)=1.488305e+002;
n=88; farx(n+1)=2.106286e+000; foe(n+1)=6.380373e+000; krok(n+1)=5.956610e-001; ng(n+1)=1.547954e+002;
n=89; farx(n+1)=1.999203e+000; foe(n+1)=6.158681e+000; krok(n+1)=5.970321e-001; ng(n+1)=3.731275e+002;
n=90; farx(n+1)=1.970980e+000; foe(n+1)=6.110397e+000; krok(n+1)=1.081188e-001; ng(n+1)=1.512476e+002;
n=91; farx(n+1)=1.894315e+000; foe(n+1)=5.853346e+000; krok(n+1)=1.026961e+000; ng(n+1)=1.955382e+002;
n=92; farx(n+1)=1.865024e+000; foe(n+1)=5.599815e+000; krok(n+1)=1.037862e+000; ng(n+1)=1.947845e+002;
n=93; farx(n+1)=1.839715e+000; foe(n+1)=5.460311e+000; krok(n+1)=2.382113e-001; ng(n+1)=3.593239e+002;
n=94; farx(n+1)=1.785274e+000; foe(n+1)=5.261150e+000; krok(n+1)=6.022096e-001; ng(n+1)=1.849708e+002;
n=95; farx(n+1)=1.743679e+000; foe(n+1)=5.103420e+000; krok(n+1)=2.002215e-001; ng(n+1)=2.362627e+002;
n=96; farx(n+1)=1.750827e+000; foe(n+1)=5.000087e+000; krok(n+1)=2.088513e-001; ng(n+1)=1.603319e+002;
n=97; farx(n+1)=1.708226e+000; foe(n+1)=4.749428e+000; krok(n+1)=5.939275e-001; ng(n+1)=1.111013e+002;
n=98; farx(n+1)=1.660165e+000; foe(n+1)=4.560002e+000; krok(n+1)=4.003408e-001; ng(n+1)=3.289152e+002;
n=99; farx(n+1)=1.607820e+000; foe(n+1)=4.290125e+000; krok(n+1)=4.602673e-001; ng(n+1)=2.926698e+002;
n=100; farx(n+1)=1.554388e+000; foe(n+1)=3.969247e+000; krok(n+1)=4.150498e-001; ng(n+1)=3.586963e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
