%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.593600e+003; foe(n+1)=4.610595e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.010867e+003; foe(n+1)=2.939840e+003; krok(n+1)=5.011162e-004; ng(n+1)=3.773090e+003;
n=2; farx(n+1)=1.204311e+003; foe(n+1)=1.030447e+003; krok(n+1)=3.199545e-003; ng(n+1)=1.698038e+003;
n=3; farx(n+1)=1.468340e+003; foe(n+1)=6.702804e+002; krok(n+1)=1.654388e-004; ng(n+1)=7.767670e+003;
n=4; farx(n+1)=1.894977e+003; foe(n+1)=5.361233e+002; krok(n+1)=2.778542e-004; ng(n+1)=6.920161e+003;
n=5; farx(n+1)=1.277700e+003; foe(n+1)=4.408989e+002; krok(n+1)=3.869544e-003; ng(n+1)=6.565286e+002;
n=6; farx(n+1)=4.540460e+002; foe(n+1)=3.251916e+002; krok(n+1)=2.378319e-003; ng(n+1)=8.393304e+002;
n=7; farx(n+1)=3.869104e+002; foe(n+1)=3.182591e+002; krok(n+1)=5.510555e-004; ng(n+1)=1.093525e+003;
n=8; farx(n+1)=3.508549e+002; foe(n+1)=3.130382e+002; krok(n+1)=3.738564e-004; ng(n+1)=7.311307e+002;
n=9; farx(n+1)=2.457931e+002; foe(n+1)=2.929091e+002; krok(n+1)=7.712744e-003; ng(n+1)=6.299265e+002;
n=10; farx(n+1)=1.589265e+002; foe(n+1)=2.718662e+002; krok(n+1)=5.485375e-003; ng(n+1)=4.470267e+002;
n=11; farx(n+1)=1.368411e+002; foe(n+1)=2.679854e+002; krok(n+1)=2.135045e-004; ng(n+1)=2.270072e+003;
n=12; farx(n+1)=1.226726e+002; foe(n+1)=2.645154e+002; krok(n+1)=1.906873e-003; ng(n+1)=1.996552e+003;
n=13; farx(n+1)=1.028504e+002; foe(n+1)=2.608636e+002; krok(n+1)=1.420511e-003; ng(n+1)=2.307406e+003;
n=14; farx(n+1)=9.260162e+001; foe(n+1)=2.590645e+002; krok(n+1)=6.935224e-004; ng(n+1)=2.133833e+003;
n=15; farx(n+1)=7.449429e+001; foe(n+1)=2.527886e+002; krok(n+1)=8.747958e-004; ng(n+1)=3.047677e+003;
n=16; farx(n+1)=3.287146e+001; foe(n+1)=2.354694e+002; krok(n+1)=3.739948e-003; ng(n+1)=5.975623e+003;
n=17; farx(n+1)=3.063688e+001; foe(n+1)=2.328919e+002; krok(n+1)=1.298034e-004; ng(n+1)=4.470167e+003;
n=18; farx(n+1)=3.089689e+001; foe(n+1)=2.304956e+002; krok(n+1)=2.678603e-003; ng(n+1)=4.931399e+003;
n=19; farx(n+1)=3.380113e+001; foe(n+1)=2.247165e+002; krok(n+1)=4.050306e-004; ng(n+1)=4.561653e+003;
n=20; farx(n+1)=3.487235e+001; foe(n+1)=2.200811e+002; krok(n+1)=7.138862e-004; ng(n+1)=5.341625e+003;
n=21; farx(n+1)=3.819330e+001; foe(n+1)=2.154702e+002; krok(n+1)=2.855545e-003; ng(n+1)=5.779951e+003;
n=22; farx(n+1)=3.572325e+001; foe(n+1)=1.993060e+002; krok(n+1)=3.446556e-003; ng(n+1)=5.671221e+003;
n=23; farx(n+1)=3.757546e+001; foe(n+1)=1.926560e+002; krok(n+1)=7.854526e-004; ng(n+1)=3.491037e+003;
n=24; farx(n+1)=3.989523e+001; foe(n+1)=1.886416e+002; krok(n+1)=3.388445e-003; ng(n+1)=2.706641e+003;
n=25; farx(n+1)=4.289170e+001; foe(n+1)=1.866367e+002; krok(n+1)=4.615931e-003; ng(n+1)=1.934843e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=3.977309e+001; foe(n+1)=1.741765e+002; krok(n+1)=7.131570e-005; ng(n+1)=1.699718e+003;
n=27; farx(n+1)=5.072676e+001; foe(n+1)=1.400800e+002; krok(n+1)=1.326035e-004; ng(n+1)=2.095193e+003;
n=28; farx(n+1)=5.342028e+001; foe(n+1)=1.068869e+002; krok(n+1)=3.583315e-005; ng(n+1)=3.353954e+003;
n=29; farx(n+1)=4.632984e+001; foe(n+1)=9.893512e+001; krok(n+1)=3.211908e-004; ng(n+1)=3.929493e+003;
n=30; farx(n+1)=5.147085e+001; foe(n+1)=8.758651e+001; krok(n+1)=7.663457e-004; ng(n+1)=4.930219e+003;
n=31; farx(n+1)=3.830188e+001; foe(n+1)=7.904427e+001; krok(n+1)=2.232322e-003; ng(n+1)=4.440789e+003;
n=32; farx(n+1)=2.510045e+001; foe(n+1)=6.609472e+001; krok(n+1)=1.300172e-003; ng(n+1)=4.035530e+003;
n=33; farx(n+1)=1.725527e+001; foe(n+1)=5.799119e+001; krok(n+1)=3.259080e-004; ng(n+1)=3.634036e+003;
n=34; farx(n+1)=1.197882e+001; foe(n+1)=4.462329e+001; krok(n+1)=8.432951e-004; ng(n+1)=5.857399e+003;
n=35; farx(n+1)=1.022359e+001; foe(n+1)=3.706018e+001; krok(n+1)=5.958384e-004; ng(n+1)=2.415518e+003;
n=36; farx(n+1)=7.673929e+000; foe(n+1)=3.398171e+001; krok(n+1)=8.605590e-004; ng(n+1)=2.878435e+003;
n=37; farx(n+1)=7.120146e+000; foe(n+1)=3.062518e+001; krok(n+1)=2.467965e-003; ng(n+1)=3.776930e+003;
n=38; farx(n+1)=7.001158e+000; foe(n+1)=2.926827e+001; krok(n+1)=2.288181e-003; ng(n+1)=1.879558e+003;
n=39; farx(n+1)=5.092999e+000; foe(n+1)=1.800174e+001; krok(n+1)=1.559274e-002; ng(n+1)=1.679652e+003;
n=40; farx(n+1)=4.345976e+000; foe(n+1)=1.580631e+001; krok(n+1)=2.080994e-003; ng(n+1)=1.177444e+003;
n=41; farx(n+1)=3.982259e+000; foe(n+1)=1.335947e+001; krok(n+1)=6.853004e-003; ng(n+1)=1.196220e+003;
n=42; farx(n+1)=4.076438e+000; foe(n+1)=1.296727e+001; krok(n+1)=3.146871e-003; ng(n+1)=1.003778e+003;
n=43; farx(n+1)=3.917489e+000; foe(n+1)=1.193629e+001; krok(n+1)=1.843937e-002; ng(n+1)=3.763745e+002;
n=44; farx(n+1)=3.806488e+000; foe(n+1)=1.160846e+001; krok(n+1)=1.960331e-002; ng(n+1)=2.953571e+002;
n=45; farx(n+1)=3.667558e+000; foe(n+1)=1.096143e+001; krok(n+1)=6.306675e-002; ng(n+1)=6.260253e+002;
n=46; farx(n+1)=3.598324e+000; foe(n+1)=1.027718e+001; krok(n+1)=2.509977e-002; ng(n+1)=4.590934e+002;
n=47; farx(n+1)=3.611996e+000; foe(n+1)=9.659920e+000; krok(n+1)=7.964480e-002; ng(n+1)=1.782614e+002;
n=48; farx(n+1)=3.621328e+000; foe(n+1)=8.468662e+000; krok(n+1)=2.144024e-001; ng(n+1)=1.890834e+002;
n=49; farx(n+1)=3.489288e+000; foe(n+1)=7.574352e+000; krok(n+1)=1.528851e-001; ng(n+1)=5.470265e+002;
n=50; farx(n+1)=3.367855e+000; foe(n+1)=7.438924e+000; krok(n+1)=6.394768e-002; ng(n+1)=1.535679e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.369696e+000; foe(n+1)=7.413580e+000; krok(n+1)=8.539569e-006; ng(n+1)=2.111853e+002;
n=52; farx(n+1)=3.361403e+000; foe(n+1)=7.385033e+000; krok(n+1)=4.506169e-005; ng(n+1)=1.055495e+002;
n=53; farx(n+1)=3.313777e+000; foe(n+1)=7.293603e+000; krok(n+1)=1.810041e-004; ng(n+1)=9.850868e+001;
n=54; farx(n+1)=3.202086e+000; foe(n+1)=6.860263e+000; krok(n+1)=4.896899e-004; ng(n+1)=1.045279e+002;
n=55; farx(n+1)=3.169118e+000; foe(n+1)=6.714672e+000; krok(n+1)=1.045039e-003; ng(n+1)=2.587669e+002;
n=56; farx(n+1)=3.042551e+000; foe(n+1)=6.486363e+000; krok(n+1)=7.321912e-003; ng(n+1)=3.457620e+002;
n=57; farx(n+1)=2.931443e+000; foe(n+1)=6.158231e+000; krok(n+1)=8.324349e-003; ng(n+1)=6.081362e+002;
n=58; farx(n+1)=2.841625e+000; foe(n+1)=5.934194e+000; krok(n+1)=8.402186e-003; ng(n+1)=1.689735e+002;
n=59; farx(n+1)=2.700404e+000; foe(n+1)=5.721399e+000; krok(n+1)=1.878731e-002; ng(n+1)=2.420057e+002;
n=60; farx(n+1)=2.604714e+000; foe(n+1)=5.578401e+000; krok(n+1)=9.661282e-003; ng(n+1)=4.271264e+002;
n=61; farx(n+1)=2.537877e+000; foe(n+1)=5.513002e+000; krok(n+1)=1.830045e-002; ng(n+1)=4.736914e+001;
n=62; farx(n+1)=2.293504e+000; foe(n+1)=5.236499e+000; krok(n+1)=3.926791e-002; ng(n+1)=1.744714e+002;
n=63; farx(n+1)=2.265140e+000; foe(n+1)=5.210514e+000; krok(n+1)=1.929064e-003; ng(n+1)=2.564383e+002;
n=64; farx(n+1)=2.165825e+000; foe(n+1)=5.071243e+000; krok(n+1)=5.019954e-002; ng(n+1)=8.743883e+001;
n=65; farx(n+1)=2.110685e+000; foe(n+1)=5.024660e+000; krok(n+1)=1.620620e-002; ng(n+1)=1.237605e+002;
n=66; farx(n+1)=1.882699e+000; foe(n+1)=4.859210e+000; krok(n+1)=3.322968e-002; ng(n+1)=2.523940e+002;
n=67; farx(n+1)=1.714997e+000; foe(n+1)=4.658346e+000; krok(n+1)=9.661282e-003; ng(n+1)=6.893287e+002;
n=68; farx(n+1)=1.562485e+000; foe(n+1)=4.468317e+000; krok(n+1)=2.788178e-002; ng(n+1)=4.516665e+002;
n=69; farx(n+1)=1.474357e+000; foe(n+1)=4.265278e+000; krok(n+1)=4.625835e-003; ng(n+1)=7.879709e+002;
n=70; farx(n+1)=1.444929e+000; foe(n+1)=4.176853e+000; krok(n+1)=7.251821e-003; ng(n+1)=3.258231e+002;
n=71; farx(n+1)=1.408556e+000; foe(n+1)=4.063597e+000; krok(n+1)=2.307159e-002; ng(n+1)=3.864522e+002;
n=72; farx(n+1)=1.394563e+000; foe(n+1)=4.008050e+000; krok(n+1)=1.660195e-002; ng(n+1)=3.647490e+002;
n=73; farx(n+1)=1.332206e+000; foe(n+1)=3.898878e+000; krok(n+1)=5.285294e-002; ng(n+1)=3.726686e+002;
n=74; farx(n+1)=1.391614e+000; foe(n+1)=3.576142e+000; krok(n+1)=2.569287e-001; ng(n+1)=7.075674e+002;
n=75; farx(n+1)=1.406090e+000; foe(n+1)=3.356824e+000; krok(n+1)=4.077788e-002; ng(n+1)=3.773017e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.404241e+000; foe(n+1)=3.281144e+000; krok(n+1)=1.783261e-006; ng(n+1)=8.709183e+002;
n=77; farx(n+1)=1.404380e+000; foe(n+1)=3.253297e+000; krok(n+1)=1.987209e-005; ng(n+1)=1.517123e+002;
n=78; farx(n+1)=1.405946e+000; foe(n+1)=3.240354e+000; krok(n+1)=1.302585e-005; ng(n+1)=1.287682e+002;
n=79; farx(n+1)=1.424651e+000; foe(n+1)=3.062161e+000; krok(n+1)=1.469853e-003; ng(n+1)=5.056924e+001;
n=80; farx(n+1)=1.426166e+000; foe(n+1)=3.040457e+000; krok(n+1)=2.762358e-004; ng(n+1)=8.262095e+001;
n=81; farx(n+1)=1.423001e+000; foe(n+1)=2.930288e+000; krok(n+1)=5.852382e-003; ng(n+1)=1.500310e+002;
n=82; farx(n+1)=1.430857e+000; foe(n+1)=2.860920e+000; krok(n+1)=2.739044e-003; ng(n+1)=4.483922e+002;
n=83; farx(n+1)=1.461901e+000; foe(n+1)=2.555145e+000; krok(n+1)=3.549942e-003; ng(n+1)=1.117655e+003;
n=84; farx(n+1)=1.476889e+000; foe(n+1)=2.496214e+000; krok(n+1)=1.424799e-003; ng(n+1)=2.412684e+002;
n=85; farx(n+1)=1.491311e+000; foe(n+1)=2.379073e+000; krok(n+1)=5.999763e-003; ng(n+1)=7.877886e+002;
n=86; farx(n+1)=1.487390e+000; foe(n+1)=2.288412e+000; krok(n+1)=2.607264e-003; ng(n+1)=7.130613e+002;
n=87; farx(n+1)=1.492567e+000; foe(n+1)=2.202270e+000; krok(n+1)=3.128460e-003; ng(n+1)=1.250567e+003;
n=88; farx(n+1)=1.472092e+000; foe(n+1)=2.112090e+000; krok(n+1)=1.596372e-002; ng(n+1)=4.411752e+002;
n=89; farx(n+1)=1.464684e+000; foe(n+1)=2.083803e+000; krok(n+1)=8.631803e-003; ng(n+1)=3.701880e+002;
n=90; farx(n+1)=1.445557e+000; foe(n+1)=1.979684e+000; krok(n+1)=1.660195e-002; ng(n+1)=6.795457e+002;
n=91; farx(n+1)=1.446755e+000; foe(n+1)=1.893570e+000; krok(n+1)=4.486659e-002; ng(n+1)=2.108019e+002;
n=92; farx(n+1)=1.434684e+000; foe(n+1)=1.857989e+000; krok(n+1)=1.542549e-002; ng(n+1)=2.240881e+002;
n=93; farx(n+1)=1.404171e+000; foe(n+1)=1.823983e+000; krok(n+1)=1.761298e-002; ng(n+1)=5.477144e+002;
n=94; farx(n+1)=1.296205e+000; foe(n+1)=1.709660e+000; krok(n+1)=7.320182e-002; ng(n+1)=9.193346e+002;
n=95; farx(n+1)=1.276498e+000; foe(n+1)=1.680957e+000; krok(n+1)=2.386882e-002; ng(n+1)=1.468651e+002;
n=96; farx(n+1)=1.257499e+000; foe(n+1)=1.545056e+000; krok(n+1)=1.005379e-001; ng(n+1)=5.600115e+002;
n=97; farx(n+1)=1.277996e+000; foe(n+1)=1.472348e+000; krok(n+1)=6.402713e-002; ng(n+1)=3.771726e+002;
n=98; farx(n+1)=1.282835e+000; foe(n+1)=1.439964e+000; krok(n+1)=4.382471e-002; ng(n+1)=9.681959e+001;
n=99; farx(n+1)=1.294018e+000; foe(n+1)=1.408726e+000; krok(n+1)=4.784719e-002; ng(n+1)=2.075059e+002;
n=100; farx(n+1)=1.314847e+000; foe(n+1)=1.343607e+000; krok(n+1)=1.257655e-001; ng(n+1)=5.362292e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
