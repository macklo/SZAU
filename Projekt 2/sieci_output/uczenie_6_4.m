%uczenie predyktora oe
clear all;
n=0; farx(n+1)=5.139390e+003; foe(n+1)=4.841879e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.819695e+003; foe(n+1)=3.750225e+003; krok(n+1)=3.735658e-004; ng(n+1)=4.145207e+003;
n=2; farx(n+1)=9.192221e+002; foe(n+1)=9.308507e+002; krok(n+1)=1.870456e-003; ng(n+1)=2.718767e+003;
n=3; farx(n+1)=9.833648e+002; foe(n+1)=7.525138e+002; krok(n+1)=1.858436e-004; ng(n+1)=4.276872e+003;
n=4; farx(n+1)=9.356856e+002; foe(n+1)=6.717299e+002; krok(n+1)=1.612540e-003; ng(n+1)=1.773445e+003;
n=5; farx(n+1)=4.599085e+002; foe(n+1)=5.379430e+002; krok(n+1)=8.259539e-004; ng(n+1)=1.667632e+003;
n=6; farx(n+1)=2.021078e+002; foe(n+1)=3.957520e+002; krok(n+1)=6.326141e-004; ng(n+1)=3.043946e+003;
n=7; farx(n+1)=1.619494e+002; foe(n+1)=3.673555e+002; krok(n+1)=8.669030e-005; ng(n+1)=4.036143e+003;
n=8; farx(n+1)=1.750107e+002; foe(n+1)=3.133183e+002; krok(n+1)=4.689265e-003; ng(n+1)=4.960546e+003;
n=9; farx(n+1)=1.585958e+002; foe(n+1)=2.989308e+002; krok(n+1)=1.568736e-003; ng(n+1)=4.896538e+002;
n=10; farx(n+1)=1.559888e+002; foe(n+1)=2.978191e+002; krok(n+1)=1.395032e-004; ng(n+1)=1.709087e+003;
n=11; farx(n+1)=8.897125e+001; foe(n+1)=2.703175e+002; krok(n+1)=5.186798e-003; ng(n+1)=1.640448e+003;
n=12; farx(n+1)=5.539988e+001; foe(n+1)=2.553208e+002; krok(n+1)=3.229906e-004; ng(n+1)=3.835183e+003;
n=13; farx(n+1)=4.424021e+001; foe(n+1)=2.493028e+002; krok(n+1)=3.968650e-004; ng(n+1)=3.851445e+003;
n=14; farx(n+1)=4.130810e+001; foe(n+1)=2.453412e+002; krok(n+1)=1.108189e-003; ng(n+1)=3.661067e+003;
n=15; farx(n+1)=3.460059e+001; foe(n+1)=2.408449e+002; krok(n+1)=1.297613e-003; ng(n+1)=4.120691e+003;
n=16; farx(n+1)=3.247052e+001; foe(n+1)=2.336291e+002; krok(n+1)=8.178849e-004; ng(n+1)=4.422712e+003;
n=17; farx(n+1)=3.239120e+001; foe(n+1)=2.256189e+002; krok(n+1)=2.483261e-004; ng(n+1)=5.375396e+003;
n=18; farx(n+1)=3.062417e+001; foe(n+1)=2.189802e+002; krok(n+1)=8.336543e-004; ng(n+1)=7.144059e+003;
n=19; farx(n+1)=3.047710e+001; foe(n+1)=2.126490e+002; krok(n+1)=4.129769e-004; ng(n+1)=6.151410e+003;
n=20; farx(n+1)=2.840484e+001; foe(n+1)=2.051393e+002; krok(n+1)=1.651908e-003; ng(n+1)=6.711289e+003;
n=21; farx(n+1)=2.786846e+001; foe(n+1)=2.034902e+002; krok(n+1)=6.727176e-004; ng(n+1)=4.445712e+003;
n=22; farx(n+1)=3.040316e+001; foe(n+1)=2.002349e+002; krok(n+1)=1.175649e-003; ng(n+1)=3.816510e+003;
n=23; farx(n+1)=3.594657e+001; foe(n+1)=1.925999e+002; krok(n+1)=3.151553e-003; ng(n+1)=5.551407e+003;
n=24; farx(n+1)=6.389960e+001; foe(n+1)=1.720147e+002; krok(n+1)=6.669234e-003; ng(n+1)=2.164599e+003;
n=25; farx(n+1)=7.153473e+001; foe(n+1)=1.674958e+002; krok(n+1)=2.176307e-003; ng(n+1)=5.257548e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=7.136507e+001; foe(n+1)=1.668104e+002; krok(n+1)=2.171597e-006; ng(n+1)=2.389167e+003;
n=27; farx(n+1)=6.650569e+001; foe(n+1)=1.620339e+002; krok(n+1)=7.868993e-005; ng(n+1)=1.077900e+003;
n=28; farx(n+1)=6.152714e+001; foe(n+1)=1.575055e+002; krok(n+1)=1.093495e-004; ng(n+1)=1.101997e+003;
n=29; farx(n+1)=5.651881e+001; foe(n+1)=1.400602e+002; krok(n+1)=2.171131e-004; ng(n+1)=2.861238e+003;
n=30; farx(n+1)=3.954026e+001; foe(n+1)=1.183208e+002; krok(n+1)=1.215721e-003; ng(n+1)=5.084539e+003;
n=31; farx(n+1)=3.295866e+001; foe(n+1)=1.040721e+002; krok(n+1)=1.402081e-003; ng(n+1)=2.243983e+003;
n=32; farx(n+1)=2.961080e+001; foe(n+1)=9.358085e+001; krok(n+1)=2.040296e-003; ng(n+1)=2.190350e+003;
n=33; farx(n+1)=2.759785e+001; foe(n+1)=8.690333e+001; krok(n+1)=1.497533e-004; ng(n+1)=5.146381e+003;
n=34; farx(n+1)=2.367684e+001; foe(n+1)=8.193157e+001; krok(n+1)=1.300172e-003; ng(n+1)=1.145458e+003;
n=35; farx(n+1)=1.986543e+001; foe(n+1)=7.370857e+001; krok(n+1)=1.441974e-003; ng(n+1)=4.258127e+003;
n=36; farx(n+1)=1.826720e+001; foe(n+1)=7.009757e+001; krok(n+1)=1.176191e-003; ng(n+1)=2.461228e+003;
n=37; farx(n+1)=1.704453e+001; foe(n+1)=6.668713e+001; krok(n+1)=2.095809e-003; ng(n+1)=3.189888e+003;
n=38; farx(n+1)=1.590917e+001; foe(n+1)=6.093611e+001; krok(n+1)=3.851383e-003; ng(n+1)=1.433745e+003;
n=39; farx(n+1)=1.692797e+001; foe(n+1)=5.673815e+001; krok(n+1)=4.663178e-003; ng(n+1)=1.566783e+003;
n=40; farx(n+1)=1.658213e+001; foe(n+1)=5.238245e+001; krok(n+1)=5.654998e-003; ng(n+1)=1.198760e+003;
n=41; farx(n+1)=1.507109e+001; foe(n+1)=5.000269e+001; krok(n+1)=2.909519e-003; ng(n+1)=6.635446e+002;
n=42; farx(n+1)=1.496384e+001; foe(n+1)=4.466350e+001; krok(n+1)=2.157951e-003; ng(n+1)=3.370125e+003;
n=43; farx(n+1)=1.526147e+001; foe(n+1)=4.283015e+001; krok(n+1)=4.704763e-003; ng(n+1)=8.138837e+002;
n=44; farx(n+1)=1.470352e+001; foe(n+1)=4.138679e+001; krok(n+1)=5.400718e-003; ng(n+1)=1.732372e+003;
n=45; farx(n+1)=1.281054e+001; foe(n+1)=3.899101e+001; krok(n+1)=1.095618e-002; ng(n+1)=1.274291e+003;
n=46; farx(n+1)=1.039593e+001; foe(n+1)=3.598732e+001; krok(n+1)=1.263902e-002; ng(n+1)=2.329162e+003;
n=47; farx(n+1)=8.097537e+000; foe(n+1)=3.255168e+001; krok(n+1)=9.367765e-003; ng(n+1)=1.081972e+003;
n=48; farx(n+1)=7.081007e+000; foe(n+1)=2.995127e+001; krok(n+1)=1.388291e-002; ng(n+1)=8.773133e+002;
n=49; farx(n+1)=6.775026e+000; foe(n+1)=2.925761e+001; krok(n+1)=9.690117e-003; ng(n+1)=2.699869e+003;
n=50; farx(n+1)=7.615476e+000; foe(n+1)=2.586766e+001; krok(n+1)=4.331299e-002; ng(n+1)=2.293503e+003;
%odnowa zmiennej metryki
n=51; farx(n+1)=7.600044e+000; foe(n+1)=2.573885e+001; krok(n+1)=1.023989e-005; ng(n+1)=4.596489e+002;
n=52; farx(n+1)=7.671194e+000; foe(n+1)=2.543583e+001; krok(n+1)=1.313918e-005; ng(n+1)=6.104470e+002;
n=53; farx(n+1)=7.355511e+000; foe(n+1)=2.480153e+001; krok(n+1)=3.395966e-004; ng(n+1)=2.007836e+002;
n=54; farx(n+1)=5.884119e+000; foe(n+1)=2.131188e+001; krok(n+1)=3.109358e-004; ng(n+1)=4.300323e+002;
n=55; farx(n+1)=5.157878e+000; foe(n+1)=1.628969e+001; krok(n+1)=1.651654e-003; ng(n+1)=3.665730e+002;
n=56; farx(n+1)=4.537315e+000; foe(n+1)=1.474933e+001; krok(n+1)=1.330026e-003; ng(n+1)=7.957962e+002;
n=57; farx(n+1)=3.945206e+000; foe(n+1)=1.221694e+001; krok(n+1)=2.983603e-003; ng(n+1)=7.473696e+002;
n=58; farx(n+1)=3.863162e+000; foe(n+1)=1.169110e+001; krok(n+1)=7.209870e-004; ng(n+1)=1.012033e+003;
n=59; farx(n+1)=3.509873e+000; foe(n+1)=1.054503e+001; krok(n+1)=3.595838e-003; ng(n+1)=4.985810e+002;
n=60; farx(n+1)=3.347631e+000; foe(n+1)=1.020105e+001; krok(n+1)=2.397584e-003; ng(n+1)=1.577188e+002;
n=61; farx(n+1)=2.914263e+000; foe(n+1)=9.187809e+000; krok(n+1)=1.023953e-002; ng(n+1)=5.500721e+002;
n=62; farx(n+1)=2.694202e+000; foe(n+1)=8.655482e+000; krok(n+1)=6.192369e-003; ng(n+1)=3.099784e+002;
n=63; farx(n+1)=2.648623e+000; foe(n+1)=8.497610e+000; krok(n+1)=3.040595e-003; ng(n+1)=2.995019e+002;
n=64; farx(n+1)=2.319710e+000; foe(n+1)=7.780167e+000; krok(n+1)=1.725161e-002; ng(n+1)=3.425653e+002;
n=65; farx(n+1)=2.133254e+000; foe(n+1)=7.403645e+000; krok(n+1)=8.009570e-003; ng(n+1)=3.387934e+002;
n=66; farx(n+1)=2.054226e+000; foe(n+1)=7.218699e+000; krok(n+1)=5.214412e-003; ng(n+1)=5.489097e+002;
n=67; farx(n+1)=2.006150e+000; foe(n+1)=7.007357e+000; krok(n+1)=8.483440e-003; ng(n+1)=7.544248e+002;
n=68; farx(n+1)=2.085042e+000; foe(n+1)=6.595297e+000; krok(n+1)=1.961666e-002; ng(n+1)=3.667171e+002;
n=69; farx(n+1)=2.060646e+000; foe(n+1)=6.498790e+000; krok(n+1)=3.621201e-003; ng(n+1)=4.341872e+002;
n=70; farx(n+1)=1.989981e+000; foe(n+1)=6.190328e+000; krok(n+1)=4.048730e-002; ng(n+1)=7.440026e+002;
n=71; farx(n+1)=1.922737e+000; foe(n+1)=5.933690e+000; krok(n+1)=2.642647e-002; ng(n+1)=3.464211e+002;
n=72; farx(n+1)=1.853962e+000; foe(n+1)=5.743942e+000; krok(n+1)=2.142359e-002; ng(n+1)=3.384853e+002;
n=73; farx(n+1)=1.728547e+000; foe(n+1)=5.407086e+000; krok(n+1)=4.171622e-002; ng(n+1)=2.324056e+002;
n=74; farx(n+1)=1.920582e+000; foe(n+1)=5.080433e+000; krok(n+1)=1.214664e-001; ng(n+1)=2.315906e+002;
n=75; farx(n+1)=2.009448e+000; foe(n+1)=4.998339e+000; krok(n+1)=2.847182e-002; ng(n+1)=2.386248e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.008067e+000; foe(n+1)=4.982389e+000; krok(n+1)=4.732283e-006; ng(n+1)=2.337138e+002;
n=77; farx(n+1)=2.002037e+000; foe(n+1)=4.969982e+000; krok(n+1)=9.098641e-006; ng(n+1)=1.465757e+002;
n=78; farx(n+1)=1.994039e+000; foe(n+1)=4.962831e+000; krok(n+1)=2.713913e-005; ng(n+1)=6.712722e+001;
n=79; farx(n+1)=1.958495e+000; foe(n+1)=4.828244e+000; krok(n+1)=1.409080e-003; ng(n+1)=4.032828e+001;
n=80; farx(n+1)=1.927761e+000; foe(n+1)=4.770193e+000; krok(n+1)=1.369522e-003; ng(n+1)=4.143550e+001;
n=81; farx(n+1)=1.889165e+000; foe(n+1)=4.727743e+000; krok(n+1)=8.132823e-004; ng(n+1)=6.276168e+001;
n=82; farx(n+1)=1.842701e+000; foe(n+1)=4.677916e+000; krok(n+1)=2.133311e-003; ng(n+1)=6.338148e+001;
n=83; farx(n+1)=1.746455e+000; foe(n+1)=4.582834e+000; krok(n+1)=2.999882e-003; ng(n+1)=6.490112e+001;
n=84; farx(n+1)=1.385894e+000; foe(n+1)=4.223674e+000; krok(n+1)=1.775074e-002; ng(n+1)=3.022782e+002;
n=85; farx(n+1)=1.332004e+000; foe(n+1)=4.130601e+000; krok(n+1)=6.118798e-003; ng(n+1)=4.934052e+002;
n=86; farx(n+1)=1.270399e+000; foe(n+1)=3.975086e+000; krok(n+1)=9.307204e-003; ng(n+1)=2.158463e+002;
n=87; farx(n+1)=1.281160e+000; foe(n+1)=3.865072e+000; krok(n+1)=4.090464e-003; ng(n+1)=2.847026e+002;
n=88; farx(n+1)=1.299158e+000; foe(n+1)=3.826770e+000; krok(n+1)=1.000091e-002; ng(n+1)=2.084075e+002;
n=89; farx(n+1)=1.375097e+000; foe(n+1)=3.751725e+000; krok(n+1)=1.977759e-002; ng(n+1)=2.237785e+002;
n=90; farx(n+1)=1.338872e+000; foe(n+1)=3.706154e+000; krok(n+1)=1.726831e-002; ng(n+1)=1.418523e+002;
n=91; farx(n+1)=1.288408e+000; foe(n+1)=3.661922e+000; krok(n+1)=6.864555e-002; ng(n+1)=2.118423e+002;
n=92; farx(n+1)=1.242901e+000; foe(n+1)=3.634909e+000; krok(n+1)=7.505960e-003; ng(n+1)=1.557208e+002;
n=93; farx(n+1)=1.151640e+000; foe(n+1)=3.550626e+000; krok(n+1)=5.945329e-002; ng(n+1)=1.502601e+002;
n=94; farx(n+1)=1.156098e+000; foe(n+1)=3.467683e+000; krok(n+1)=5.851700e-002; ng(n+1)=3.508872e+002;
n=95; farx(n+1)=1.160321e+000; foe(n+1)=3.389345e+000; krok(n+1)=3.320390e-002; ng(n+1)=1.305126e+002;
n=96; farx(n+1)=1.181101e+000; foe(n+1)=3.346767e+000; krok(n+1)=9.096510e-003; ng(n+1)=4.478401e+002;
n=97; farx(n+1)=1.104330e+000; foe(n+1)=3.250740e+000; krok(n+1)=8.892157e-002; ng(n+1)=4.336149e+002;
n=98; farx(n+1)=1.019936e+000; foe(n+1)=3.151035e+000; krok(n+1)=4.321748e-002; ng(n+1)=6.996646e+002;
n=99; farx(n+1)=9.534831e-001; foe(n+1)=3.070411e+000; krok(n+1)=1.925105e-002; ng(n+1)=4.053851e+002;
n=100; farx(n+1)=9.033526e-001; foe(n+1)=3.002961e+000; krok(n+1)=1.553141e-001; ng(n+1)=1.533779e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
