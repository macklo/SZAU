%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.628148e+003; foe(n+1)=4.652097e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.037155e+003; foe(n+1)=2.922731e+003; krok(n+1)=5.148205e-004; ng(n+1)=3.921168e+003;
n=2; farx(n+1)=1.026486e+003; foe(n+1)=8.884251e+002; krok(n+1)=3.065383e-003; ng(n+1)=1.636742e+003;
n=3; farx(n+1)=1.088045e+003; foe(n+1)=6.898350e+002; krok(n+1)=1.161197e-004; ng(n+1)=5.321916e+003;
n=4; farx(n+1)=1.744685e+003; foe(n+1)=5.662675e+002; krok(n+1)=6.847610e-004; ng(n+1)=6.002946e+003;
n=5; farx(n+1)=1.565999e+003; foe(n+1)=5.125026e+002; krok(n+1)=6.947618e-003; ng(n+1)=8.192715e+002;
n=6; farx(n+1)=1.539658e+003; foe(n+1)=5.106907e+002; krok(n+1)=7.528795e-005; ng(n+1)=1.067307e+003;
n=7; farx(n+1)=2.976202e+002; foe(n+1)=3.586338e+002; krok(n+1)=5.694898e-003; ng(n+1)=1.067064e+003;
n=8; farx(n+1)=2.309201e+002; foe(n+1)=3.508330e+002; krok(n+1)=7.612550e-005; ng(n+1)=3.352164e+003;
n=9; farx(n+1)=2.238266e+002; foe(n+1)=3.491042e+002; krok(n+1)=3.831728e-004; ng(n+1)=3.357218e+003;
n=10; farx(n+1)=1.070691e+002; foe(n+1)=2.628253e+002; krok(n+1)=2.399905e-002; ng(n+1)=3.897818e+003;
n=11; farx(n+1)=9.943606e+001; foe(n+1)=2.596006e+002; krok(n+1)=2.949750e-004; ng(n+1)=2.438809e+003;
n=12; farx(n+1)=9.857632e+001; foe(n+1)=2.552928e+002; krok(n+1)=2.855545e-003; ng(n+1)=3.266625e+003;
n=13; farx(n+1)=9.433051e+001; foe(n+1)=2.407197e+002; krok(n+1)=9.439199e-003; ng(n+1)=2.517988e+003;
n=14; farx(n+1)=8.448822e+001; foe(n+1)=2.335785e+002; krok(n+1)=1.983433e-003; ng(n+1)=6.865282e+002;
n=15; farx(n+1)=7.577471e+001; foe(n+1)=2.289275e+002; krok(n+1)=2.500228e-003; ng(n+1)=1.710310e+003;
n=16; farx(n+1)=7.590235e+001; foe(n+1)=2.251014e+002; krok(n+1)=5.478088e-003; ng(n+1)=4.808296e+002;
n=17; farx(n+1)=7.974484e+001; foe(n+1)=2.227621e+002; krok(n+1)=1.563831e-003; ng(n+1)=2.160292e+003;
n=18; farx(n+1)=8.145916e+001; foe(n+1)=2.082416e+002; krok(n+1)=3.607652e-002; ng(n+1)=5.326395e+002;
n=19; farx(n+1)=7.981768e+001; foe(n+1)=1.946846e+002; krok(n+1)=4.324280e-003; ng(n+1)=4.004871e+003;
n=20; farx(n+1)=8.821501e+001; foe(n+1)=1.882319e+002; krok(n+1)=1.153579e-002; ng(n+1)=1.895559e+003;
n=21; farx(n+1)=7.729872e+001; foe(n+1)=1.677054e+002; krok(n+1)=1.165868e-002; ng(n+1)=8.972189e+002;
n=22; farx(n+1)=7.727711e+001; foe(n+1)=1.647733e+002; krok(n+1)=4.251583e-004; ng(n+1)=2.986497e+003;
n=23; farx(n+1)=7.206814e+001; foe(n+1)=1.603111e+002; krok(n+1)=4.926484e-003; ng(n+1)=4.565840e+003;
n=24; farx(n+1)=7.327750e+001; foe(n+1)=1.553028e+002; krok(n+1)=8.625805e-003; ng(n+1)=6.201879e+003;
n=25; farx(n+1)=6.668178e+001; foe(n+1)=1.443805e+002; krok(n+1)=3.329740e-002; ng(n+1)=5.170965e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=5.687399e+001; foe(n+1)=1.240057e+002; krok(n+1)=6.676010e-006; ng(n+1)=6.218337e+003;
n=27; farx(n+1)=2.974032e+001; foe(n+1)=9.089836e+001; krok(n+1)=4.014885e-005; ng(n+1)=2.809462e+003;
n=28; farx(n+1)=2.692451e+001; foe(n+1)=8.434903e+001; krok(n+1)=1.535829e-004; ng(n+1)=8.735253e+002;
n=29; farx(n+1)=2.446245e+001; foe(n+1)=6.784449e+001; krok(n+1)=1.133637e-003; ng(n+1)=5.016856e+002;
n=30; farx(n+1)=2.180267e+001; foe(n+1)=5.768717e+001; krok(n+1)=1.951356e-003; ng(n+1)=1.065287e+003;
n=31; farx(n+1)=1.791575e+001; foe(n+1)=4.919685e+001; krok(n+1)=4.315864e-004; ng(n+1)=3.235499e+003;
n=32; farx(n+1)=1.573138e+001; foe(n+1)=4.178255e+001; krok(n+1)=3.516052e-003; ng(n+1)=1.058858e+003;
n=33; farx(n+1)=1.295580e+001; foe(n+1)=3.659325e+001; krok(n+1)=5.792131e-003; ng(n+1)=4.185200e+002;
n=34; farx(n+1)=1.110487e+001; foe(n+1)=3.347712e+001; krok(n+1)=1.291963e-003; ng(n+1)=1.126680e+003;
n=35; farx(n+1)=9.394344e+000; foe(n+1)=2.856398e+001; krok(n+1)=3.340564e-003; ng(n+1)=4.665380e+002;
n=36; farx(n+1)=8.310514e+000; foe(n+1)=2.590475e+001; krok(n+1)=3.920371e-003; ng(n+1)=7.587468e+002;
n=37; farx(n+1)=7.628671e+000; foe(n+1)=2.501473e+001; krok(n+1)=2.914669e-003; ng(n+1)=1.227490e+003;
n=38; farx(n+1)=7.373951e+000; foe(n+1)=2.452249e+001; krok(n+1)=3.050294e-003; ng(n+1)=5.883517e+002;
n=39; farx(n+1)=7.120783e+000; foe(n+1)=2.394869e+001; krok(n+1)=2.484942e-003; ng(n+1)=8.820309e+002;
n=40; farx(n+1)=6.745239e+000; foe(n+1)=2.291801e+001; krok(n+1)=4.777659e-003; ng(n+1)=6.900722e+002;
n=41; farx(n+1)=6.716035e+000; foe(n+1)=2.150801e+001; krok(n+1)=4.679447e-003; ng(n+1)=1.189634e+003;
n=42; farx(n+1)=6.510427e+000; foe(n+1)=2.089789e+001; krok(n+1)=3.544455e-003; ng(n+1)=1.583726e+003;
n=43; farx(n+1)=5.855517e+000; foe(n+1)=1.879165e+001; krok(n+1)=1.865725e-002; ng(n+1)=2.090986e+003;
n=44; farx(n+1)=5.188466e+000; foe(n+1)=1.557606e+001; krok(n+1)=3.199482e-002; ng(n+1)=6.897258e+002;
n=45; farx(n+1)=4.953040e+000; foe(n+1)=1.490398e+001; krok(n+1)=3.146871e-003; ng(n+1)=1.647989e+003;
n=46; farx(n+1)=4.940585e+000; foe(n+1)=1.395940e+001; krok(n+1)=6.192369e-003; ng(n+1)=1.727806e+003;
n=47; farx(n+1)=4.584916e+000; foe(n+1)=1.180660e+001; krok(n+1)=5.801457e-002; ng(n+1)=2.198839e+003;
n=48; farx(n+1)=4.210812e+000; foe(n+1)=1.068997e+001; krok(n+1)=5.576355e-002; ng(n+1)=1.656893e+003;
n=49; farx(n+1)=3.988023e+000; foe(n+1)=9.175489e+000; krok(n+1)=4.171530e-002; ng(n+1)=7.369973e+002;
n=50; farx(n+1)=3.619841e+000; foe(n+1)=8.314973e+000; krok(n+1)=9.513510e-002; ng(n+1)=9.317845e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.590997e+000; foe(n+1)=8.060766e+000; krok(n+1)=3.559307e-006; ng(n+1)=9.565662e+002;
n=52; farx(n+1)=3.575348e+000; foe(n+1)=8.004434e+000; krok(n+1)=6.723172e-006; ng(n+1)=3.360938e+002;
n=53; farx(n+1)=3.554621e+000; foe(n+1)=7.936644e+000; krok(n+1)=2.209045e-005; ng(n+1)=2.396476e+002;
n=54; farx(n+1)=3.619553e+000; foe(n+1)=7.486546e+000; krok(n+1)=1.830478e-003; ng(n+1)=6.030675e+001;
n=55; farx(n+1)=3.367164e+000; foe(n+1)=6.406474e+000; krok(n+1)=5.823131e-004; ng(n+1)=1.695520e+002;
n=56; farx(n+1)=3.282382e+000; foe(n+1)=5.785347e+000; krok(n+1)=5.318174e-003; ng(n+1)=6.678047e+002;
n=57; farx(n+1)=3.148627e+000; foe(n+1)=5.198984e+000; krok(n+1)=3.838293e-003; ng(n+1)=9.128336e+002;
n=58; farx(n+1)=3.155453e+000; foe(n+1)=5.011862e+000; krok(n+1)=3.212655e-003; ng(n+1)=4.584412e+002;
n=59; farx(n+1)=3.116590e+000; foe(n+1)=4.877048e+000; krok(n+1)=4.083230e-003; ng(n+1)=4.000719e+002;
n=60; farx(n+1)=3.050438e+000; foe(n+1)=4.636419e+000; krok(n+1)=3.272337e-003; ng(n+1)=4.970339e+002;
n=61; farx(n+1)=2.847469e+000; foe(n+1)=4.289190e+000; krok(n+1)=8.894860e-003; ng(n+1)=1.189476e+002;
n=62; farx(n+1)=2.766109e+000; foe(n+1)=4.227574e+000; krok(n+1)=7.883344e-003; ng(n+1)=1.917522e+002;
n=63; farx(n+1)=2.596860e+000; foe(n+1)=4.032817e+000; krok(n+1)=2.517497e-002; ng(n+1)=3.038368e+002;
n=64; farx(n+1)=2.530795e+000; foe(n+1)=3.910841e+000; krok(n+1)=1.676647e-002; ng(n+1)=3.759336e+002;
n=65; farx(n+1)=2.391030e+000; foe(n+1)=3.616543e+000; krok(n+1)=2.991958e-002; ng(n+1)=7.203098e+002;
n=66; farx(n+1)=2.088628e+000; foe(n+1)=3.283771e+000; krok(n+1)=7.320182e-002; ng(n+1)=4.733240e+002;
n=67; farx(n+1)=2.024767e+000; foe(n+1)=3.182548e+000; krok(n+1)=3.172883e-002; ng(n+1)=4.940100e+002;
n=68; farx(n+1)=2.001275e+000; foe(n+1)=3.140801e+000; krok(n+1)=6.686718e-003; ng(n+1)=4.149451e+002;
n=69; farx(n+1)=1.879299e+000; foe(n+1)=2.914871e+000; krok(n+1)=7.835091e-002; ng(n+1)=2.577040e+002;
n=70; farx(n+1)=1.739739e+000; foe(n+1)=2.759392e+000; krok(n+1)=7.563795e-002; ng(n+1)=3.070938e+002;
n=71; farx(n+1)=1.712662e+000; foe(n+1)=2.595533e+000; krok(n+1)=2.628275e-001; ng(n+1)=6.125180e+002;
n=72; farx(n+1)=1.635756e+000; foe(n+1)=2.443486e+000; krok(n+1)=5.042484e-002; ng(n+1)=7.328358e+002;
n=73; farx(n+1)=1.590556e+000; foe(n+1)=2.342653e+000; krok(n+1)=1.032026e-001; ng(n+1)=2.806269e+002;
n=74; farx(n+1)=1.574989e+000; foe(n+1)=2.125805e+000; krok(n+1)=3.589369e-001; ng(n+1)=1.519979e+002;
n=75; farx(n+1)=1.476179e+000; foe(n+1)=1.933882e+000; krok(n+1)=4.044487e-001; ng(n+1)=1.294233e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.473264e+000; foe(n+1)=1.905596e+000; krok(n+1)=2.134892e-006; ng(n+1)=4.401684e+002;
n=77; farx(n+1)=1.472906e+000; foe(n+1)=1.901340e+000; krok(n+1)=3.799239e-006; ng(n+1)=1.373003e+002;
n=78; farx(n+1)=1.468049e+000; foe(n+1)=1.887436e+000; krok(n+1)=5.770216e-005; ng(n+1)=6.776228e+001;
n=79; farx(n+1)=1.469528e+000; foe(n+1)=1.877284e+000; krok(n+1)=1.915864e-004; ng(n+1)=3.189886e+001;
n=80; farx(n+1)=1.490559e+000; foe(n+1)=1.809854e+000; krok(n+1)=1.838554e-003; ng(n+1)=2.489847e+001;
n=81; farx(n+1)=1.505085e+000; foe(n+1)=1.775380e+000; krok(n+1)=2.953444e-003; ng(n+1)=3.147286e+001;
n=82; farx(n+1)=1.511107e+000; foe(n+1)=1.766749e+000; krok(n+1)=1.525147e-003; ng(n+1)=9.229366e+001;
n=83; farx(n+1)=1.506303e+000; foe(n+1)=1.739880e+000; krok(n+1)=1.175883e-002; ng(n+1)=1.141123e+002;
n=84; farx(n+1)=1.494940e+000; foe(n+1)=1.721055e+000; krok(n+1)=1.829287e-002; ng(n+1)=8.267338e+001;
n=85; farx(n+1)=1.432185e+000; foe(n+1)=1.657926e+000; krok(n+1)=5.160128e-002; ng(n+1)=1.889658e+002;
n=86; farx(n+1)=1.376968e+000; foe(n+1)=1.611659e+000; krok(n+1)=1.199953e-002; ng(n+1)=2.607740e+002;
n=87; farx(n+1)=1.347899e+000; foe(n+1)=1.588769e+000; krok(n+1)=4.733030e-003; ng(n+1)=2.379998e+002;
n=88; farx(n+1)=1.335628e+000; foe(n+1)=1.569322e+000; krok(n+1)=3.192003e-002; ng(n+1)=1.207002e+002;
n=89; farx(n+1)=1.325653e+000; foe(n+1)=1.478733e+000; krok(n+1)=6.640781e-002; ng(n+1)=2.991682e+002;
n=90; farx(n+1)=1.276923e+000; foe(n+1)=1.427801e+000; krok(n+1)=6.214810e-002; ng(n+1)=3.147128e+002;
n=91; farx(n+1)=1.307894e+000; foe(n+1)=1.384691e+000; krok(n+1)=1.237945e-001; ng(n+1)=4.171201e+001;
n=92; farx(n+1)=1.267236e+000; foe(n+1)=1.340955e+000; krok(n+1)=1.028043e-001; ng(n+1)=7.911022e+001;
n=93; farx(n+1)=1.251161e+000; foe(n+1)=1.324725e+000; krok(n+1)=2.954351e-002; ng(n+1)=2.950749e+002;
n=94; farx(n+1)=1.231112e+000; foe(n+1)=1.294267e+000; krok(n+1)=5.482403e-002; ng(n+1)=2.895296e+002;
n=95; farx(n+1)=1.220006e+000; foe(n+1)=1.238660e+000; krok(n+1)=1.465272e-001; ng(n+1)=4.784217e+002;
n=96; farx(n+1)=1.214520e+000; foe(n+1)=1.224073e+000; krok(n+1)=1.605804e-002; ng(n+1)=1.473683e+002;
n=97; farx(n+1)=1.195236e+000; foe(n+1)=1.161244e+000; krok(n+1)=1.517792e-001; ng(n+1)=3.623811e+002;
n=98; farx(n+1)=1.192478e+000; foe(n+1)=1.126489e+000; krok(n+1)=1.383675e-001; ng(n+1)=1.674425e+002;
n=99; farx(n+1)=1.199464e+000; foe(n+1)=1.085868e+000; krok(n+1)=1.714306e-001; ng(n+1)=3.548388e+002;
n=100; farx(n+1)=1.227721e+000; foe(n+1)=1.051599e+000; krok(n+1)=2.671770e-001; ng(n+1)=6.303643e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
