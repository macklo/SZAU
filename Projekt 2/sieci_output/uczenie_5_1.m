%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.991766e+003; foe(n+1)=4.031263e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.789593e+003; foe(n+1)=2.880855e+003; krok(n+1)=4.912716e-004; ng(n+1)=3.655900e+003;
n=2; farx(n+1)=1.033500e+003; foe(n+1)=9.684095e+002; krok(n+1)=2.607264e-003; ng(n+1)=1.932193e+003;
n=3; farx(n+1)=1.194367e+003; foe(n+1)=6.542011e+002; krok(n+1)=1.827741e-004; ng(n+1)=6.131120e+003;
n=4; farx(n+1)=1.596701e+003; foe(n+1)=5.362374e+002; krok(n+1)=5.762304e-004; ng(n+1)=5.286360e+003;
n=5; farx(n+1)=1.258832e+003; foe(n+1)=4.611739e+002; krok(n+1)=7.692316e-003; ng(n+1)=6.550558e+002;
n=6; farx(n+1)=1.190811e+003; foe(n+1)=4.504905e+002; krok(n+1)=3.984182e-004; ng(n+1)=1.496843e+003;
n=7; farx(n+1)=8.555287e+002; foe(n+1)=4.166168e+002; krok(n+1)=1.350546e-003; ng(n+1)=1.511089e+003;
n=8; farx(n+1)=4.995813e+002; foe(n+1)=3.733056e+002; krok(n+1)=1.058508e-003; ng(n+1)=1.606675e+003;
n=9; farx(n+1)=3.626628e+002; foe(n+1)=3.503563e+002; krok(n+1)=2.105249e-003; ng(n+1)=1.494959e+003;
n=10; farx(n+1)=2.475374e+002; foe(n+1)=3.241166e+002; krok(n+1)=5.433546e-003; ng(n+1)=1.288436e+003;
n=11; farx(n+1)=2.389912e+002; foe(n+1)=3.165614e+002; krok(n+1)=6.192369e-003; ng(n+1)=8.112937e+002;
n=12; farx(n+1)=1.843930e+002; foe(n+1)=2.977778e+002; krok(n+1)=2.186130e-003; ng(n+1)=1.232993e+003;
n=13; farx(n+1)=1.351821e+002; foe(n+1)=2.761315e+002; krok(n+1)=8.336543e-004; ng(n+1)=1.782713e+003;
n=14; farx(n+1)=1.337590e+002; foe(n+1)=2.650424e+002; krok(n+1)=2.013864e-003; ng(n+1)=2.354394e+003;
n=15; farx(n+1)=1.350576e+002; foe(n+1)=2.592652e+002; krok(n+1)=3.716215e-004; ng(n+1)=1.602417e+003;
n=16; farx(n+1)=1.323864e+002; foe(n+1)=2.467519e+002; krok(n+1)=2.926699e-003; ng(n+1)=1.757773e+003;
n=17; farx(n+1)=1.465436e+002; foe(n+1)=2.306757e+002; krok(n+1)=2.939560e-003; ng(n+1)=1.725200e+003;
n=18; farx(n+1)=1.439640e+002; foe(n+1)=2.253597e+002; krok(n+1)=8.258271e-004; ng(n+1)=2.938326e+003;
n=19; farx(n+1)=1.398120e+002; foe(n+1)=2.200596e+002; krok(n+1)=2.778799e-003; ng(n+1)=4.241277e+003;
n=20; farx(n+1)=1.415224e+002; foe(n+1)=2.113586e+002; krok(n+1)=1.329544e-003; ng(n+1)=5.580913e+003;
n=21; farx(n+1)=1.390630e+002; foe(n+1)=2.080126e+002; krok(n+1)=7.088910e-003; ng(n+1)=4.095728e+003;
n=22; farx(n+1)=1.325126e+002; foe(n+1)=1.798289e+002; krok(n+1)=1.005588e-002; ng(n+1)=3.908408e+003;
n=23; farx(n+1)=1.118270e+002; foe(n+1)=1.287858e+002; krok(n+1)=7.809264e-003; ng(n+1)=3.626936e+003;
n=24; farx(n+1)=9.569197e+001; foe(n+1)=1.207222e+002; krok(n+1)=5.137451e-003; ng(n+1)=8.339636e+002;
n=25; farx(n+1)=9.311132e+001; foe(n+1)=1.111915e+002; krok(n+1)=2.452306e-002; ng(n+1)=1.160804e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=9.014324e+001; foe(n+1)=1.098332e+002; krok(n+1)=1.736589e-005; ng(n+1)=9.135802e+002;
n=27; farx(n+1)=7.445261e+001; foe(n+1)=1.005433e+002; krok(n+1)=1.985317e-004; ng(n+1)=7.695001e+002;
n=28; farx(n+1)=6.903463e+001; foe(n+1)=9.315691e+001; krok(n+1)=3.241749e-004; ng(n+1)=5.112237e+002;
n=29; farx(n+1)=6.521132e+001; foe(n+1)=8.458421e+001; krok(n+1)=1.026670e-003; ng(n+1)=1.704589e+003;
n=30; farx(n+1)=6.365800e+001; foe(n+1)=8.096104e+001; krok(n+1)=9.349870e-004; ng(n+1)=2.394152e+003;
n=31; farx(n+1)=6.363981e+001; foe(n+1)=7.315866e+001; krok(n+1)=1.020148e-003; ng(n+1)=3.539457e+003;
n=32; farx(n+1)=5.278888e+001; foe(n+1)=5.650300e+001; krok(n+1)=4.853566e-003; ng(n+1)=3.470041e+002;
n=33; farx(n+1)=4.820416e+001; foe(n+1)=5.304362e+001; krok(n+1)=9.914730e-004; ng(n+1)=5.683419e+002;
n=34; farx(n+1)=4.669014e+001; foe(n+1)=4.623067e+001; krok(n+1)=3.137471e-003; ng(n+1)=1.868497e+003;
n=35; farx(n+1)=4.337265e+001; foe(n+1)=4.534420e+001; krok(n+1)=6.425309e-003; ng(n+1)=2.911692e+002;
n=36; farx(n+1)=4.054405e+001; foe(n+1)=4.411079e+001; krok(n+1)=1.661484e-002; ng(n+1)=4.198618e+002;
n=37; farx(n+1)=3.548773e+001; foe(n+1)=4.262249e+001; krok(n+1)=2.223039e-002; ng(n+1)=3.449250e+002;
n=38; farx(n+1)=3.245916e+001; foe(n+1)=4.160939e+001; krok(n+1)=3.196395e-002; ng(n+1)=1.842000e+002;
n=39; farx(n+1)=3.330296e+001; foe(n+1)=4.014643e+001; krok(n+1)=7.326360e-002; ng(n+1)=3.254634e+002;
n=40; farx(n+1)=3.487516e+001; foe(n+1)=3.843838e+001; krok(n+1)=1.214811e-001; ng(n+1)=6.605781e+002;
n=41; farx(n+1)=3.302655e+001; foe(n+1)=3.777467e+001; krok(n+1)=3.552033e-002; ng(n+1)=4.426320e+002;
n=42; farx(n+1)=3.190850e+001; foe(n+1)=3.540906e+001; krok(n+1)=1.752988e-001; ng(n+1)=5.466094e+002;
n=43; farx(n+1)=3.127387e+001; foe(n+1)=3.421051e+001; krok(n+1)=5.985461e-002; ng(n+1)=2.641079e+002;
n=44; farx(n+1)=2.905854e+001; foe(n+1)=3.200492e+001; krok(n+1)=8.046609e-002; ng(n+1)=4.549195e+002;
n=45; farx(n+1)=2.325254e+001; foe(n+1)=2.919788e+001; krok(n+1)=1.677703e-001; ng(n+1)=3.963678e+002;
n=46; farx(n+1)=2.092792e+001; foe(n+1)=2.796813e+001; krok(n+1)=2.452306e-002; ng(n+1)=4.116143e+002;
n=47; farx(n+1)=1.841442e+001; foe(n+1)=2.635002e+001; krok(n+1)=5.335388e-002; ng(n+1)=3.864127e+002;
n=48; farx(n+1)=1.366292e+001; foe(n+1)=2.389008e+001; krok(n+1)=1.717868e-001; ng(n+1)=4.903221e+002;
n=49; farx(n+1)=1.173632e+001; foe(n+1)=2.261498e+001; krok(n+1)=5.197516e-002; ng(n+1)=3.239501e+002;
n=50; farx(n+1)=9.481936e+000; foe(n+1)=2.022894e+001; krok(n+1)=7.502825e-002; ng(n+1)=8.397528e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=9.346397e+000; foe(n+1)=1.892008e+001; krok(n+1)=1.176389e-005; ng(n+1)=1.337188e+003;
n=52; farx(n+1)=8.979990e+000; foe(n+1)=1.849576e+001; krok(n+1)=1.250530e-004; ng(n+1)=1.902724e+002;
n=53; farx(n+1)=8.930869e+000; foe(n+1)=1.843574e+001; krok(n+1)=7.039348e-005; ng(n+1)=1.006166e+002;
n=54; farx(n+1)=8.915281e+000; foe(n+1)=1.681237e+001; krok(n+1)=4.777659e-003; ng(n+1)=7.828723e+001;
n=55; farx(n+1)=7.461466e+000; foe(n+1)=1.539598e+001; krok(n+1)=3.146871e-003; ng(n+1)=2.952523e+002;
n=56; farx(n+1)=6.503346e+000; foe(n+1)=1.479985e+001; krok(n+1)=1.389400e-003; ng(n+1)=7.126955e+002;
n=57; farx(n+1)=5.983446e+000; foe(n+1)=1.418968e+001; krok(n+1)=3.146871e-003; ng(n+1)=1.130657e+003;
n=58; farx(n+1)=5.065866e+000; foe(n+1)=1.321324e+001; krok(n+1)=1.333847e-002; ng(n+1)=8.647753e+002;
n=59; farx(n+1)=4.775890e+000; foe(n+1)=1.295753e+001; krok(n+1)=8.631803e-003; ng(n+1)=5.624361e+002;
n=60; farx(n+1)=4.462905e+000; foe(n+1)=1.245401e+001; krok(n+1)=1.450364e-002; ng(n+1)=5.634013e+002;
n=61; farx(n+1)=4.437873e+000; foe(n+1)=1.221447e+001; krok(n+1)=1.517118e-002; ng(n+1)=6.136568e+002;
n=62; farx(n+1)=4.351252e+000; foe(n+1)=1.205132e+001; krok(n+1)=1.091588e-002; ng(n+1)=2.297843e+002;
n=63; farx(n+1)=4.265350e+000; foe(n+1)=1.194955e+001; krok(n+1)=1.073668e-002; ng(n+1)=2.923785e+002;
n=64; farx(n+1)=3.664093e+000; foe(n+1)=1.089234e+001; krok(n+1)=1.383675e-001; ng(n+1)=2.191447e+002;
n=65; farx(n+1)=3.264765e+000; foe(n+1)=1.003722e+001; krok(n+1)=9.327289e-002; ng(n+1)=3.921914e+002;
n=66; farx(n+1)=2.864818e+000; foe(n+1)=8.980123e+000; krok(n+1)=3.522595e-002; ng(n+1)=5.290127e+002;
n=67; farx(n+1)=2.788948e+000; foe(n+1)=8.838870e+000; krok(n+1)=3.658573e-002; ng(n+1)=1.116574e+002;
n=68; farx(n+1)=2.684279e+000; foe(n+1)=8.197436e+000; krok(n+1)=1.803622e-001; ng(n+1)=2.755796e+002;
n=69; farx(n+1)=2.635761e+000; foe(n+1)=7.879222e+000; krok(n+1)=2.205796e-001; ng(n+1)=2.449908e+002;
n=70; farx(n+1)=2.480411e+000; foe(n+1)=7.539475e+000; krok(n+1)=1.139041e-001; ng(n+1)=1.963299e+002;
n=71; farx(n+1)=2.433729e+000; foe(n+1)=7.409716e+000; krok(n+1)=2.508493e-002; ng(n+1)=1.942693e+002;
n=72; farx(n+1)=2.347369e+000; foe(n+1)=7.117231e+000; krok(n+1)=1.253365e-001; ng(n+1)=2.028916e+002;
n=73; farx(n+1)=2.332828e+000; foe(n+1)=6.871053e+000; krok(n+1)=1.288873e-001; ng(n+1)=2.695155e+002;
n=74; farx(n+1)=2.349629e+000; foe(n+1)=6.584315e+000; krok(n+1)=2.226006e-001; ng(n+1)=1.134035e+002;
n=75; farx(n+1)=2.240795e+000; foe(n+1)=6.176959e+000; krok(n+1)=5.636152e-001; ng(n+1)=1.880718e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.249596e+000; foe(n+1)=6.145724e+000; krok(n+1)=2.832743e-005; ng(n+1)=1.014777e+002;
n=77; farx(n+1)=2.248735e+000; foe(n+1)=6.129778e+000; krok(n+1)=8.083878e-005; ng(n+1)=5.323014e+001;
n=78; farx(n+1)=2.247505e+000; foe(n+1)=6.124205e+000; krok(n+1)=2.647223e-005; ng(n+1)=4.427177e+001;
n=79; farx(n+1)=2.229731e+000; foe(n+1)=6.098278e+000; krok(n+1)=1.482218e-004; ng(n+1)=5.086275e+001;
n=80; farx(n+1)=2.229439e+000; foe(n+1)=6.085120e+000; krok(n+1)=1.158294e-003; ng(n+1)=1.593070e+001;
n=81; farx(n+1)=2.234565e+000; foe(n+1)=6.062170e+000; krok(n+1)=1.387045e-003; ng(n+1)=1.899192e+001;
n=82; farx(n+1)=2.128647e+000; foe(n+1)=5.888442e+000; krok(n+1)=1.251065e-002; ng(n+1)=2.126218e+001;
n=83; farx(n+1)=2.065316e+000; foe(n+1)=5.767714e+000; krok(n+1)=2.691279e-002; ng(n+1)=6.430589e+001;
n=84; farx(n+1)=2.014128e+000; foe(n+1)=5.660822e+000; krok(n+1)=6.256921e-003; ng(n+1)=1.336864e+002;
n=85; farx(n+1)=1.956586e+000; foe(n+1)=5.552562e+000; krok(n+1)=8.471180e-003; ng(n+1)=9.159674e+001;
n=86; farx(n+1)=1.920265e+000; foe(n+1)=5.444433e+000; krok(n+1)=7.883344e-003; ng(n+1)=2.129623e+002;
n=87; farx(n+1)=1.830929e+000; foe(n+1)=5.196721e+000; krok(n+1)=2.038894e-002; ng(n+1)=3.212863e+002;
n=88; farx(n+1)=1.784246e+000; foe(n+1)=5.087784e+000; krok(n+1)=2.967304e-002; ng(n+1)=3.063520e+002;
n=89; farx(n+1)=1.734217e+000; foe(n+1)=4.939291e+000; krok(n+1)=5.261210e-002; ng(n+1)=2.770081e+002;
n=90; farx(n+1)=1.657779e+000; foe(n+1)=4.692903e+000; krok(n+1)=8.569436e-002; ng(n+1)=3.394778e+002;
n=91; farx(n+1)=1.618725e+000; foe(n+1)=4.506613e+000; krok(n+1)=2.055621e-002; ng(n+1)=2.975423e+002;
n=92; farx(n+1)=1.617617e+000; foe(n+1)=4.388867e+000; krok(n+1)=8.000730e-002; ng(n+1)=1.615397e+002;
n=93; farx(n+1)=1.586603e+000; foe(n+1)=4.262250e+000; krok(n+1)=1.221144e-001; ng(n+1)=1.215884e+002;
n=94; farx(n+1)=1.591591e+000; foe(n+1)=4.163457e+000; krok(n+1)=1.702433e-001; ng(n+1)=1.545756e+002;
n=95; farx(n+1)=1.571559e+000; foe(n+1)=4.029344e+000; krok(n+1)=2.114442e-001; ng(n+1)=1.133407e+002;
n=96; farx(n+1)=1.555256e+000; foe(n+1)=3.907465e+000; krok(n+1)=7.382907e-001; ng(n+1)=1.917727e+002;
n=97; farx(n+1)=1.561081e+000; foe(n+1)=3.777319e+000; krok(n+1)=4.686024e-001; ng(n+1)=9.785607e+001;
n=98; farx(n+1)=1.598544e+000; foe(n+1)=3.633950e+000; krok(n+1)=3.118032e-001; ng(n+1)=2.085303e+002;
n=99; farx(n+1)=1.698166e+000; foe(n+1)=3.505999e+000; krok(n+1)=1.845727e-001; ng(n+1)=2.842936e+002;
n=100; farx(n+1)=1.805367e+000; foe(n+1)=3.303897e+000; krok(n+1)=1.981883e-001; ng(n+1)=3.841813e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
