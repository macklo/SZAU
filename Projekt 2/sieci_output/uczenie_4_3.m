%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.889072e+003; foe(n+1)=4.928427e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.727656e+003; foe(n+1)=3.864223e+003; krok(n+1)=3.347436e-004; ng(n+1)=4.020513e+003;
n=2; farx(n+1)=6.577208e+002; foe(n+1)=7.293845e+002; krok(n+1)=4.776032e-003; ng(n+1)=1.282520e+003;
n=3; farx(n+1)=6.397758e+002; foe(n+1)=6.035129e+002; krok(n+1)=2.942857e-004; ng(n+1)=1.633727e+003;
n=4; farx(n+1)=5.430525e+002; foe(n+1)=4.719545e+002; krok(n+1)=8.931057e-004; ng(n+1)=1.790114e+003;
n=5; farx(n+1)=4.591888e+002; foe(n+1)=4.392108e+002; krok(n+1)=3.164277e-004; ng(n+1)=1.424153e+003;
n=6; farx(n+1)=3.481657e+002; foe(n+1)=4.110235e+002; krok(n+1)=2.988526e-003; ng(n+1)=6.915826e+002;
n=7; farx(n+1)=3.282280e+002; foe(n+1)=3.876391e+002; krok(n+1)=9.552064e-003; ng(n+1)=6.264997e+002;
n=8; farx(n+1)=3.000811e+002; foe(n+1)=3.785615e+002; krok(n+1)=8.759836e-004; ng(n+1)=6.005971e+002;
n=9; farx(n+1)=2.480801e+002; foe(n+1)=3.389304e+002; krok(n+1)=1.262969e-002; ng(n+1)=8.711681e+002;
n=10; farx(n+1)=2.227601e+002; foe(n+1)=3.256911e+002; krok(n+1)=5.885714e-004; ng(n+1)=1.389032e+003;
n=11; farx(n+1)=1.689084e+002; foe(n+1)=3.079102e+002; krok(n+1)=4.966995e-004; ng(n+1)=2.197058e+003;
n=12; farx(n+1)=1.624273e+002; foe(n+1)=3.027333e+002; krok(n+1)=2.554609e-004; ng(n+1)=4.771241e+003;
n=13; farx(n+1)=1.330577e+002; foe(n+1)=2.773947e+002; krok(n+1)=7.496833e-004; ng(n+1)=5.850892e+003;
n=14; farx(n+1)=1.063542e+002; foe(n+1)=2.650993e+002; krok(n+1)=3.869544e-003; ng(n+1)=2.797611e+003;
n=15; farx(n+1)=1.001972e+002; foe(n+1)=2.596006e+002; krok(n+1)=7.002552e-005; ng(n+1)=9.737718e+003;
n=16; farx(n+1)=9.826601e+001; foe(n+1)=2.588160e+002; krok(n+1)=3.151866e-004; ng(n+1)=7.216818e+003;
n=17; farx(n+1)=9.559645e+001; foe(n+1)=2.576299e+002; krok(n+1)=4.758251e-004; ng(n+1)=1.406434e+004;
n=18; farx(n+1)=9.290737e+001; foe(n+1)=2.557659e+002; krok(n+1)=1.186919e-003; ng(n+1)=9.009733e+003;
n=19; farx(n+1)=9.177397e+001; foe(n+1)=2.527692e+002; krok(n+1)=4.747676e-003; ng(n+1)=7.472485e+003;
n=20; farx(n+1)=9.241797e+001; foe(n+1)=2.355977e+002; krok(n+1)=4.834060e-002; ng(n+1)=2.572227e+003;
n=21; farx(n+1)=9.473149e+001; foe(n+1)=2.336104e+002; krok(n+1)=8.375096e-004; ng(n+1)=3.214557e+003;
n=22; farx(n+1)=7.306324e+001; foe(n+1)=1.781160e+002; krok(n+1)=4.524124e-002; ng(n+1)=3.861999e+003;
n=23; farx(n+1)=7.278586e+001; foe(n+1)=1.773584e+002; krok(n+1)=1.207428e-003; ng(n+1)=4.935768e+003;
n=24; farx(n+1)=6.757459e+001; foe(n+1)=1.455991e+002; krok(n+1)=5.448724e-002; ng(n+1)=4.915669e+003;
n=25; farx(n+1)=6.747046e+001; foe(n+1)=1.454414e+002; krok(n+1)=8.145474e-004; ng(n+1)=3.623232e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=5.392521e+001; foe(n+1)=1.076889e+002; krok(n+1)=2.556514e-005; ng(n+1)=7.948214e+003;
n=27; farx(n+1)=4.540417e+001; foe(n+1)=8.853533e+001; krok(n+1)=2.282707e-005; ng(n+1)=3.670287e+003;
n=28; farx(n+1)=3.901624e+001; foe(n+1)=8.139896e+001; krok(n+1)=8.489916e-005; ng(n+1)=9.854131e+002;
n=29; farx(n+1)=2.832487e+001; foe(n+1)=6.605181e+001; krok(n+1)=1.700059e-003; ng(n+1)=9.994048e+002;
n=30; farx(n+1)=2.868102e+001; foe(n+1)=5.963201e+001; krok(n+1)=2.450413e-003; ng(n+1)=2.268115e+002;
n=31; farx(n+1)=2.605982e+001; foe(n+1)=5.722575e+001; krok(n+1)=1.265228e-003; ng(n+1)=3.156914e+002;
n=32; farx(n+1)=2.510615e+001; foe(n+1)=5.527882e+001; krok(n+1)=2.409214e-003; ng(n+1)=8.838592e+002;
n=33; farx(n+1)=2.329943e+001; foe(n+1)=5.182559e+001; krok(n+1)=3.572423e-003; ng(n+1)=1.152555e+003;
n=34; farx(n+1)=2.324486e+001; foe(n+1)=4.719888e+001; krok(n+1)=1.111520e-002; ng(n+1)=1.227020e+003;
n=35; farx(n+1)=2.120713e+001; foe(n+1)=3.901406e+001; krok(n+1)=1.111520e-002; ng(n+1)=1.683544e+003;
n=36; farx(n+1)=2.114939e+001; foe(n+1)=3.706757e+001; krok(n+1)=3.751501e-003; ng(n+1)=1.709422e+003;
n=37; farx(n+1)=1.922498e+001; foe(n+1)=3.408751e+001; krok(n+1)=3.446556e-003; ng(n+1)=9.721652e+002;
n=38; farx(n+1)=1.901199e+001; foe(n+1)=3.372334e+001; krok(n+1)=2.684169e-003; ng(n+1)=6.709544e+002;
n=39; farx(n+1)=1.832374e+001; foe(n+1)=3.278466e+001; krok(n+1)=2.712333e-002; ng(n+1)=7.209367e+002;
n=40; farx(n+1)=1.739509e+001; foe(n+1)=3.182055e+001; krok(n+1)=4.438543e-002; ng(n+1)=4.540864e+002;
n=41; farx(n+1)=1.493423e+001; foe(n+1)=2.738471e+001; krok(n+1)=1.134096e-001; ng(n+1)=4.562770e+002;
n=42; farx(n+1)=1.429490e+001; foe(n+1)=2.627929e+001; krok(n+1)=7.951514e-002; ng(n+1)=2.630285e+002;
n=43; farx(n+1)=1.407631e+001; foe(n+1)=2.584434e+001; krok(n+1)=8.277891e-002; ng(n+1)=3.636045e+002;
n=44; farx(n+1)=1.281508e+001; foe(n+1)=2.374504e+001; krok(n+1)=5.872046e-001; ng(n+1)=4.418853e+002;
n=45; farx(n+1)=1.260837e+001; foe(n+1)=2.342245e+001; krok(n+1)=7.802292e-002; ng(n+1)=2.367280e+002;
n=46; farx(n+1)=1.132412e+001; foe(n+1)=2.210295e+001; krok(n+1)=4.698917e-001; ng(n+1)=2.732286e+002;
n=47; farx(n+1)=1.041488e+001; foe(n+1)=2.083339e+001; krok(n+1)=4.275922e-001; ng(n+1)=2.759897e+002;
n=48; farx(n+1)=9.227722e+000; foe(n+1)=1.963825e+001; krok(n+1)=3.838379e-001; ng(n+1)=2.905021e+002;
n=49; farx(n+1)=8.474484e+000; foe(n+1)=1.778835e+001; krok(n+1)=5.090926e-001; ng(n+1)=7.647036e+002;
n=50; farx(n+1)=7.152077e+000; foe(n+1)=1.667958e+001; krok(n+1)=5.076342e-001; ng(n+1)=4.343987e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=6.892738e+000; foe(n+1)=1.600070e+001; krok(n+1)=5.279238e-005; ng(n+1)=4.122790e+002;
n=52; farx(n+1)=6.865144e+000; foe(n+1)=1.584828e+001; krok(n+1)=2.343658e-005; ng(n+1)=3.116104e+002;
n=53; farx(n+1)=6.743116e+000; foe(n+1)=1.576099e+001; krok(n+1)=4.676141e-004; ng(n+1)=5.049552e+001;
n=54; farx(n+1)=6.321602e+000; foe(n+1)=1.539722e+001; krok(n+1)=3.347436e-004; ng(n+1)=1.064276e+002;
n=55; farx(n+1)=6.083386e+000; foe(n+1)=1.507825e+001; krok(n+1)=2.530456e-003; ng(n+1)=5.620390e+001;
n=56; farx(n+1)=5.666492e+000; foe(n+1)=1.473561e+001; krok(n+1)=2.045232e-003; ng(n+1)=7.650958e+001;
n=57; farx(n+1)=5.458400e+000; foe(n+1)=1.456564e+001; krok(n+1)=2.559883e-003; ng(n+1)=2.400337e+002;
n=58; farx(n+1)=5.167614e+000; foe(n+1)=1.418027e+001; krok(n+1)=6.686718e-003; ng(n+1)=3.665192e+002;
n=59; farx(n+1)=4.945079e+000; foe(n+1)=1.377944e+001; krok(n+1)=3.941672e-003; ng(n+1)=5.424801e+002;
n=60; farx(n+1)=4.680188e+000; foe(n+1)=1.317553e+001; krok(n+1)=1.417782e-002; ng(n+1)=2.369606e+002;
n=61; farx(n+1)=4.731984e+000; foe(n+1)=1.295463e+001; krok(n+1)=2.316852e-002; ng(n+1)=1.536654e+002;
n=62; farx(n+1)=4.616701e+000; foe(n+1)=1.256872e+001; krok(n+1)=3.979978e-002; ng(n+1)=3.085992e+002;
n=63; farx(n+1)=4.259098e+000; foe(n+1)=1.223624e+001; krok(n+1)=4.438543e-002; ng(n+1)=2.811773e+002;
n=64; farx(n+1)=4.146304e+000; foe(n+1)=1.199958e+001; krok(n+1)=1.280590e-002; ng(n+1)=5.591676e+002;
n=65; farx(n+1)=3.627183e+000; foe(n+1)=1.117805e+001; krok(n+1)=1.124683e-001; ng(n+1)=3.223644e+002;
n=66; farx(n+1)=3.494329e+000; foe(n+1)=1.086851e+001; krok(n+1)=1.634459e-001; ng(n+1)=1.437524e+002;
n=67; farx(n+1)=2.952998e+000; foe(n+1)=1.035642e+001; krok(n+1)=3.589327e-001; ng(n+1)=1.807690e+002;
n=68; farx(n+1)=2.658781e+000; foe(n+1)=1.005820e+001; krok(n+1)=3.202323e-001; ng(n+1)=3.274547e+002;
n=69; farx(n+1)=2.541854e+000; foe(n+1)=9.837453e+000; krok(n+1)=1.677703e-001; ng(n+1)=2.177302e+002;
n=70; farx(n+1)=2.378521e+000; foe(n+1)=9.655684e+000; krok(n+1)=2.767539e-001; ng(n+1)=2.478780e+002;
n=71; farx(n+1)=2.263955e+000; foe(n+1)=9.501570e+000; krok(n+1)=2.093785e-001; ng(n+1)=2.141066e+002;
n=72; farx(n+1)=2.207122e+000; foe(n+1)=9.418919e+000; krok(n+1)=6.659479e-002; ng(n+1)=2.347543e+002;
n=73; farx(n+1)=2.101078e+000; foe(n+1)=9.319728e+000; krok(n+1)=2.680018e-001; ng(n+1)=5.813194e+001;
n=74; farx(n+1)=2.012146e+000; foe(n+1)=9.239188e+000; krok(n+1)=2.538306e-001; ng(n+1)=1.036849e+002;
n=75; farx(n+1)=1.942854e+000; foe(n+1)=9.182232e+000; krok(n+1)=3.655097e-001; ng(n+1)=2.553312e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.940061e+000; foe(n+1)=9.169498e+000; krok(n+1)=1.259177e-005; ng(n+1)=1.002626e+002;
n=77; farx(n+1)=1.939259e+000; foe(n+1)=9.168017e+000; krok(n+1)=5.724232e-006; ng(n+1)=5.220874e+001;
n=78; farx(n+1)=1.932181e+000; foe(n+1)=9.150205e+000; krok(n+1)=4.029366e-004; ng(n+1)=2.008157e+001;
n=79; farx(n+1)=1.905133e+000; foe(n+1)=9.120650e+000; krok(n+1)=6.772877e-005; ng(n+1)=6.192491e+001;
n=80; farx(n+1)=1.884676e+000; foe(n+1)=9.077392e+000; krok(n+1)=5.859613e-004; ng(n+1)=2.918775e+001;
n=81; farx(n+1)=1.876253e+000; foe(n+1)=8.963032e+000; krok(n+1)=2.467965e-003; ng(n+1)=2.957795e+001;
n=82; farx(n+1)=1.837686e+000; foe(n+1)=8.861278e+000; krok(n+1)=3.544455e-003; ng(n+1)=1.150672e+002;
n=83; farx(n+1)=1.755698e+000; foe(n+1)=8.763748e+000; krok(n+1)=5.711090e-003; ng(n+1)=2.555155e+002;
n=84; farx(n+1)=1.746258e+000; foe(n+1)=8.661362e+000; krok(n+1)=8.516524e-003; ng(n+1)=3.962821e+002;
n=85; farx(n+1)=1.724594e+000; foe(n+1)=8.628554e+000; krok(n+1)=7.740832e-003; ng(n+1)=3.633478e+002;
n=86; farx(n+1)=1.715655e+000; foe(n+1)=8.526606e+000; krok(n+1)=4.766707e-003; ng(n+1)=3.066992e+002;
n=87; farx(n+1)=1.724161e+000; foe(n+1)=8.501303e+000; krok(n+1)=8.685477e-003; ng(n+1)=2.791896e+002;
n=88; farx(n+1)=1.766393e+000; foe(n+1)=8.405102e+000; krok(n+1)=1.125137e-001; ng(n+1)=1.932282e+002;
n=89; farx(n+1)=1.775706e+000; foe(n+1)=8.367695e+000; krok(n+1)=2.015462e-002; ng(n+1)=3.259611e+002;
n=90; farx(n+1)=1.823153e+000; foe(n+1)=8.234322e+000; krok(n+1)=2.775732e-001; ng(n+1)=2.536682e+002;
n=91; farx(n+1)=1.797573e+000; foe(n+1)=8.143836e+000; krok(n+1)=4.568872e-002; ng(n+1)=2.069708e+002;
n=92; farx(n+1)=1.779885e+000; foe(n+1)=8.041709e+000; krok(n+1)=2.456507e-001; ng(n+1)=1.238269e+002;
n=93; farx(n+1)=1.714339e+000; foe(n+1)=7.918375e+000; krok(n+1)=3.505976e-001; ng(n+1)=2.555122e+002;
n=94; farx(n+1)=1.689738e+000; foe(n+1)=7.657204e+000; krok(n+1)=6.954939e-001; ng(n+1)=2.191489e+002;
n=95; farx(n+1)=1.573796e+000; foe(n+1)=7.416451e+000; krok(n+1)=1.952188e-001; ng(n+1)=2.175276e+002;
n=96; farx(n+1)=1.462532e+000; foe(n+1)=7.250993e+000; krok(n+1)=2.454949e-001; ng(n+1)=1.788220e+002;
n=97; farx(n+1)=1.432469e+000; foe(n+1)=7.093413e+000; krok(n+1)=4.288049e-001; ng(n+1)=1.750550e+002;
n=98; farx(n+1)=1.507243e+000; foe(n+1)=6.879760e+000; krok(n+1)=3.180725e-001; ng(n+1)=3.199499e+002;
n=99; farx(n+1)=1.599067e+000; foe(n+1)=6.679925e+000; krok(n+1)=1.668612e-001; ng(n+1)=1.084578e+002;
n=100; farx(n+1)=1.672568e+000; foe(n+1)=6.568471e+000; krok(n+1)=3.381117e-001; ng(n+1)=1.553339e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
