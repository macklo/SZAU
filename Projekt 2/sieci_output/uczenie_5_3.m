%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.526093e+003; foe(n+1)=4.558402e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.870437e+003; foe(n+1)=2.821747e+003; krok(n+1)=5.033545e-004; ng(n+1)=4.012720e+003;
n=2; farx(n+1)=1.050398e+003; foe(n+1)=8.399679e+002; krok(n+1)=2.420908e-003; ng(n+1)=2.261255e+003;
n=3; farx(n+1)=1.141835e+003; foe(n+1)=5.246296e+002; krok(n+1)=2.989017e-004; ng(n+1)=4.471857e+003;
n=4; farx(n+1)=1.247309e+003; foe(n+1)=5.050261e+002; krok(n+1)=2.472310e-003; ng(n+1)=1.240052e+003;
n=5; farx(n+1)=6.693439e+002; foe(n+1)=4.340593e+002; krok(n+1)=4.419773e-003; ng(n+1)=3.907222e+002;
n=6; farx(n+1)=2.128992e+002; foe(n+1)=3.072740e+002; krok(n+1)=2.999882e-003; ng(n+1)=8.644978e+002;
n=7; farx(n+1)=2.032839e+002; foe(n+1)=3.028252e+002; krok(n+1)=4.343961e-004; ng(n+1)=6.746342e+002;
n=8; farx(n+1)=1.862008e+002; foe(n+1)=2.992386e+002; krok(n+1)=2.702490e-004; ng(n+1)=6.769254e+002;
n=9; farx(n+1)=1.845713e+002; foe(n+1)=2.970270e+002; krok(n+1)=1.424799e-003; ng(n+1)=5.799013e+002;
n=10; farx(n+1)=1.805221e+002; foe(n+1)=2.869700e+002; krok(n+1)=1.670300e-003; ng(n+1)=6.537594e+002;
n=11; farx(n+1)=1.550680e+002; foe(n+1)=2.716689e+002; krok(n+1)=7.993461e-003; ng(n+1)=8.341905e+002;
n=12; farx(n+1)=1.270408e+002; foe(n+1)=2.471860e+002; krok(n+1)=1.632192e-003; ng(n+1)=1.960657e+003;
n=13; farx(n+1)=1.088928e+002; foe(n+1)=2.391630e+002; krok(n+1)=1.830478e-003; ng(n+1)=2.395274e+003;
n=14; farx(n+1)=9.730085e+001; foe(n+1)=2.196970e+002; krok(n+1)=2.548617e-003; ng(n+1)=2.627939e+003;
n=15; farx(n+1)=9.501205e+001; foe(n+1)=2.182009e+002; krok(n+1)=2.044712e-004; ng(n+1)=2.024258e+003;
n=16; farx(n+1)=8.566805e+001; foe(n+1)=2.127950e+002; krok(n+1)=2.353374e-004; ng(n+1)=2.782497e+003;
n=17; farx(n+1)=7.045325e+001; foe(n+1)=1.991323e+002; krok(n+1)=1.605669e-003; ng(n+1)=2.570564e+003;
n=18; farx(n+1)=6.264235e+001; foe(n+1)=1.877987e+002; krok(n+1)=2.298967e-003; ng(n+1)=3.600141e+003;
n=19; farx(n+1)=3.431725e+001; foe(n+1)=1.577081e+002; krok(n+1)=4.481633e-003; ng(n+1)=3.500409e+003;
n=20; farx(n+1)=2.290342e+001; foe(n+1)=1.330947e+002; krok(n+1)=2.201622e-003; ng(n+1)=2.822656e+003;
n=21; farx(n+1)=2.252263e+001; foe(n+1)=1.282082e+002; krok(n+1)=4.526501e-004; ng(n+1)=3.904027e+003;
n=22; farx(n+1)=2.774506e+001; foe(n+1)=1.080494e+002; krok(n+1)=5.294040e-003; ng(n+1)=4.742088e+003;
n=23; farx(n+1)=3.098272e+001; foe(n+1)=1.046621e+002; krok(n+1)=3.671029e-003; ng(n+1)=2.353026e+003;
n=24; farx(n+1)=3.044480e+001; foe(n+1)=1.006401e+002; krok(n+1)=1.812955e-003; ng(n+1)=1.560130e+003;
n=25; farx(n+1)=3.053476e+001; foe(n+1)=9.054971e+001; krok(n+1)=3.500452e-002; ng(n+1)=3.745937e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=2.963641e+001; foe(n+1)=8.891588e+001; krok(n+1)=5.990602e-006; ng(n+1)=1.888212e+003;
n=27; farx(n+1)=2.318955e+001; foe(n+1)=7.651362e+001; krok(n+1)=1.070782e-004; ng(n+1)=1.195406e+003;
n=28; farx(n+1)=2.067263e+001; foe(n+1)=7.013648e+001; krok(n+1)=8.432951e-004; ng(n+1)=5.031701e+002;
n=29; farx(n+1)=2.060222e+001; foe(n+1)=6.913043e+001; krok(n+1)=8.683747e-005; ng(n+1)=2.624826e+003;
n=30; farx(n+1)=2.088200e+001; foe(n+1)=6.497619e+001; krok(n+1)=1.861026e-003; ng(n+1)=2.027264e+003;
n=31; farx(n+1)=1.926513e+001; foe(n+1)=6.014891e+001; krok(n+1)=1.387045e-003; ng(n+1)=2.518947e+003;
n=32; farx(n+1)=1.978038e+001; foe(n+1)=5.416014e+001; krok(n+1)=5.557598e-003; ng(n+1)=6.277520e+002;
n=33; farx(n+1)=1.944959e+001; foe(n+1)=5.340641e+001; krok(n+1)=4.031350e-004; ng(n+1)=1.276902e+003;
n=34; farx(n+1)=1.667937e+001; foe(n+1)=4.621542e+001; krok(n+1)=1.165911e-002; ng(n+1)=1.820916e+003;
n=35; farx(n+1)=1.291996e+001; foe(n+1)=4.211445e+001; krok(n+1)=4.419773e-003; ng(n+1)=1.216288e+003;
n=36; farx(n+1)=1.202931e+001; foe(n+1)=3.983131e+001; krok(n+1)=2.437335e-003; ng(n+1)=6.606476e+002;
n=37; farx(n+1)=1.148312e+001; foe(n+1)=3.906637e+001; krok(n+1)=1.260746e-003; ng(n+1)=8.689498e+002;
n=38; farx(n+1)=1.084157e+001; foe(n+1)=3.725489e+001; krok(n+1)=1.995393e-003; ng(n+1)=1.360951e+003;
n=39; farx(n+1)=1.012385e+001; foe(n+1)=3.528267e+001; krok(n+1)=6.650130e-004; ng(n+1)=1.329872e+003;
n=40; farx(n+1)=9.559083e+000; foe(n+1)=3.282697e+001; krok(n+1)=3.262529e-003; ng(n+1)=7.764433e+002;
n=41; farx(n+1)=8.671346e+000; foe(n+1)=3.140161e+001; krok(n+1)=1.481850e-002; ng(n+1)=8.258893e+002;
n=42; farx(n+1)=7.368471e+000; foe(n+1)=2.958729e+001; krok(n+1)=7.825027e-003; ng(n+1)=1.378046e+003;
n=43; farx(n+1)=6.528741e+000; foe(n+1)=2.770763e+001; krok(n+1)=2.439969e-002; ng(n+1)=1.751572e+003;
n=44; farx(n+1)=6.170581e+000; foe(n+1)=2.376319e+001; krok(n+1)=2.977641e-002; ng(n+1)=8.806945e+002;
n=45; farx(n+1)=5.184351e+000; foe(n+1)=1.890197e+001; krok(n+1)=3.854743e-002; ng(n+1)=4.876178e+002;
n=46; farx(n+1)=5.106183e+000; foe(n+1)=1.789438e+001; krok(n+1)=6.764823e-003; ng(n+1)=1.180240e+003;
n=47; farx(n+1)=5.058087e+000; foe(n+1)=1.481027e+001; krok(n+1)=8.035594e-002; ng(n+1)=7.863841e+002;
n=48; farx(n+1)=4.779521e+000; foe(n+1)=1.372268e+001; krok(n+1)=5.753341e-002; ng(n+1)=2.865279e+002;
n=49; farx(n+1)=4.539951e+000; foe(n+1)=1.232136e+001; krok(n+1)=1.452529e-001; ng(n+1)=9.914618e+002;
n=50; farx(n+1)=3.917222e+000; foe(n+1)=1.140074e+001; krok(n+1)=7.165516e-002; ng(n+1)=5.837953e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.874938e+000; foe(n+1)=1.116223e+001; krok(n+1)=6.370154e-006; ng(n+1)=8.061309e+002;
n=52; farx(n+1)=3.854316e+000; foe(n+1)=1.103583e+001; krok(n+1)=6.756687e-005; ng(n+1)=1.720660e+002;
n=53; farx(n+1)=3.818454e+000; foe(n+1)=1.084784e+001; krok(n+1)=1.032442e-004; ng(n+1)=1.538228e+002;
n=54; farx(n+1)=3.740755e+000; foe(n+1)=1.065927e+001; krok(n+1)=8.414879e-005; ng(n+1)=2.017125e+002;
n=55; farx(n+1)=3.662319e+000; foe(n+1)=9.746509e+000; krok(n+1)=2.885366e-003; ng(n+1)=7.853954e+001;
n=56; farx(n+1)=3.525689e+000; foe(n+1)=9.267215e+000; krok(n+1)=3.032635e-003; ng(n+1)=6.106512e+002;
n=57; farx(n+1)=3.427947e+000; foe(n+1)=8.947023e+000; krok(n+1)=2.339183e-003; ng(n+1)=9.032109e+002;
n=58; farx(n+1)=3.241840e+000; foe(n+1)=8.422282e+000; krok(n+1)=4.762275e-003; ng(n+1)=1.335059e+003;
n=59; farx(n+1)=3.209396e+000; foe(n+1)=8.250898e+000; krok(n+1)=2.123614e-003; ng(n+1)=1.100493e+003;
n=60; farx(n+1)=2.980298e+000; foe(n+1)=7.778961e+000; krok(n+1)=1.785641e-002; ng(n+1)=6.634716e+002;
n=61; farx(n+1)=2.893586e+000; foe(n+1)=7.515559e+000; krok(n+1)=7.251821e-003; ng(n+1)=5.177479e+002;
n=62; farx(n+1)=2.790776e+000; foe(n+1)=6.939906e+000; krok(n+1)=2.194150e-002; ng(n+1)=3.369969e+002;
n=63; farx(n+1)=2.731071e+000; foe(n+1)=6.335303e+000; krok(n+1)=1.223774e-002; ng(n+1)=3.531253e+002;
n=64; farx(n+1)=2.692820e+000; foe(n+1)=6.133223e+000; krok(n+1)=4.464645e-003; ng(n+1)=2.454383e+002;
n=65; farx(n+1)=2.743484e+000; foe(n+1)=5.753257e+000; krok(n+1)=7.453689e-002; ng(n+1)=2.737835e+002;
n=66; farx(n+1)=2.756008e+000; foe(n+1)=5.628105e+000; krok(n+1)=5.055608e-002; ng(n+1)=1.243886e+002;
n=67; farx(n+1)=2.785567e+000; foe(n+1)=5.540350e+000; krok(n+1)=3.929724e-002; ng(n+1)=1.131981e+002;
n=68; farx(n+1)=2.851829e+000; foe(n+1)=5.289558e+000; krok(n+1)=1.998171e-001; ng(n+1)=1.423865e+002;
n=69; farx(n+1)=2.866640e+000; foe(n+1)=4.929145e+000; krok(n+1)=1.414327e-001; ng(n+1)=1.392053e+002;
n=70; farx(n+1)=2.834452e+000; foe(n+1)=4.870735e+000; krok(n+1)=1.423591e-002; ng(n+1)=2.619804e+002;
n=71; farx(n+1)=2.736783e+000; foe(n+1)=4.582157e+000; krok(n+1)=2.442288e-001; ng(n+1)=2.925666e+002;
n=72; farx(n+1)=2.644528e+000; foe(n+1)=4.211358e+000; krok(n+1)=4.635137e-001; ng(n+1)=3.397254e+002;
n=73; farx(n+1)=2.484701e+000; foe(n+1)=3.959134e+000; krok(n+1)=5.918768e-001; ng(n+1)=2.206415e+002;
n=74; farx(n+1)=2.395722e+000; foe(n+1)=3.722495e+000; krok(n+1)=2.085241e-001; ng(n+1)=2.807038e+002;
n=75; farx(n+1)=2.355355e+000; foe(n+1)=3.649166e+000; krok(n+1)=2.667694e-002; ng(n+1)=2.143138e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.342675e+000; foe(n+1)=3.594538e+000; krok(n+1)=8.229150e-006; ng(n+1)=3.410880e+002;
n=77; farx(n+1)=2.341548e+000; foe(n+1)=3.575410e+000; krok(n+1)=3.955346e-005; ng(n+1)=7.818563e+001;
n=78; farx(n+1)=2.345233e+000; foe(n+1)=3.559401e+000; krok(n+1)=8.799071e-005; ng(n+1)=4.997000e+001;
n=79; farx(n+1)=2.344031e+000; foe(n+1)=3.534861e+000; krok(n+1)=2.674427e-004; ng(n+1)=3.842023e+001;
n=80; farx(n+1)=2.342029e+000; foe(n+1)=3.525800e+000; krok(n+1)=1.621288e-003; ng(n+1)=1.004760e+001;
n=81; farx(n+1)=2.346644e+000; foe(n+1)=3.508207e+000; krok(n+1)=1.529718e-003; ng(n+1)=1.358013e+001;
n=82; farx(n+1)=2.314091e+000; foe(n+1)=3.479187e+000; krok(n+1)=1.428969e-002; ng(n+1)=1.285754e+001;
n=83; farx(n+1)=2.316269e+000; foe(n+1)=3.452553e+000; krok(n+1)=1.596002e-002; ng(n+1)=6.336539e+001;
n=84; farx(n+1)=2.263348e+000; foe(n+1)=3.415543e+000; krok(n+1)=3.519888e-002; ng(n+1)=6.206996e+001;
n=85; farx(n+1)=2.188517e+000; foe(n+1)=3.394275e+000; krok(n+1)=1.251384e-002; ng(n+1)=1.409139e+002;
n=86; farx(n+1)=2.108656e+000; foe(n+1)=3.361892e+000; krok(n+1)=2.223039e-002; ng(n+1)=1.339488e+002;
n=87; farx(n+1)=1.933732e+000; foe(n+1)=3.269099e+000; krok(n+1)=1.057221e-001; ng(n+1)=1.893316e+002;
n=88; farx(n+1)=1.892093e+000; foe(n+1)=3.220190e+000; krok(n+1)=2.440235e-002; ng(n+1)=1.646039e+002;
n=89; farx(n+1)=1.868091e+000; foe(n+1)=3.154022e+000; krok(n+1)=4.109961e-002; ng(n+1)=2.570766e+002;
n=90; farx(n+1)=1.778762e+000; foe(n+1)=3.007277e+000; krok(n+1)=4.312599e-002; ng(n+1)=4.994844e+002;
n=91; farx(n+1)=1.763715e+000; foe(n+1)=2.925155e+000; krok(n+1)=3.571281e-002; ng(n+1)=3.461656e+002;
n=92; farx(n+1)=1.723046e+000; foe(n+1)=2.879794e+000; krok(n+1)=4.134280e-002; ng(n+1)=2.109778e+002;
n=93; farx(n+1)=1.666188e+000; foe(n+1)=2.783205e+000; krok(n+1)=1.515816e-001; ng(n+1)=6.905217e+001;
n=94; farx(n+1)=1.617070e+000; foe(n+1)=2.712289e+000; krok(n+1)=1.191056e-001; ng(n+1)=1.611794e+002;
n=95; farx(n+1)=1.564924e+000; foe(n+1)=2.607159e+000; krok(n+1)=1.252004e-001; ng(n+1)=1.748657e+002;
n=96; farx(n+1)=1.514959e+000; foe(n+1)=2.531991e+000; krok(n+1)=1.124683e-001; ng(n+1)=1.711008e+002;
n=97; farx(n+1)=1.455737e+000; foe(n+1)=2.428343e+000; krok(n+1)=2.134155e-001; ng(n+1)=2.922597e+002;
n=98; farx(n+1)=1.403153e+000; foe(n+1)=2.342869e+000; krok(n+1)=1.573255e-001; ng(n+1)=2.217693e+002;
n=99; farx(n+1)=1.425562e+000; foe(n+1)=2.183765e+000; krok(n+1)=5.596492e-001; ng(n+1)=2.140424e+002;
n=100; farx(n+1)=1.405694e+000; foe(n+1)=2.044764e+000; krok(n+1)=2.821404e-001; ng(n+1)=1.992308e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
