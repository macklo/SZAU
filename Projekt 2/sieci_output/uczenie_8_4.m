%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.727514e+003; foe(n+1)=4.846120e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.807602e+003; foe(n+1)=3.849575e+003; krok(n+1)=3.375449e-004; ng(n+1)=4.313540e+003;
n=2; farx(n+1)=7.824254e+002; foe(n+1)=8.661032e+002; krok(n+1)=2.973498e-003; ng(n+1)=1.992003e+003;
n=3; farx(n+1)=8.343125e+002; foe(n+1)=7.841337e+002; krok(n+1)=1.351245e-004; ng(n+1)=3.312559e+003;
n=4; farx(n+1)=9.370218e+002; foe(n+1)=7.355675e+002; krok(n+1)=9.053002e-004; ng(n+1)=2.481307e+003;
n=5; farx(n+1)=6.008915e+002; foe(n+1)=5.886989e+002; krok(n+1)=1.184603e-003; ng(n+1)=1.563478e+003;
n=6; farx(n+1)=2.582361e+002; foe(n+1)=4.117891e+002; krok(n+1)=1.081070e-003; ng(n+1)=4.130732e+003;
n=7; farx(n+1)=2.062965e+002; foe(n+1)=3.869798e+002; krok(n+1)=2.084136e-004; ng(n+1)=3.409310e+003;
n=8; farx(n+1)=1.995200e+002; foe(n+1)=3.707551e+002; krok(n+1)=1.265228e-003; ng(n+1)=2.981708e+003;
n=9; farx(n+1)=1.979773e+002; foe(n+1)=3.512177e+002; krok(n+1)=1.909306e-003; ng(n+1)=1.360624e+003;
n=10; farx(n+1)=1.843566e+002; foe(n+1)=3.384474e+002; krok(n+1)=1.835515e-003; ng(n+1)=7.272511e+002;
n=11; farx(n+1)=1.718302e+002; foe(n+1)=3.350709e+002; krok(n+1)=9.915259e-004; ng(n+1)=7.552797e+002;
n=12; farx(n+1)=1.078672e+002; foe(n+1)=3.067284e+002; krok(n+1)=9.352282e-004; ng(n+1)=1.239569e+003;
n=13; farx(n+1)=6.998987e+001; foe(n+1)=2.595757e+002; krok(n+1)=4.015818e-004; ng(n+1)=6.063941e+003;
n=14; farx(n+1)=6.629737e+001; foe(n+1)=2.442580e+002; krok(n+1)=6.404268e-004; ng(n+1)=3.591945e+003;
n=15; farx(n+1)=9.473856e+001; foe(n+1)=2.347174e+002; krok(n+1)=6.946998e-004; ng(n+1)=6.912973e+003;
n=16; farx(n+1)=1.708749e+002; foe(n+1)=1.781634e+002; krok(n+1)=2.707062e-003; ng(n+1)=5.997003e+003;
n=17; farx(n+1)=1.816223e+002; foe(n+1)=1.733841e+002; krok(n+1)=1.999410e-004; ng(n+1)=2.507500e+003;
n=18; farx(n+1)=1.908763e+002; foe(n+1)=1.675301e+002; krok(n+1)=5.704577e-004; ng(n+1)=2.374239e+003;
n=19; farx(n+1)=1.486196e+002; foe(n+1)=1.372234e+002; krok(n+1)=1.501192e-002; ng(n+1)=2.390783e+003;
n=20; farx(n+1)=9.452664e+001; foe(n+1)=1.078846e+002; krok(n+1)=8.259539e-004; ng(n+1)=4.079974e+003;
n=21; farx(n+1)=5.822604e+001; foe(n+1)=9.811881e+001; krok(n+1)=1.284363e-003; ng(n+1)=1.177005e+003;
n=22; farx(n+1)=4.703210e+001; foe(n+1)=9.345744e+001; krok(n+1)=7.648589e-004; ng(n+1)=1.325915e+003;
n=23; farx(n+1)=3.544924e+001; foe(n+1)=8.576600e+001; krok(n+1)=1.441974e-003; ng(n+1)=2.231410e+003;
n=24; farx(n+1)=2.683885e+001; foe(n+1)=7.302660e+001; krok(n+1)=1.213054e-002; ng(n+1)=1.569532e+003;
n=25; farx(n+1)=2.545123e+001; foe(n+1)=6.062251e+001; krok(n+1)=3.660956e-003; ng(n+1)=1.662220e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.889875e+001; foe(n+1)=4.803643e+001; krok(n+1)=3.584012e-005; ng(n+1)=2.123940e+003;
n=27; farx(n+1)=1.870971e+001; foe(n+1)=4.493401e+001; krok(n+1)=1.115447e-005; ng(n+1)=2.477198e+003;
n=28; farx(n+1)=1.823984e+001; foe(n+1)=4.357019e+001; krok(n+1)=9.371042e-005; ng(n+1)=5.641986e+002;
n=29; farx(n+1)=1.696190e+001; foe(n+1)=3.905333e+001; krok(n+1)=2.463545e-004; ng(n+1)=5.881272e+002;
n=30; farx(n+1)=1.426093e+001; foe(n+1)=3.281794e+001; krok(n+1)=1.227122e-003; ng(n+1)=4.181106e+002;
n=31; farx(n+1)=1.291348e+001; foe(n+1)=2.888980e+001; krok(n+1)=2.287557e-003; ng(n+1)=1.842344e+003;
n=32; farx(n+1)=1.215647e+001; foe(n+1)=2.639340e+001; krok(n+1)=2.957764e-003; ng(n+1)=6.603287e+002;
n=33; farx(n+1)=1.096112e+001; foe(n+1)=2.419466e+001; krok(n+1)=1.597633e-003; ng(n+1)=9.042028e+002;
n=34; farx(n+1)=9.552025e+000; foe(n+1)=2.167338e+001; krok(n+1)=4.508154e-003; ng(n+1)=5.807499e+002;
n=35; farx(n+1)=8.718194e+000; foe(n+1)=1.965101e+001; krok(n+1)=4.964322e-003; ng(n+1)=6.722400e+002;
n=36; farx(n+1)=8.432431e+000; foe(n+1)=1.911282e+001; krok(n+1)=5.704577e-004; ng(n+1)=1.146815e+003;
n=37; farx(n+1)=8.288514e+000; foe(n+1)=1.873418e+001; krok(n+1)=1.166078e-003; ng(n+1)=5.925240e+002;
n=38; farx(n+1)=7.676805e+000; foe(n+1)=1.702843e+001; krok(n+1)=2.929274e-003; ng(n+1)=7.160164e+002;
n=39; farx(n+1)=6.724669e+000; foe(n+1)=1.577769e+001; krok(n+1)=8.948804e-003; ng(n+1)=6.985874e+002;
n=40; farx(n+1)=6.414239e+000; foe(n+1)=1.500925e+001; krok(n+1)=5.119766e-003; ng(n+1)=9.140554e+002;
n=41; farx(n+1)=5.921998e+000; foe(n+1)=1.384612e+001; krok(n+1)=5.062842e-003; ng(n+1)=7.041847e+002;
n=42; farx(n+1)=5.863394e+000; foe(n+1)=1.344564e+001; krok(n+1)=2.156451e-003; ng(n+1)=5.974767e+002;
n=43; farx(n+1)=5.638837e+000; foe(n+1)=1.262324e+001; krok(n+1)=2.219272e-002; ng(n+1)=3.412938e+002;
n=44; farx(n+1)=5.557764e+000; foe(n+1)=1.237378e+001; krok(n+1)=4.974973e-003; ng(n+1)=4.140438e+002;
n=45; farx(n+1)=5.349616e+000; foe(n+1)=1.215007e+001; krok(n+1)=1.021537e-002; ng(n+1)=3.087095e+002;
n=46; farx(n+1)=4.581896e+000; foe(n+1)=1.103848e+001; krok(n+1)=3.459424e-002; ng(n+1)=3.829828e+002;
n=47; farx(n+1)=4.239026e+000; foe(n+1)=1.045146e+001; krok(n+1)=4.134280e-002; ng(n+1)=4.865592e+002;
n=48; farx(n+1)=3.887388e+000; foe(n+1)=9.918205e+000; krok(n+1)=5.851700e-002; ng(n+1)=4.388846e+002;
n=49; farx(n+1)=3.531688e+000; foe(n+1)=9.487123e+000; krok(n+1)=5.625683e-002; ng(n+1)=4.597980e+002;
n=50; farx(n+1)=3.312922e+000; foe(n+1)=9.005142e+000; krok(n+1)=2.698544e-002; ng(n+1)=3.131154e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.267536e+000; foe(n+1)=8.719212e+000; krok(n+1)=3.048993e-005; ng(n+1)=3.133037e+002;
n=52; farx(n+1)=3.268902e+000; foe(n+1)=8.698916e+000; krok(n+1)=1.611741e-005; ng(n+1)=1.471581e+002;
n=53; farx(n+1)=3.262875e+000; foe(n+1)=8.523462e+000; krok(n+1)=2.976422e-004; ng(n+1)=9.480490e+001;
n=54; farx(n+1)=3.249537e+000; foe(n+1)=8.476475e+000; krok(n+1)=3.268967e-005; ng(n+1)=1.444476e+002;
n=55; farx(n+1)=3.268450e+000; foe(n+1)=8.363453e+000; krok(n+1)=4.011567e-003; ng(n+1)=2.653069e+001;
n=56; farx(n+1)=3.300369e+000; foe(n+1)=8.240345e+000; krok(n+1)=1.085320e-003; ng(n+1)=4.455448e+001;
n=57; farx(n+1)=3.241673e+000; foe(n+1)=8.136149e+000; krok(n+1)=4.743099e-003; ng(n+1)=1.179423e+002;
n=58; farx(n+1)=3.178764e+000; foe(n+1)=7.991802e+000; krok(n+1)=1.040137e-002; ng(n+1)=2.569662e+002;
n=59; farx(n+1)=3.058523e+000; foe(n+1)=7.860199e+000; krok(n+1)=9.335866e-003; ng(n+1)=2.395711e+002;
n=60; farx(n+1)=2.839341e+000; foe(n+1)=7.575545e+000; krok(n+1)=4.150488e-003; ng(n+1)=5.081072e+002;
n=61; farx(n+1)=2.704189e+000; foe(n+1)=7.228877e+000; krok(n+1)=6.480489e-003; ng(n+1)=7.601315e+002;
n=62; farx(n+1)=2.628102e+000; foe(n+1)=7.056551e+000; krok(n+1)=5.173682e-003; ng(n+1)=2.215742e+002;
n=63; farx(n+1)=2.507146e+000; foe(n+1)=6.892833e+000; krok(n+1)=5.699196e-003; ng(n+1)=2.951308e+002;
n=64; farx(n+1)=2.454637e+000; foe(n+1)=6.796352e+000; krok(n+1)=3.568597e-003; ng(n+1)=2.700830e+002;
n=65; farx(n+1)=2.379478e+000; foe(n+1)=6.648230e+000; krok(n+1)=1.863402e-002; ng(n+1)=2.169774e+002;
n=66; farx(n+1)=2.274235e+000; foe(n+1)=6.485286e+000; krok(n+1)=1.308935e-002; ng(n+1)=2.347838e+002;
n=67; farx(n+1)=1.950894e+000; foe(n+1)=5.761545e+000; krok(n+1)=9.464413e-002; ng(n+1)=4.176136e+002;
n=68; farx(n+1)=1.839595e+000; foe(n+1)=5.452112e+000; krok(n+1)=2.667694e-002; ng(n+1)=5.548923e+002;
n=69; farx(n+1)=1.800602e+000; foe(n+1)=5.296167e+000; krok(n+1)=1.321526e-002; ng(n+1)=3.060304e+002;
n=70; farx(n+1)=1.794039e+000; foe(n+1)=5.109939e+000; krok(n+1)=1.429000e-002; ng(n+1)=5.489658e+002;
n=71; farx(n+1)=1.804336e+000; foe(n+1)=4.842825e+000; krok(n+1)=2.362755e-002; ng(n+1)=5.433011e+002;
n=72; farx(n+1)=1.722421e+000; foe(n+1)=4.278866e+000; krok(n+1)=4.523999e-002; ng(n+1)=5.397613e+002;
n=73; farx(n+1)=1.712042e+000; foe(n+1)=4.126935e+000; krok(n+1)=4.828142e-002; ng(n+1)=7.098379e+002;
n=74; farx(n+1)=1.682607e+000; foe(n+1)=4.004358e+000; krok(n+1)=2.762153e-002; ng(n+1)=3.851668e+002;
n=75; farx(n+1)=1.183157e+000; foe(n+1)=3.447324e+000; krok(n+1)=1.525346e-001; ng(n+1)=5.093211e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.179676e+000; foe(n+1)=3.438349e+000; krok(n+1)=6.232633e-006; ng(n+1)=1.533917e+002;
n=77; farx(n+1)=1.178590e+000; foe(n+1)=3.428389e+000; krok(n+1)=9.346411e-005; ng(n+1)=4.816958e+001;
n=78; farx(n+1)=1.165392e+000; foe(n+1)=3.350453e+000; krok(n+1)=1.168734e-004; ng(n+1)=1.097811e+002;
n=79; farx(n+1)=1.154451e+000; foe(n+1)=3.322292e+000; krok(n+1)=1.906434e-004; ng(n+1)=5.421586e+001;
n=80; farx(n+1)=1.149952e+000; foe(n+1)=3.274889e+000; krok(n+1)=9.144347e-005; ng(n+1)=9.630474e+001;
n=81; farx(n+1)=1.147327e+000; foe(n+1)=3.238288e+000; krok(n+1)=6.791933e-004; ng(n+1)=3.423947e+001;
n=82; farx(n+1)=1.149954e+000; foe(n+1)=3.089487e+000; krok(n+1)=9.030211e-003; ng(n+1)=2.212107e+001;
n=83; farx(n+1)=1.153907e+000; foe(n+1)=3.013964e+000; krok(n+1)=5.478088e-003; ng(n+1)=2.809455e+002;
n=84; farx(n+1)=1.125507e+000; foe(n+1)=2.913743e+000; krok(n+1)=1.893212e-002; ng(n+1)=4.694603e+002;
n=85; farx(n+1)=1.066696e+000; foe(n+1)=2.724056e+000; krok(n+1)=3.300845e-002; ng(n+1)=4.272789e+002;
n=86; farx(n+1)=1.059498e+000; foe(n+1)=2.676725e+000; krok(n+1)=2.488900e-003; ng(n+1)=4.008840e+002;
n=87; farx(n+1)=1.080373e+000; foe(n+1)=2.647462e+000; krok(n+1)=4.853566e-003; ng(n+1)=2.543555e+002;
n=88; farx(n+1)=1.141951e+000; foe(n+1)=2.541530e+000; krok(n+1)=1.748904e-002; ng(n+1)=2.859726e+002;
n=89; farx(n+1)=1.134962e+000; foe(n+1)=2.484235e+000; krok(n+1)=1.042882e-002; ng(n+1)=2.369231e+002;
n=90; farx(n+1)=1.134913e+000; foe(n+1)=2.445230e+000; krok(n+1)=1.199493e-002; ng(n+1)=1.994553e+002;
n=91; farx(n+1)=1.103428e+000; foe(n+1)=2.380347e+000; krok(n+1)=2.142359e-002; ng(n+1)=1.163757e+002;
n=92; farx(n+1)=9.988705e-001; foe(n+1)=2.295577e+000; krok(n+1)=3.542231e-002; ng(n+1)=1.790277e+002;
n=93; farx(n+1)=9.501238e-001; foe(n+1)=2.233453e+000; krok(n+1)=3.663180e-002; ng(n+1)=2.640977e+002;
n=94; farx(n+1)=8.747914e-001; foe(n+1)=2.156739e+000; krok(n+1)=1.767909e-002; ng(n+1)=4.407884e+002;
n=95; farx(n+1)=8.155344e-001; foe(n+1)=2.061697e+000; krok(n+1)=4.030924e-002; ng(n+1)=3.235425e+002;
n=96; farx(n+1)=7.919520e-001; foe(n+1)=2.014488e+000; krok(n+1)=2.513448e-002; ng(n+1)=2.009509e+002;
n=97; farx(n+1)=7.759469e-001; foe(n+1)=1.983618e+000; krok(n+1)=1.548285e-002; ng(n+1)=4.662704e+002;
n=98; farx(n+1)=6.947892e-001; foe(n+1)=1.870946e+000; krok(n+1)=7.853583e-002; ng(n+1)=4.463964e+002;
n=99; farx(n+1)=6.613530e-001; foe(n+1)=1.803584e+000; krok(n+1)=6.240867e-002; ng(n+1)=3.269602e+002;
n=100; farx(n+1)=6.404966e-001; foe(n+1)=1.710817e+000; krok(n+1)=4.828142e-002; ng(n+1)=1.700856e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
