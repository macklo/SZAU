%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.002277e+003; foe(n+1)=4.007771e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.935712e+003; foe(n+1)=2.941429e+003; krok(n+1)=5.100741e-004; ng(n+1)=2.237459e+003;
n=2; farx(n+1)=9.960402e+002; foe(n+1)=8.767197e+002; krok(n+1)=3.881663e-003; ng(n+1)=1.170310e+003;
n=3; farx(n+1)=1.041375e+003; foe(n+1)=6.855687e+002; krok(n+1)=1.830796e-004; ng(n+1)=3.637270e+003;
n=4; farx(n+1)=1.646286e+003; foe(n+1)=5.641273e+002; krok(n+1)=2.304922e-003; ng(n+1)=3.446711e+003;
n=5; farx(n+1)=1.518924e+003; foe(n+1)=5.267505e+002; krok(n+1)=6.822948e-003; ng(n+1)=7.211696e+002;
n=6; farx(n+1)=1.146184e+003; foe(n+1)=4.989804e+002; krok(n+1)=2.426783e-003; ng(n+1)=7.428936e+002;
n=7; farx(n+1)=1.121046e+003; foe(n+1)=4.746199e+002; krok(n+1)=2.513970e-003; ng(n+1)=9.716489e+002;
n=8; farx(n+1)=1.024547e+003; foe(n+1)=4.569510e+002; krok(n+1)=1.708348e-002; ng(n+1)=1.250290e+003;
n=9; farx(n+1)=8.693421e+002; foe(n+1)=4.132320e+002; krok(n+1)=1.135981e-001; ng(n+1)=1.230675e+003;
n=10; farx(n+1)=8.689832e+002; foe(n+1)=3.875604e+002; krok(n+1)=9.249673e-003; ng(n+1)=8.361547e+002;
n=11; farx(n+1)=2.356484e+002; foe(n+1)=3.029485e+002; krok(n+1)=6.762233e-001; ng(n+1)=7.254071e+002;
n=12; farx(n+1)=1.899746e+002; foe(n+1)=2.920240e+002; krok(n+1)=7.478469e-002; ng(n+1)=5.890450e+002;
n=13; farx(n+1)=1.606229e+002; foe(n+1)=2.869013e+002; krok(n+1)=3.181657e-002; ng(n+1)=1.316098e+003;
n=14; farx(n+1)=1.590486e+002; foe(n+1)=2.795651e+002; krok(n+1)=2.398987e-002; ng(n+1)=1.898131e+003;
n=15; farx(n+1)=1.076095e+002; foe(n+1)=2.375943e+002; krok(n+1)=5.596492e-001; ng(n+1)=2.027015e+003;
n=16; farx(n+1)=8.300418e+001; foe(n+1)=2.079222e+002; krok(n+1)=1.981883e-001; ng(n+1)=2.628770e+003;
n=17; farx(n+1)=6.702454e+001; foe(n+1)=2.026149e+002; krok(n+1)=5.671128e-002; ng(n+1)=6.899563e+002;
n=18; farx(n+1)=3.412443e+001; foe(n+1)=1.314617e+002; krok(n+1)=4.500546e-001; ng(n+1)=1.183512e+003;
n=19; farx(n+1)=3.227286e+001; foe(n+1)=1.035595e+002; krok(n+1)=1.702433e-001; ng(n+1)=1.530375e+003;
n=20; farx(n+1)=3.563663e+001; foe(n+1)=7.927836e+001; krok(n+1)=6.601690e-002; ng(n+1)=3.514366e+003;
n=21; farx(n+1)=3.342181e+001; foe(n+1)=7.091047e+001; krok(n+1)=3.655097e-001; ng(n+1)=7.931015e+002;
n=22; farx(n+1)=2.989355e+001; foe(n+1)=6.101340e+001; krok(n+1)=5.945315e-001; ng(n+1)=9.606871e+002;
n=23; farx(n+1)=2.656543e+001; foe(n+1)=5.562633e+001; krok(n+1)=7.763546e-001; ng(n+1)=8.274860e+002;
n=24; farx(n+1)=2.052344e+001; foe(n+1)=4.845323e+001; krok(n+1)=1.371110e+000; ng(n+1)=4.318751e+002;
n=25; farx(n+1)=1.442278e+001; foe(n+1)=4.455439e+001; krok(n+1)=2.112649e+000; ng(n+1)=2.540476e+002;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.465041e+001; foe(n+1)=4.330197e+001; krok(n+1)=5.269152e-006; ng(n+1)=1.291608e+003;
n=27; farx(n+1)=1.497991e+001; foe(n+1)=4.082698e+001; krok(n+1)=7.708198e-005; ng(n+1)=4.657007e+002;
n=28; farx(n+1)=1.435857e+001; foe(n+1)=4.046625e+001; krok(n+1)=3.505202e-004; ng(n+1)=9.802356e+001;
n=29; farx(n+1)=1.329432e+001; foe(n+1)=4.004103e+001; krok(n+1)=3.949694e-004; ng(n+1)=1.843505e+002;
n=30; farx(n+1)=1.159827e+001; foe(n+1)=3.736200e+001; krok(n+1)=5.478088e-003; ng(n+1)=1.212313e+002;
n=31; farx(n+1)=1.106201e+001; foe(n+1)=3.601902e+001; krok(n+1)=9.824309e-003; ng(n+1)=7.257343e+002;
n=32; farx(n+1)=9.052307e+000; foe(n+1)=3.371870e+001; krok(n+1)=6.324208e-003; ng(n+1)=6.127867e+002;
n=33; farx(n+1)=9.239744e+000; foe(n+1)=3.337444e+001; krok(n+1)=1.054870e-002; ng(n+1)=9.390261e+002;
n=34; farx(n+1)=9.588159e+000; foe(n+1)=3.160374e+001; krok(n+1)=8.569436e-002; ng(n+1)=5.953097e+002;
n=35; farx(n+1)=8.798115e+000; foe(n+1)=3.033824e+001; krok(n+1)=4.602673e-001; ng(n+1)=4.089722e+002;
n=36; farx(n+1)=1.011265e+001; foe(n+1)=2.886900e+001; krok(n+1)=6.639102e-001; ng(n+1)=6.135069e+002;
n=37; farx(n+1)=1.041525e+001; foe(n+1)=2.850948e+001; krok(n+1)=2.301336e-001; ng(n+1)=3.232310e+002;
n=38; farx(n+1)=9.194943e+000; foe(n+1)=2.723754e+001; krok(n+1)=1.390988e+000; ng(n+1)=1.691122e+002;
n=39; farx(n+1)=9.117344e+000; foe(n+1)=2.659245e+001; krok(n+1)=6.954939e-001; ng(n+1)=1.828549e+002;
n=40; farx(n+1)=9.508324e+000; foe(n+1)=2.621987e+001; krok(n+1)=6.622313e-001; ng(n+1)=3.250658e+002;
n=41; farx(n+1)=8.888653e+000; foe(n+1)=2.565768e+001; krok(n+1)=1.927884e+000; ng(n+1)=1.864738e+002;
n=42; farx(n+1)=7.712307e+000; foe(n+1)=2.495808e+001; krok(n+1)=2.112541e+000; ng(n+1)=8.955850e+001;
n=43; farx(n+1)=6.887132e+000; foe(n+1)=2.416120e+001; krok(n+1)=1.722419e+000; ng(n+1)=1.335610e+002;
n=44; farx(n+1)=6.475487e+000; foe(n+1)=2.359478e+001; krok(n+1)=9.282331e-001; ng(n+1)=1.085249e+002;
n=45; farx(n+1)=6.612883e+000; foe(n+1)=2.287565e+001; krok(n+1)=6.428475e-001; ng(n+1)=1.271611e+002;
n=46; farx(n+1)=6.285414e+000; foe(n+1)=2.270155e+001; krok(n+1)=2.440422e-001; ng(n+1)=2.108223e+002;
n=47; farx(n+1)=6.089677e+000; foe(n+1)=2.255698e+001; krok(n+1)=3.706964e-001; ng(n+1)=1.900455e+002;
n=48; farx(n+1)=5.993149e+000; foe(n+1)=2.240041e+001; krok(n+1)=6.428250e-001; ng(n+1)=1.382813e+002;
n=49; farx(n+1)=5.738746e+000; foe(n+1)=2.217111e+001; krok(n+1)=8.426513e-001; ng(n+1)=6.522516e+001;
n=50; farx(n+1)=5.724132e+000; foe(n+1)=2.206164e+001; krok(n+1)=1.331649e+000; ng(n+1)=9.464403e+001;
%odnowa zmiennej metryki
n=51; farx(n+1)=5.718518e+000; foe(n+1)=2.205457e+001; krok(n+1)=6.733170e-006; ng(n+1)=8.106163e+001;
n=52; farx(n+1)=5.691481e+000; foe(n+1)=2.203241e+001; krok(n+1)=1.290553e-005; ng(n+1)=9.138474e+001;
n=53; farx(n+1)=5.669541e+000; foe(n+1)=2.201833e+001; krok(n+1)=1.784716e-004; ng(n+1)=2.229915e+001;
n=54; farx(n+1)=5.564725e+000; foe(n+1)=2.199879e+001; krok(n+1)=2.952315e-004; ng(n+1)=1.890099e+001;
n=55; farx(n+1)=5.464603e+000; foe(n+1)=2.196213e+001; krok(n+1)=2.394037e-003; ng(n+1)=1.457100e+001;
n=56; farx(n+1)=5.260784e+000; foe(n+1)=2.186445e+001; krok(n+1)=3.172883e-002; ng(n+1)=7.673215e+000;
n=57; farx(n+1)=5.164262e+000; foe(n+1)=2.184482e+001; krok(n+1)=6.144187e-002; ng(n+1)=1.310194e+002;
n=58; farx(n+1)=5.097938e+000; foe(n+1)=2.182580e+001; krok(n+1)=1.027628e-001; ng(n+1)=9.224623e+001;
n=59; farx(n+1)=5.133117e+000; foe(n+1)=2.181914e+001; krok(n+1)=5.026897e-002; ng(n+1)=8.857542e+001;
n=60; farx(n+1)=5.017151e+000; foe(n+1)=2.177221e+001; krok(n+1)=8.970072e-001; ng(n+1)=6.623198e+001;
n=61; farx(n+1)=4.868665e+000; foe(n+1)=2.173018e+001; krok(n+1)=6.677458e-002; ng(n+1)=1.288232e+002;
n=62; farx(n+1)=4.676284e+000; foe(n+1)=2.168653e+001; krok(n+1)=5.226535e-001; ng(n+1)=3.044059e+001;
n=63; farx(n+1)=4.567511e+000; foe(n+1)=2.166170e+001; krok(n+1)=6.710813e-001; ng(n+1)=5.006937e+001;
n=64; farx(n+1)=4.520379e+000; foe(n+1)=2.162283e+001; krok(n+1)=1.153327e+000; ng(n+1)=1.546418e+002;
n=65; farx(n+1)=4.187085e+000; foe(n+1)=2.153673e+001; krok(n+1)=2.495832e+000; ng(n+1)=1.308755e+002;
n=66; farx(n+1)=4.172598e+000; foe(n+1)=2.152359e+001; krok(n+1)=1.961845e-001; ng(n+1)=7.653539e+001;
n=67; farx(n+1)=3.956817e+000; foe(n+1)=2.145818e+001; krok(n+1)=6.077026e-001; ng(n+1)=1.576368e+002;
n=68; farx(n+1)=3.898966e+000; foe(n+1)=2.142828e+001; krok(n+1)=6.614848e-001; ng(n+1)=5.818186e+001;
n=69; farx(n+1)=3.854610e+000; foe(n+1)=2.136775e+001; krok(n+1)=1.009068e+000; ng(n+1)=3.076605e+002;
n=70; farx(n+1)=3.745038e+000; foe(n+1)=2.133418e+001; krok(n+1)=2.577175e-001; ng(n+1)=9.345513e+001;
n=71; farx(n+1)=3.622367e+000; foe(n+1)=2.129158e+001; krok(n+1)=3.505976e-001; ng(n+1)=5.873019e+001;
n=72; farx(n+1)=3.567004e+000; foe(n+1)=2.125554e+001; krok(n+1)=4.187571e-001; ng(n+1)=8.534941e+001;
n=73; farx(n+1)=3.573818e+000; foe(n+1)=2.124201e+001; krok(n+1)=6.751168e-001; ng(n+1)=9.952670e+001;
n=74; farx(n+1)=3.528368e+000; foe(n+1)=2.123579e+001; krok(n+1)=8.551844e-001; ng(n+1)=4.029456e+001;
n=75; farx(n+1)=3.464906e+000; foe(n+1)=2.122734e+001; krok(n+1)=1.056270e+000; ng(n+1)=6.287275e+001;
%odnowa zmiennej metryki
n=76; farx(n+1)=3.465445e+000; foe(n+1)=2.122486e+001; krok(n+1)=7.554899e-007; ng(n+1)=1.448937e+002;
n=77; farx(n+1)=3.466067e+000; foe(n+1)=2.122289e+001; krok(n+1)=1.925750e-005; ng(n+1)=2.608858e+001;
n=78; farx(n+1)=3.470389e+000; foe(n+1)=2.122198e+001; krok(n+1)=2.253084e-005; ng(n+1)=1.671179e+001;
n=79; farx(n+1)=3.479183e+000; foe(n+1)=2.121996e+001; krok(n+1)=3.210907e-004; ng(n+1)=5.952521e+000;
n=80; farx(n+1)=3.450302e+000; foe(n+1)=2.121400e+001; krok(n+1)=2.356189e-003; ng(n+1)=3.467978e+000;
n=81; farx(n+1)=3.449692e+000; foe(n+1)=2.121101e+001; krok(n+1)=1.132561e-002; ng(n+1)=1.614936e+000;
n=82; farx(n+1)=3.447704e+000; foe(n+1)=2.120961e+001; krok(n+1)=3.670029e-002; ng(n+1)=6.358560e+000;
n=83; farx(n+1)=3.435877e+000; foe(n+1)=2.120901e+001; krok(n+1)=2.219272e-002; ng(n+1)=1.488025e+001;
n=84; farx(n+1)=3.425877e+000; foe(n+1)=2.120831e+001; krok(n+1)=7.100297e-002; ng(n+1)=1.882426e+001;
n=85; farx(n+1)=3.414983e+000; foe(n+1)=2.120752e+001; krok(n+1)=1.827549e-001; ng(n+1)=1.770826e+001;
n=86; farx(n+1)=3.415988e+000; foe(n+1)=2.120411e+001; krok(n+1)=2.125050e+000; ng(n+1)=1.316364e+001;
n=87; farx(n+1)=3.287872e+000; foe(n+1)=2.116438e+001; krok(n+1)=1.181265e+001; ng(n+1)=4.352307e+001;
n=88; farx(n+1)=3.231743e+000; foe(n+1)=2.112963e+001; krok(n+1)=5.810581e-001; ng(n+1)=1.087244e+002;
n=89; farx(n+1)=3.213428e+000; foe(n+1)=2.107836e+001; krok(n+1)=8.858351e-001; ng(n+1)=4.080328e+002;
n=90; farx(n+1)=3.192407e+000; foe(n+1)=2.105779e+001; krok(n+1)=1.096368e+000; ng(n+1)=1.595969e+002;
n=91; farx(n+1)=3.199858e+000; foe(n+1)=2.104300e+001; krok(n+1)=1.794685e-001; ng(n+1)=1.745006e+002;
n=92; farx(n+1)=3.055250e+000; foe(n+1)=2.091212e+001; krok(n+1)=3.290939e+000; ng(n+1)=1.189898e+002;
n=93; farx(n+1)=3.087276e+000; foe(n+1)=2.084622e+001; krok(n+1)=7.228765e-001; ng(n+1)=9.866493e+001;
n=94; farx(n+1)=3.200016e+000; foe(n+1)=2.078495e+001; krok(n+1)=5.453957e-001; ng(n+1)=3.902822e+002;
n=95; farx(n+1)=3.398899e+000; foe(n+1)=2.067791e+001; krok(n+1)=8.413217e-001; ng(n+1)=3.942020e+002;
n=96; farx(n+1)=3.511422e+000; foe(n+1)=2.062049e+001; krok(n+1)=7.808753e-001; ng(n+1)=3.317141e+002;
n=97; farx(n+1)=3.483911e+000; foe(n+1)=2.058922e+001; krok(n+1)=2.230542e-001; ng(n+1)=8.345673e+001;
n=98; farx(n+1)=3.534526e+000; foe(n+1)=2.052102e+001; krok(n+1)=1.350234e+000; ng(n+1)=1.582440e+002;
n=99; farx(n+1)=3.485571e+000; foe(n+1)=2.046451e+001; krok(n+1)=1.155850e+000; ng(n+1)=1.108182e+002;
n=100; farx(n+1)=3.633719e+000; foe(n+1)=2.037288e+001; krok(n+1)=1.554381e+000; ng(n+1)=2.184765e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
