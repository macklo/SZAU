%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.685892e+003; foe(n+1)=4.804408e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.559218e+003; foe(n+1)=3.710356e+003; krok(n+1)=3.423805e-004; ng(n+1)=3.265595e+003;
n=2; farx(n+1)=9.365774e+002; foe(n+1)=1.065577e+003; krok(n+1)=1.612540e-003; ng(n+1)=2.401625e+003;
n=3; farx(n+1)=1.027000e+003; foe(n+1)=8.090618e+002; krok(n+1)=1.775310e-004; ng(n+1)=4.964336e+003;
n=4; farx(n+1)=1.241728e+003; foe(n+1)=7.154210e+002; krok(n+1)=2.187783e-003; ng(n+1)=3.241489e+003;
n=5; farx(n+1)=5.377612e+002; foe(n+1)=5.967879e+002; krok(n+1)=4.777659e-003; ng(n+1)=7.930392e+002;
n=6; farx(n+1)=3.011463e+002; foe(n+1)=4.864873e+002; krok(n+1)=5.763985e-004; ng(n+1)=2.274189e+003;
n=7; farx(n+1)=2.358874e+002; foe(n+1)=4.333104e+002; krok(n+1)=1.208931e-004; ng(n+1)=3.101201e+003;
n=8; farx(n+1)=2.698010e+002; foe(n+1)=3.906939e+002; krok(n+1)=1.421020e-002; ng(n+1)=2.831373e+003;
n=9; farx(n+1)=2.856484e+002; foe(n+1)=3.635064e+002; krok(n+1)=1.427772e-003; ng(n+1)=1.024855e+003;
n=10; farx(n+1)=2.754369e+002; foe(n+1)=3.554477e+002; krok(n+1)=3.792794e-003; ng(n+1)=4.141051e+002;
n=11; farx(n+1)=2.636532e+002; foe(n+1)=3.529068e+002; krok(n+1)=2.407737e-003; ng(n+1)=3.837813e+002;
n=12; farx(n+1)=6.519849e+001; foe(n+1)=1.713093e+002; krok(n+1)=3.226788e-002; ng(n+1)=4.032406e+002;
n=13; farx(n+1)=6.414399e+001; foe(n+1)=1.697863e+002; krok(n+1)=2.171131e-004; ng(n+1)=1.206661e+003;
n=14; farx(n+1)=6.337921e+001; foe(n+1)=1.670004e+002; krok(n+1)=2.186130e-003; ng(n+1)=1.281117e+003;
n=15; farx(n+1)=5.936585e+001; foe(n+1)=1.493223e+002; krok(n+1)=3.244437e-002; ng(n+1)=1.741453e+003;
n=16; farx(n+1)=5.471049e+001; foe(n+1)=1.399294e+002; krok(n+1)=6.345766e-002; ng(n+1)=1.584741e+003;
n=17; farx(n+1)=3.884330e+001; foe(n+1)=1.174600e+002; krok(n+1)=1.591991e-001; ng(n+1)=1.511859e+003;
n=18; farx(n+1)=3.249063e+001; foe(n+1)=8.724833e+001; krok(n+1)=2.152723e-001; ng(n+1)=1.881994e+003;
n=19; farx(n+1)=2.856817e+001; foe(n+1)=7.517040e+001; krok(n+1)=1.827549e-001; ng(n+1)=3.731047e+003;
n=20; farx(n+1)=3.088059e+001; foe(n+1)=6.930686e+001; krok(n+1)=3.780408e-001; ng(n+1)=2.058596e+003;
n=21; farx(n+1)=2.884507e+001; foe(n+1)=5.718602e+001; krok(n+1)=1.185073e+000; ng(n+1)=2.150111e+003;
n=22; farx(n+1)=2.624185e+001; foe(n+1)=5.350816e+001; krok(n+1)=3.183696e-001; ng(n+1)=1.280341e+003;
n=23; farx(n+1)=2.481995e+001; foe(n+1)=5.118882e+001; krok(n+1)=2.454949e-001; ng(n+1)=1.011876e+003;
n=24; farx(n+1)=2.347347e+001; foe(n+1)=4.904328e+001; krok(n+1)=2.393567e-001; ng(n+1)=1.202030e+003;
n=25; farx(n+1)=1.997496e+001; foe(n+1)=4.293458e+001; krok(n+1)=6.400584e-001; ng(n+1)=1.689653e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.994707e+001; foe(n+1)=4.274210e+001; krok(n+1)=1.801229e-006; ng(n+1)=9.250284e+002;
n=27; farx(n+1)=1.984718e+001; foe(n+1)=4.158171e+001; krok(n+1)=1.078966e-004; ng(n+1)=3.508241e+002;
n=28; farx(n+1)=2.009528e+001; foe(n+1)=4.121956e+001; krok(n+1)=4.899400e-005; ng(n+1)=2.515524e+002;
n=29; farx(n+1)=2.113508e+001; foe(n+1)=4.006461e+001; krok(n+1)=5.469456e-004; ng(n+1)=3.006338e+002;
n=30; farx(n+1)=1.867139e+001; foe(n+1)=3.584169e+001; krok(n+1)=1.876490e-003; ng(n+1)=3.226050e+002;
n=31; farx(n+1)=1.726158e+001; foe(n+1)=3.291337e+001; krok(n+1)=6.431546e-003; ng(n+1)=4.751053e+002;
n=32; farx(n+1)=1.623745e+001; foe(n+1)=3.163906e+001; krok(n+1)=2.598953e-003; ng(n+1)=6.810516e+002;
n=33; farx(n+1)=1.604773e+001; foe(n+1)=3.101449e+001; krok(n+1)=1.970836e-003; ng(n+1)=1.180212e+003;
n=34; farx(n+1)=1.489089e+001; foe(n+1)=2.998963e+001; krok(n+1)=3.722051e-003; ng(n+1)=5.824336e+002;
n=35; farx(n+1)=1.374530e+001; foe(n+1)=2.916578e+001; krok(n+1)=1.621660e-002; ng(n+1)=1.064063e+003;
n=36; farx(n+1)=1.310975e+001; foe(n+1)=2.863470e+001; krok(n+1)=2.001452e-002; ng(n+1)=5.700522e+002;
n=37; farx(n+1)=1.328065e+001; foe(n+1)=2.819148e+001; krok(n+1)=4.568872e-002; ng(n+1)=6.333468e+002;
n=38; farx(n+1)=1.115682e+001; foe(n+1)=2.619110e+001; krok(n+1)=1.677326e-001; ng(n+1)=4.993280e+002;
n=39; farx(n+1)=1.003654e+001; foe(n+1)=2.441282e+001; krok(n+1)=7.942915e-002; ng(n+1)=4.479491e+002;
n=40; farx(n+1)=9.583970e+000; foe(n+1)=2.143600e+001; krok(n+1)=7.470650e-001; ng(n+1)=2.823933e+002;
n=41; farx(n+1)=9.321604e+000; foe(n+1)=2.071132e+001; krok(n+1)=4.461084e-001; ng(n+1)=2.173642e+002;
n=42; farx(n+1)=8.564033e+000; foe(n+1)=1.997750e+001; krok(n+1)=4.170483e-001; ng(n+1)=1.790350e+002;
n=43; farx(n+1)=7.921613e+000; foe(n+1)=1.939465e+001; krok(n+1)=6.210550e-001; ng(n+1)=2.191230e+002;
n=44; farx(n+1)=7.628646e+000; foe(n+1)=1.916656e+001; krok(n+1)=2.155114e-001; ng(n+1)=1.381115e+002;
n=45; farx(n+1)=7.285813e+000; foe(n+1)=1.872175e+001; krok(n+1)=4.635137e-001; ng(n+1)=2.769185e+002;
n=46; farx(n+1)=6.945084e+000; foe(n+1)=1.822674e+001; krok(n+1)=7.832062e-001; ng(n+1)=1.617175e+002;
n=47; farx(n+1)=6.065148e+000; foe(n+1)=1.761288e+001; krok(n+1)=8.131859e-001; ng(n+1)=1.159046e+002;
n=48; farx(n+1)=5.755483e+000; foe(n+1)=1.716932e+001; krok(n+1)=4.929770e-001; ng(n+1)=1.396179e+002;
n=49; farx(n+1)=5.571030e+000; foe(n+1)=1.678401e+001; krok(n+1)=2.730900e-001; ng(n+1)=3.003910e+002;
n=50; farx(n+1)=5.095875e+000; foe(n+1)=1.638732e+001; krok(n+1)=7.113726e-001; ng(n+1)=1.441333e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=5.073705e+000; foe(n+1)=1.634466e+001; krok(n+1)=7.547877e-005; ng(n+1)=6.781239e+001;
n=52; farx(n+1)=5.052567e+000; foe(n+1)=1.631383e+001; krok(n+1)=6.446963e-005; ng(n+1)=6.348513e+001;
n=53; farx(n+1)=4.799349e+000; foe(n+1)=1.574597e+001; krok(n+1)=2.734728e-004; ng(n+1)=1.305846e+002;
n=54; farx(n+1)=4.818025e+000; foe(n+1)=1.549815e+001; krok(n+1)=1.015140e-004; ng(n+1)=1.440719e+002;
n=55; farx(n+1)=4.567695e+000; foe(n+1)=1.509259e+001; krok(n+1)=1.011532e-003; ng(n+1)=1.528154e+002;
n=56; farx(n+1)=4.473704e+000; foe(n+1)=1.482555e+001; krok(n+1)=9.307204e-003; ng(n+1)=2.459923e+002;
n=57; farx(n+1)=4.341709e+000; foe(n+1)=1.473087e+001; krok(n+1)=2.634602e-003; ng(n+1)=4.502210e+002;
n=58; farx(n+1)=4.314388e+000; foe(n+1)=1.453046e+001; krok(n+1)=5.647473e-003; ng(n+1)=4.832024e+002;
n=59; farx(n+1)=4.272807e+000; foe(n+1)=1.436805e+001; krok(n+1)=2.156300e-002; ng(n+1)=4.048664e+002;
n=60; farx(n+1)=4.190324e+000; foe(n+1)=1.421906e+001; krok(n+1)=6.853004e-003; ng(n+1)=5.816028e+002;
n=61; farx(n+1)=4.220074e+000; foe(n+1)=1.410971e+001; krok(n+1)=3.344126e-002; ng(n+1)=4.970864e+002;
n=62; farx(n+1)=3.929659e+000; foe(n+1)=1.375461e+001; krok(n+1)=1.304848e-001; ng(n+1)=4.720038e+002;
n=63; farx(n+1)=3.487770e+000; foe(n+1)=1.290372e+001; krok(n+1)=1.655578e-001; ng(n+1)=5.099914e+002;
n=64; farx(n+1)=2.817180e+000; foe(n+1)=1.252365e+001; krok(n+1)=2.950300e-001; ng(n+1)=2.820980e+002;
n=65; farx(n+1)=2.267952e+000; foe(n+1)=1.147799e+001; krok(n+1)=7.676757e-001; ng(n+1)=2.332490e+002;
n=66; farx(n+1)=1.706965e+000; foe(n+1)=1.014477e+001; krok(n+1)=3.691454e-001; ng(n+1)=5.990835e+002;
n=67; farx(n+1)=1.700473e+000; foe(n+1)=9.991946e+000; krok(n+1)=8.436372e-002; ng(n+1)=2.233177e+002;
n=68; farx(n+1)=1.607736e+000; foe(n+1)=9.756431e+000; krok(n+1)=1.668612e-001; ng(n+1)=4.522744e+002;
n=69; farx(n+1)=1.559256e+000; foe(n+1)=9.600875e+000; krok(n+1)=8.892157e-002; ng(n+1)=3.692272e+002;
n=70; farx(n+1)=1.554699e+000; foe(n+1)=9.537859e+000; krok(n+1)=1.238533e-001; ng(n+1)=1.584530e+002;
n=71; farx(n+1)=1.418129e+000; foe(n+1)=9.402031e+000; krok(n+1)=3.005969e-001; ng(n+1)=8.489296e+001;
n=72; farx(n+1)=1.328548e+000; foe(n+1)=9.241709e+000; krok(n+1)=2.730638e-001; ng(n+1)=1.278287e+002;
n=73; farx(n+1)=1.208615e+000; foe(n+1)=9.005541e+000; krok(n+1)=4.448216e-001; ng(n+1)=2.548549e+002;
n=74; farx(n+1)=1.213761e+000; foe(n+1)=8.873071e+000; krok(n+1)=4.536903e-001; ng(n+1)=6.995451e+002;
n=75; farx(n+1)=1.114997e+000; foe(n+1)=8.670619e+000; krok(n+1)=2.464885e-001; ng(n+1)=3.538984e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.113023e+000; foe(n+1)=8.651758e+000; krok(n+1)=3.559307e-006; ng(n+1)=1.940857e+002;
n=77; farx(n+1)=1.111595e+000; foe(n+1)=8.627317e+000; krok(n+1)=5.250665e-006; ng(n+1)=2.043167e+002;
n=78; farx(n+1)=1.111388e+000; foe(n+1)=8.612852e+000; krok(n+1)=1.046074e-005; ng(n+1)=1.200519e+002;
n=79; farx(n+1)=1.113014e+000; foe(n+1)=8.595677e+000; krok(n+1)=1.254535e-004; ng(n+1)=3.760973e+001;
n=80; farx(n+1)=1.114730e+000; foe(n+1)=8.573538e+000; krok(n+1)=4.895958e-004; ng(n+1)=2.395741e+001;
n=81; farx(n+1)=1.109027e+000; foe(n+1)=8.562229e+000; krok(n+1)=1.284763e-003; ng(n+1)=1.103107e+001;
n=82; farx(n+1)=1.096199e+000; foe(n+1)=8.528929e+000; krok(n+1)=2.320029e-003; ng(n+1)=1.415509e+001;
n=83; farx(n+1)=1.074823e+000; foe(n+1)=8.409842e+000; krok(n+1)=3.334617e-003; ng(n+1)=1.863812e+001;
n=84; farx(n+1)=1.082064e+000; foe(n+1)=8.398875e+000; krok(n+1)=8.442897e-003; ng(n+1)=2.213044e+002;
n=85; farx(n+1)=1.115348e+000; foe(n+1)=8.383833e+000; krok(n+1)=3.339713e-002; ng(n+1)=3.318492e+002;
n=86; farx(n+1)=1.157568e+000; foe(n+1)=8.367313e+000; krok(n+1)=1.111619e-001; ng(n+1)=3.381569e+002;
n=87; farx(n+1)=1.188966e+000; foe(n+1)=8.353608e+000; krok(n+1)=3.329740e-002; ng(n+1)=3.807563e+002;
n=88; farx(n+1)=1.226385e+000; foe(n+1)=8.252208e+000; krok(n+1)=4.726961e-001; ng(n+1)=2.877112e+002;
n=89; farx(n+1)=1.104820e+000; foe(n+1)=8.128447e+000; krok(n+1)=9.363811e-002; ng(n+1)=1.966827e+002;
n=90; farx(n+1)=1.088642e+000; foe(n+1)=8.096350e+000; krok(n+1)=4.438543e-002; ng(n+1)=4.268409e+002;
n=91; farx(n+1)=1.113380e+000; foe(n+1)=7.964402e+000; krok(n+1)=4.065930e-001; ng(n+1)=3.148033e+002;
n=92; farx(n+1)=9.864592e-001; foe(n+1)=7.735455e+000; krok(n+1)=5.138574e-001; ng(n+1)=1.053503e+002;
n=93; farx(n+1)=9.467586e-001; foe(n+1)=7.619126e+000; krok(n+1)=4.126070e-001; ng(n+1)=4.910077e+002;
n=94; farx(n+1)=9.369000e-001; foe(n+1)=7.574652e+000; krok(n+1)=3.047347e-001; ng(n+1)=1.670733e+002;
n=95; farx(n+1)=9.549226e-001; foe(n+1)=7.501908e+000; krok(n+1)=3.655097e-001; ng(n+1)=1.962596e+002;
n=96; farx(n+1)=9.563754e-001; foe(n+1)=7.411480e+000; krok(n+1)=5.667570e-001; ng(n+1)=1.939749e+002;
n=97; farx(n+1)=9.404066e-001; foe(n+1)=7.266077e+000; krok(n+1)=7.382907e-001; ng(n+1)=4.519452e+002;
n=98; farx(n+1)=9.351207e-001; foe(n+1)=7.084367e+000; krok(n+1)=5.766634e-001; ng(n+1)=3.966715e+002;
n=99; farx(n+1)=9.612743e-001; foe(n+1)=6.983915e+000; krok(n+1)=3.372291e-001; ng(n+1)=4.326404e+002;
n=100; farx(n+1)=9.174206e-001; foe(n+1)=6.869839e+000; krok(n+1)=4.641165e-001; ng(n+1)=2.945242e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
