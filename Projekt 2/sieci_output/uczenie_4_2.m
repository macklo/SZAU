%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.838939e+003; foe(n+1)=4.951544e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.863602e+003; foe(n+1)=3.870734e+003; krok(n+1)=3.296469e-004; ng(n+1)=3.711407e+003;
n=2; farx(n+1)=7.550007e+002; foe(n+1)=8.402390e+002; krok(n+1)=3.692938e-003; ng(n+1)=1.243576e+003;
n=3; farx(n+1)=7.903049e+002; foe(n+1)=7.806170e+002; krok(n+1)=1.247165e-004; ng(n+1)=2.572009e+003;
n=4; farx(n+1)=9.525036e+002; foe(n+1)=7.340926e+002; krok(n+1)=7.867177e-004; ng(n+1)=2.169234e+003;
n=5; farx(n+1)=8.058546e+002; foe(n+1)=6.354487e+002; krok(n+1)=1.141051e-003; ng(n+1)=1.003641e+003;
n=6; farx(n+1)=4.470446e+002; foe(n+1)=4.524824e+002; krok(n+1)=6.414404e-003; ng(n+1)=2.247060e+003;
n=7; farx(n+1)=4.336098e+002; foe(n+1)=4.338359e+002; krok(n+1)=5.188110e-004; ng(n+1)=1.388246e+003;
n=8; farx(n+1)=4.224746e+002; foe(n+1)=4.014170e+002; krok(n+1)=5.829556e-003; ng(n+1)=1.262889e+003;
n=9; farx(n+1)=3.397217e+002; foe(n+1)=3.872949e+002; krok(n+1)=2.774090e-003; ng(n+1)=3.666030e+002;
n=10; farx(n+1)=3.120720e+002; foe(n+1)=3.786491e+002; krok(n+1)=1.587460e-003; ng(n+1)=5.069279e+002;
n=11; farx(n+1)=3.089358e+002; foe(n+1)=3.779518e+002; krok(n+1)=4.031350e-004; ng(n+1)=2.961764e+002;
n=12; farx(n+1)=2.659872e+002; foe(n+1)=3.707547e+002; krok(n+1)=3.473809e-003; ng(n+1)=3.516879e+002;
n=13; farx(n+1)=1.526131e+002; foe(n+1)=3.234004e+002; krok(n+1)=1.479856e-002; ng(n+1)=6.407395e+002;
n=14; farx(n+1)=1.406888e+002; foe(n+1)=3.183746e+002; krok(n+1)=4.895958e-004; ng(n+1)=1.089884e+003;
n=15; farx(n+1)=1.384103e+002; foe(n+1)=3.161056e+002; krok(n+1)=3.885492e-004; ng(n+1)=1.957049e+003;
n=16; farx(n+1)=1.446109e+002; foe(n+1)=3.116521e+002; krok(n+1)=7.624904e-004; ng(n+1)=2.516582e+003;
n=17; farx(n+1)=1.347151e+002; foe(n+1)=3.046980e+002; krok(n+1)=7.860431e-003; ng(n+1)=1.871266e+003;
n=18; farx(n+1)=1.198201e+002; foe(n+1)=2.938397e+002; krok(n+1)=1.255514e-003; ng(n+1)=4.952523e+003;
n=19; farx(n+1)=1.149486e+002; foe(n+1)=2.881132e+002; krok(n+1)=1.597633e-003; ng(n+1)=3.053122e+003;
n=20; farx(n+1)=1.142379e+002; foe(n+1)=2.855245e+002; krok(n+1)=6.410357e-004; ng(n+1)=9.534050e+003;
n=21; farx(n+1)=7.800335e+001; foe(n+1)=2.363100e+002; krok(n+1)=4.509885e-002; ng(n+1)=1.681243e+004;
n=22; farx(n+1)=8.309712e+001; foe(n+1)=2.249667e+002; krok(n+1)=8.022341e-003; ng(n+1)=1.305534e+004;
n=23; farx(n+1)=9.683517e+001; foe(n+1)=2.085559e+002; krok(n+1)=1.828656e-003; ng(n+1)=1.741938e+004;
n=24; farx(n+1)=6.276639e+001; foe(n+1)=1.859557e+002; krok(n+1)=1.200954e-001; ng(n+1)=1.821996e+004;
n=25; farx(n+1)=4.834596e+001; foe(n+1)=1.639535e+002; krok(n+1)=5.576530e-002; ng(n+1)=1.936112e+004;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.778173e+001; foe(n+1)=1.090071e+002; krok(n+1)=3.035143e-006; ng(n+1)=1.011234e+004;
n=27; farx(n+1)=4.769851e+001; foe(n+1)=1.055476e+002; krok(n+1)=2.877521e-005; ng(n+1)=2.250828e+003;
n=28; farx(n+1)=4.472546e+001; foe(n+1)=8.389357e+001; krok(n+1)=1.962938e-004; ng(n+1)=3.615284e+003;
n=29; farx(n+1)=4.133575e+001; foe(n+1)=7.050395e+001; krok(n+1)=4.129769e-004; ng(n+1)=4.614951e+003;
n=30; farx(n+1)=3.931152e+001; foe(n+1)=6.852304e+001; krok(n+1)=1.494509e-004; ng(n+1)=2.337215e+003;
n=31; farx(n+1)=3.633884e+001; foe(n+1)=6.163169e+001; krok(n+1)=3.643472e-004; ng(n+1)=2.085501e+003;
n=32; farx(n+1)=3.725095e+001; foe(n+1)=5.881083e+001; krok(n+1)=8.875371e-003; ng(n+1)=1.698067e+003;
n=33; farx(n+1)=3.621008e+001; foe(n+1)=5.768914e+001; krok(n+1)=1.903300e-003; ng(n+1)=1.362174e+003;
n=34; farx(n+1)=2.782912e+001; foe(n+1)=4.989142e+001; krok(n+1)=1.004449e-002; ng(n+1)=1.125447e+003;
n=35; farx(n+1)=2.684998e+001; foe(n+1)=4.736077e+001; krok(n+1)=1.797919e-003; ng(n+1)=1.946008e+003;
n=36; farx(n+1)=2.467878e+001; foe(n+1)=4.552381e+001; krok(n+1)=5.711090e-003; ng(n+1)=6.971456e+002;
n=37; farx(n+1)=2.294422e+001; foe(n+1)=4.318271e+001; krok(n+1)=1.673020e-002; ng(n+1)=1.097538e+003;
n=38; farx(n+1)=2.284323e+001; foe(n+1)=4.264752e+001; krok(n+1)=7.981858e-003; ng(n+1)=3.971057e+002;
n=39; farx(n+1)=2.256279e+001; foe(n+1)=4.217321e+001; krok(n+1)=2.500228e-003; ng(n+1)=2.814242e+002;
n=40; farx(n+1)=2.180601e+001; foe(n+1)=4.101594e+001; krok(n+1)=3.798141e-002; ng(n+1)=3.577180e+002;
n=41; farx(n+1)=2.091573e+001; foe(n+1)=3.982718e+001; krok(n+1)=2.847603e-002; ng(n+1)=2.789147e+002;
n=42; farx(n+1)=1.173240e+001; foe(n+1)=2.683450e+001; krok(n+1)=1.525346e-001; ng(n+1)=6.148779e+002;
n=43; farx(n+1)=9.532086e+000; foe(n+1)=2.111856e+001; krok(n+1)=1.286938e-001; ng(n+1)=1.262183e+003;
n=44; farx(n+1)=8.573777e+000; foe(n+1)=2.007407e+001; krok(n+1)=7.694633e-002; ng(n+1)=5.283135e+002;
n=45; farx(n+1)=7.401916e+000; foe(n+1)=1.819148e+001; krok(n+1)=1.370460e-001; ng(n+1)=4.911958e+002;
n=46; farx(n+1)=5.854785e+000; foe(n+1)=1.586561e+001; krok(n+1)=4.909897e-001; ng(n+1)=3.054298e+002;
n=47; farx(n+1)=5.563741e+000; foe(n+1)=1.497880e+001; krok(n+1)=5.114232e-001; ng(n+1)=3.391611e+002;
n=48; farx(n+1)=5.310252e+000; foe(n+1)=1.379143e+001; krok(n+1)=1.229131e+000; ng(n+1)=6.897155e+002;
n=49; farx(n+1)=5.631099e+000; foe(n+1)=1.310942e+001; krok(n+1)=8.231292e-001; ng(n+1)=3.206874e+002;
n=50; farx(n+1)=5.501172e+000; foe(n+1)=1.255596e+001; krok(n+1)=4.787134e-001; ng(n+1)=2.640842e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=5.441765e+000; foe(n+1)=1.231381e+001; krok(n+1)=3.267618e-005; ng(n+1)=2.574726e+002;
n=52; farx(n+1)=5.428470e+000; foe(n+1)=1.228504e+001; krok(n+1)=1.069939e-005; ng(n+1)=1.652941e+002;
n=53; farx(n+1)=5.367705e+000; foe(n+1)=1.224839e+001; krok(n+1)=3.697036e-004; ng(n+1)=3.435452e+001;
n=54; farx(n+1)=5.326803e+000; foe(n+1)=1.215035e+001; krok(n+1)=8.923578e-005; ng(n+1)=9.785221e+001;
n=55; farx(n+1)=5.006892e+000; foe(n+1)=1.190543e+001; krok(n+1)=3.382411e-003; ng(n+1)=2.970726e+001;
n=56; farx(n+1)=4.527109e+000; foe(n+1)=1.133849e+001; krok(n+1)=3.778589e-003; ng(n+1)=6.229513e+001;
n=57; farx(n+1)=4.410397e+000; foe(n+1)=1.111143e+001; krok(n+1)=3.699641e-003; ng(n+1)=4.484470e+002;
n=58; farx(n+1)=4.178231e+000; foe(n+1)=1.075563e+001; krok(n+1)=6.353015e-003; ng(n+1)=4.420235e+002;
n=59; farx(n+1)=3.944755e+000; foe(n+1)=1.040047e+001; krok(n+1)=5.097234e-003; ng(n+1)=3.715135e+002;
n=60; farx(n+1)=3.925779e+000; foe(n+1)=1.029439e+001; krok(n+1)=1.019133e-002; ng(n+1)=3.749980e+002;
n=61; farx(n+1)=3.813617e+000; foe(n+1)=9.957104e+000; krok(n+1)=8.191626e-002; ng(n+1)=3.301840e+002;
n=62; farx(n+1)=3.854967e+000; foe(n+1)=9.357691e+000; krok(n+1)=2.331822e-002; ng(n+1)=5.005352e+002;
n=63; farx(n+1)=3.787649e+000; foe(n+1)=9.225480e+000; krok(n+1)=1.891529e-002; ng(n+1)=1.313337e+002;
n=64; farx(n+1)=3.780798e+000; foe(n+1)=9.169296e+000; krok(n+1)=4.320574e-002; ng(n+1)=3.098865e+002;
n=65; farx(n+1)=3.612261e+000; foe(n+1)=8.834459e+000; krok(n+1)=1.237945e-001; ng(n+1)=3.997810e+002;
n=66; farx(n+1)=3.375725e+000; foe(n+1)=8.145107e+000; krok(n+1)=3.388186e-001; ng(n+1)=3.759655e+002;
n=67; farx(n+1)=3.219950e+000; foe(n+1)=7.940196e+000; krok(n+1)=3.832769e-002; ng(n+1)=3.806750e+002;
n=68; farx(n+1)=2.652812e+000; foe(n+1)=7.031978e+000; krok(n+1)=6.101385e-001; ng(n+1)=6.583825e+002;
n=69; farx(n+1)=2.439343e+000; foe(n+1)=6.725082e+000; krok(n+1)=2.223238e-001; ng(n+1)=2.357382e+002;
n=70; farx(n+1)=2.272154e+000; foe(n+1)=6.417665e+000; krok(n+1)=3.011048e-001; ng(n+1)=5.133128e+002;
n=71; farx(n+1)=2.199419e+000; foe(n+1)=6.266501e+000; krok(n+1)=1.981883e-001; ng(n+1)=2.447946e+002;
n=72; farx(n+1)=2.129977e+000; foe(n+1)=5.950409e+000; krok(n+1)=3.916078e-001; ng(n+1)=2.494678e+002;
n=73; farx(n+1)=1.937872e+000; foe(n+1)=5.685938e+000; krok(n+1)=7.101669e-001; ng(n+1)=3.074458e+002;
n=74; farx(n+1)=1.862112e+000; foe(n+1)=5.518352e+000; krok(n+1)=3.465039e-001; ng(n+1)=4.193167e+002;
n=75; farx(n+1)=1.854692e+000; foe(n+1)=5.210327e+000; krok(n+1)=4.909897e-001; ng(n+1)=6.970693e+001;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.856782e+000; foe(n+1)=5.113961e+000; krok(n+1)=1.209447e-005; ng(n+1)=3.077255e+002;
n=77; farx(n+1)=1.861240e+000; foe(n+1)=5.105269e+000; krok(n+1)=3.791849e-005; ng(n+1)=5.292758e+001;
n=78; farx(n+1)=1.861880e+000; foe(n+1)=5.102173e+000; krok(n+1)=4.517417e-006; ng(n+1)=8.201221e+001;
n=79; farx(n+1)=1.840981e+000; foe(n+1)=5.048676e+000; krok(n+1)=3.729504e-004; ng(n+1)=4.315114e+001;
n=80; farx(n+1)=1.819119e+000; foe(n+1)=5.010811e+000; krok(n+1)=1.846469e-003; ng(n+1)=1.892603e+001;
n=81; farx(n+1)=1.799138e+000; foe(n+1)=4.983752e+000; krok(n+1)=1.427772e-003; ng(n+1)=2.230969e+001;
n=82; farx(n+1)=1.795605e+000; foe(n+1)=4.939471e+000; krok(n+1)=8.946591e-003; ng(n+1)=3.518763e+001;
n=83; farx(n+1)=1.746285e+000; foe(n+1)=4.892518e+000; krok(n+1)=1.376948e-002; ng(n+1)=5.439623e+001;
n=84; farx(n+1)=1.707835e+000; foe(n+1)=4.863112e+000; krok(n+1)=6.970444e-003; ng(n+1)=1.785403e+002;
n=85; farx(n+1)=1.640191e+000; foe(n+1)=4.825775e+000; krok(n+1)=2.925850e-002; ng(n+1)=2.284539e+002;
n=86; farx(n+1)=1.571978e+000; foe(n+1)=4.738369e+000; krok(n+1)=7.487116e-002; ng(n+1)=2.340521e+002;
n=87; farx(n+1)=1.562441e+000; foe(n+1)=4.558537e+000; krok(n+1)=5.188122e-002; ng(n+1)=2.342453e+002;
n=88; farx(n+1)=1.556415e+000; foe(n+1)=4.510489e+000; krok(n+1)=9.338225e-003; ng(n+1)=4.352730e+002;
n=89; farx(n+1)=1.568027e+000; foe(n+1)=4.447647e+000; krok(n+1)=8.485128e-002; ng(n+1)=7.065864e+002;
n=90; farx(n+1)=1.696527e+000; foe(n+1)=3.991757e+000; krok(n+1)=1.713887e-001; ng(n+1)=8.692655e+002;
n=91; farx(n+1)=1.725602e+000; foe(n+1)=3.846941e+000; krok(n+1)=9.137743e-002; ng(n+1)=3.087075e+002;
n=92; farx(n+1)=1.579128e+000; foe(n+1)=3.431387e+000; krok(n+1)=7.748658e-001; ng(n+1)=2.407596e+002;
n=93; farx(n+1)=1.539384e+000; foe(n+1)=3.101828e+000; krok(n+1)=3.556863e-001; ng(n+1)=7.304280e+002;
n=94; farx(n+1)=1.592194e+000; foe(n+1)=2.971611e+000; krok(n+1)=1.372911e-001; ng(n+1)=2.025357e+002;
n=95; farx(n+1)=1.401397e+000; foe(n+1)=2.751314e+000; krok(n+1)=1.926134e-001; ng(n+1)=1.112835e+002;
n=96; farx(n+1)=1.121145e+000; foe(n+1)=2.515277e+000; krok(n+1)=3.607908e-001; ng(n+1)=3.423290e+002;
n=97; farx(n+1)=1.084708e+000; foe(n+1)=2.460638e+000; krok(n+1)=1.390811e-001; ng(n+1)=2.899343e+002;
n=98; farx(n+1)=1.010776e+000; foe(n+1)=2.394687e+000; krok(n+1)=3.349286e-001; ng(n+1)=1.414758e+002;
n=99; farx(n+1)=8.837691e-001; foe(n+1)=2.295329e+000; krok(n+1)=5.600723e-001; ng(n+1)=8.734319e+001;
n=100; farx(n+1)=8.087398e-001; foe(n+1)=2.232187e+000; krok(n+1)=2.134155e-001; ng(n+1)=2.871030e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
