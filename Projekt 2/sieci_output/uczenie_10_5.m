%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.829026e+003; foe(n+1)=4.457216e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.136394e+003; foe(n+1)=2.551814e+003; krok(n+1)=5.985093e-004; ng(n+1)=5.644939e+003;
n=2; farx(n+1)=1.378245e+003; foe(n+1)=8.262278e+002; krok(n+1)=1.427772e-003; ng(n+1)=4.294428e+003;
n=3; farx(n+1)=1.664815e+003; foe(n+1)=5.697302e+002; krok(n+1)=2.463545e-004; ng(n+1)=6.122724e+003;
n=4; farx(n+1)=1.221321e+003; foe(n+1)=5.315186e+002; krok(n+1)=1.143778e-003; ng(n+1)=1.421520e+003;
n=5; farx(n+1)=8.971646e+002; foe(n+1)=4.454198e+002; krok(n+1)=1.053863e-002; ng(n+1)=8.328938e+002;
n=6; farx(n+1)=7.357723e+002; foe(n+1)=4.270886e+002; krok(n+1)=2.239224e-003; ng(n+1)=6.981452e+002;
n=7; farx(n+1)=6.817839e+002; foe(n+1)=4.191871e+002; krok(n+1)=7.005353e-005; ng(n+1)=4.477170e+003;
n=8; farx(n+1)=4.541775e+002; foe(n+1)=3.923876e+002; krok(n+1)=1.259664e-003; ng(n+1)=2.085228e+003;
n=9; farx(n+1)=2.097696e+002; foe(n+1)=3.424510e+002; krok(n+1)=9.938199e-004; ng(n+1)=2.171740e+003;
n=10; farx(n+1)=1.606399e+002; foe(n+1)=3.309974e+002; krok(n+1)=1.858107e-004; ng(n+1)=5.691733e+003;
n=11; farx(n+1)=1.382985e+002; foe(n+1)=2.942983e+002; krok(n+1)=1.178411e-002; ng(n+1)=6.985732e+003;
n=12; farx(n+1)=1.410230e+002; foe(n+1)=2.908787e+002; krok(n+1)=2.714211e-004; ng(n+1)=2.515552e+003;
n=13; farx(n+1)=1.503960e+002; foe(n+1)=2.749039e+002; krok(n+1)=3.514634e-003; ng(n+1)=1.656372e+003;
n=14; farx(n+1)=1.643172e+002; foe(n+1)=2.623951e+002; krok(n+1)=3.806601e-003; ng(n+1)=9.566130e+002;
n=15; farx(n+1)=1.724866e+002; foe(n+1)=2.536448e+002; krok(n+1)=2.774090e-003; ng(n+1)=1.115044e+003;
n=16; farx(n+1)=1.737243e+002; foe(n+1)=2.446882e+002; krok(n+1)=7.191611e-003; ng(n+1)=8.667804e+002;
n=17; farx(n+1)=1.023888e+002; foe(n+1)=2.124367e+002; krok(n+1)=4.087375e-003; ng(n+1)=7.407042e+002;
n=18; farx(n+1)=7.600297e+001; foe(n+1)=1.837117e+002; krok(n+1)=1.118062e-003; ng(n+1)=1.389497e+003;
n=19; farx(n+1)=7.602683e+001; foe(n+1)=1.833409e+002; krok(n+1)=1.194000e-005; ng(n+1)=1.921671e+003;
n=20; farx(n+1)=7.190408e+001; foe(n+1)=1.818965e+002; krok(n+1)=1.320637e-003; ng(n+1)=2.017375e+003;
n=21; farx(n+1)=7.803722e+001; foe(n+1)=1.801145e+002; krok(n+1)=2.093764e-003; ng(n+1)=2.552191e+003;
n=22; farx(n+1)=8.368660e+001; foe(n+1)=1.748982e+002; krok(n+1)=1.478815e-003; ng(n+1)=2.221595e+003;
n=23; farx(n+1)=9.496323e+001; foe(n+1)=1.698877e+002; krok(n+1)=1.758026e-003; ng(n+1)=2.745689e+003;
n=24; farx(n+1)=9.358800e+001; foe(n+1)=1.659051e+002; krok(n+1)=1.779752e-003; ng(n+1)=3.164396e+003;
n=25; farx(n+1)=4.926737e+001; foe(n+1)=1.041167e+002; krok(n+1)=8.076024e-003; ng(n+1)=5.032310e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.416371e+001; foe(n+1)=1.006230e+002; krok(n+1)=2.746916e-005; ng(n+1)=1.863394e+003;
n=27; farx(n+1)=3.491077e+001; foe(n+1)=7.617731e+001; krok(n+1)=1.032442e-004; ng(n+1)=1.864176e+003;
n=28; farx(n+1)=2.857970e+001; foe(n+1)=6.620326e+001; krok(n+1)=1.273916e-003; ng(n+1)=1.300736e+003;
n=29; farx(n+1)=2.739303e+001; foe(n+1)=6.472787e+001; krok(n+1)=2.817596e-004; ng(n+1)=3.201190e+003;
n=30; farx(n+1)=2.345121e+001; foe(n+1)=5.719162e+001; krok(n+1)=6.946998e-004; ng(n+1)=3.763462e+003;
n=31; farx(n+1)=1.545273e+001; foe(n+1)=4.430961e+001; krok(n+1)=2.020100e-003; ng(n+1)=5.336416e+002;
n=32; farx(n+1)=1.365718e+001; foe(n+1)=3.848486e+001; krok(n+1)=1.812955e-003; ng(n+1)=9.555627e+002;
n=33; farx(n+1)=1.278167e+001; foe(n+1)=3.503097e+001; krok(n+1)=7.589753e-004; ng(n+1)=1.985261e+003;
n=34; farx(n+1)=1.026729e+001; foe(n+1)=2.910117e+001; krok(n+1)=1.995393e-003; ng(n+1)=1.070098e+003;
n=35; farx(n+1)=1.000748e+001; foe(n+1)=2.793352e+001; krok(n+1)=8.695337e-004; ng(n+1)=5.361149e+002;
n=36; farx(n+1)=9.878778e+000; foe(n+1)=2.512234e+001; krok(n+1)=8.099144e-003; ng(n+1)=7.897418e+002;
n=37; farx(n+1)=9.242036e+000; foe(n+1)=2.278136e+001; krok(n+1)=4.809146e-003; ng(n+1)=6.206927e+002;
n=38; farx(n+1)=7.163068e+000; foe(n+1)=1.616878e+001; krok(n+1)=1.370811e-002; ng(n+1)=6.117646e+002;
n=39; farx(n+1)=6.498787e+000; foe(n+1)=1.388846e+001; krok(n+1)=2.286608e-003; ng(n+1)=1.346334e+003;
n=40; farx(n+1)=6.062893e+000; foe(n+1)=1.239237e+001; krok(n+1)=2.019005e-003; ng(n+1)=6.194386e+002;
n=41; farx(n+1)=5.247771e+000; foe(n+1)=9.970119e+000; krok(n+1)=9.661282e-003; ng(n+1)=5.888543e+002;
n=42; farx(n+1)=4.824795e+000; foe(n+1)=9.310807e+000; krok(n+1)=1.050273e-003; ng(n+1)=8.031876e+002;
n=43; farx(n+1)=4.204910e+000; foe(n+1)=8.135779e+000; krok(n+1)=1.923658e-002; ng(n+1)=8.137849e+002;
n=44; farx(n+1)=3.910797e+000; foe(n+1)=7.856905e+000; krok(n+1)=4.213325e-003; ng(n+1)=3.818092e+002;
n=45; farx(n+1)=3.570807e+000; foe(n+1)=7.492448e+000; krok(n+1)=1.975828e-002; ng(n+1)=3.636870e+002;
n=46; farx(n+1)=3.258622e+000; foe(n+1)=6.937547e+000; krok(n+1)=1.517118e-002; ng(n+1)=1.525100e+002;
n=47; farx(n+1)=2.911700e+000; foe(n+1)=6.461608e+000; krok(n+1)=2.219272e-002; ng(n+1)=1.555859e+002;
n=48; farx(n+1)=2.749005e+000; foe(n+1)=6.237212e+000; krok(n+1)=9.335866e-003; ng(n+1)=3.474695e+002;
n=49; farx(n+1)=2.588796e+000; foe(n+1)=5.870928e+000; krok(n+1)=1.370811e-002; ng(n+1)=4.978540e+002;
n=50; farx(n+1)=2.365825e+000; foe(n+1)=5.446543e+000; krok(n+1)=4.663470e-002; ng(n+1)=5.499484e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=2.376227e+000; foe(n+1)=5.336191e+000; krok(n+1)=8.423638e-006; ng(n+1)=4.720312e+002;
n=52; farx(n+1)=2.372345e+000; foe(n+1)=5.300242e+000; krok(n+1)=1.943349e-005; ng(n+1)=2.268951e+002;
n=53; farx(n+1)=2.346311e+000; foe(n+1)=5.209416e+000; krok(n+1)=2.695199e-004; ng(n+1)=9.925045e+001;
n=54; farx(n+1)=2.339802e+000; foe(n+1)=5.184082e+000; krok(n+1)=6.543012e-005; ng(n+1)=9.109290e+001;
n=55; farx(n+1)=2.234213e+000; foe(n+1)=4.868567e+000; krok(n+1)=1.934289e-003; ng(n+1)=5.754827e+001;
n=56; farx(n+1)=2.168717e+000; foe(n+1)=4.635407e+000; krok(n+1)=7.251821e-003; ng(n+1)=1.444728e+002;
n=57; farx(n+1)=2.146074e+000; foe(n+1)=4.466312e+000; krok(n+1)=3.135616e-003; ng(n+1)=1.466740e+002;
n=58; farx(n+1)=2.228879e+000; foe(n+1)=4.123590e+000; krok(n+1)=4.221448e-003; ng(n+1)=1.706461e+002;
n=59; farx(n+1)=2.291463e+000; foe(n+1)=3.964091e+000; krok(n+1)=2.660052e-003; ng(n+1)=6.180662e+001;
n=60; farx(n+1)=2.297405e+000; foe(n+1)=3.769959e+000; krok(n+1)=3.657312e-003; ng(n+1)=3.225254e+002;
n=61; farx(n+1)=2.284712e+000; foe(n+1)=3.673205e+000; krok(n+1)=7.029269e-003; ng(n+1)=2.448012e+002;
n=62; farx(n+1)=2.275211e+000; foe(n+1)=3.552715e+000; krok(n+1)=5.945944e-003; ng(n+1)=8.973392e+001;
n=63; farx(n+1)=2.229941e+000; foe(n+1)=3.421870e+000; krok(n+1)=1.473291e-002; ng(n+1)=1.130114e+002;
n=64; farx(n+1)=2.217829e+000; foe(n+1)=3.390543e+000; krok(n+1)=2.488900e-003; ng(n+1)=1.832899e+002;
n=65; farx(n+1)=2.146916e+000; foe(n+1)=3.288285e+000; krok(n+1)=1.540867e-002; ng(n+1)=2.819401e+002;
n=66; farx(n+1)=1.885550e+000; foe(n+1)=3.037595e+000; krok(n+1)=3.366815e-002; ng(n+1)=5.517401e+002;
n=67; farx(n+1)=1.832537e+000; foe(n+1)=2.962118e+000; krok(n+1)=5.005537e-002; ng(n+1)=8.075058e+001;
n=68; farx(n+1)=1.746958e+000; foe(n+1)=2.863722e+000; krok(n+1)=2.107682e-002; ng(n+1)=1.817474e+002;
n=69; farx(n+1)=1.679606e+000; foe(n+1)=2.713266e+000; krok(n+1)=2.243330e-002; ng(n+1)=3.226158e+002;
n=70; farx(n+1)=1.649770e+000; foe(n+1)=2.574467e+000; krok(n+1)=1.640492e-002; ng(n+1)=3.720555e+002;
n=71; farx(n+1)=1.547804e+000; foe(n+1)=2.449658e+000; krok(n+1)=3.413297e-002; ng(n+1)=6.464460e+002;
n=72; farx(n+1)=1.482231e+000; foe(n+1)=2.316749e+000; krok(n+1)=3.394649e-002; ng(n+1)=4.318311e+002;
n=73; farx(n+1)=1.456847e+000; foe(n+1)=2.205782e+000; krok(n+1)=7.911036e-002; ng(n+1)=1.686640e+002;
n=74; farx(n+1)=1.459783e+000; foe(n+1)=2.119101e+000; krok(n+1)=4.446078e-002; ng(n+1)=3.200188e+002;
n=75; farx(n+1)=1.410346e+000; foe(n+1)=1.989570e+000; krok(n+1)=2.194150e-002; ng(n+1)=2.269913e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.409472e+000; foe(n+1)=1.973873e+000; krok(n+1)=2.332841e-006; ng(n+1)=3.847519e+002;
n=77; farx(n+1)=1.408395e+000; foe(n+1)=1.955924e+000; krok(n+1)=1.516372e-004; ng(n+1)=4.622609e+001;
n=78; farx(n+1)=1.408084e+000; foe(n+1)=1.947161e+000; krok(n+1)=1.115447e-005; ng(n+1)=1.240149e+002;
n=79; farx(n+1)=1.405741e+000; foe(n+1)=1.936444e+000; krok(n+1)=5.378493e-005; ng(n+1)=6.743877e+001;
n=80; farx(n+1)=1.402447e+000; foe(n+1)=1.915800e+000; krok(n+1)=2.443506e-004; ng(n+1)=4.806246e+001;
n=81; farx(n+1)=1.395331e+000; foe(n+1)=1.899352e+000; krok(n+1)=1.849454e-003; ng(n+1)=1.593897e+001;
n=82; farx(n+1)=1.392653e+000; foe(n+1)=1.884544e+000; krok(n+1)=1.495556e-003; ng(n+1)=1.934648e+001;
n=83; farx(n+1)=1.394036e+000; foe(n+1)=1.867187e+000; krok(n+1)=6.293742e-003; ng(n+1)=2.636180e+001;
n=84; farx(n+1)=1.358651e+000; foe(n+1)=1.837989e+000; krok(n+1)=1.725161e-002; ng(n+1)=6.572681e+001;
n=85; farx(n+1)=1.352988e+000; foe(n+1)=1.818563e+000; krok(n+1)=6.319511e-003; ng(n+1)=3.210228e+001;
n=86; farx(n+1)=1.343291e+000; foe(n+1)=1.778545e+000; krok(n+1)=1.210728e-002; ng(n+1)=3.231926e+002;
n=87; farx(n+1)=1.339563e+000; foe(n+1)=1.757369e+000; krok(n+1)=7.251821e-003; ng(n+1)=1.846761e+002;
n=88; farx(n+1)=1.348210e+000; foe(n+1)=1.729631e+000; krok(n+1)=1.683407e-002; ng(n+1)=2.592501e+002;
n=89; farx(n+1)=1.378696e+000; foe(n+1)=1.679362e+000; krok(n+1)=3.244437e-002; ng(n+1)=2.318165e+002;
n=90; farx(n+1)=1.368056e+000; foe(n+1)=1.660225e+000; krok(n+1)=5.699196e-003; ng(n+1)=2.135529e+002;
n=91; farx(n+1)=1.349243e+000; foe(n+1)=1.632472e+000; krok(n+1)=1.680696e-002; ng(n+1)=1.091980e+002;
n=92; farx(n+1)=1.327804e+000; foe(n+1)=1.604909e+000; krok(n+1)=9.659422e-003; ng(n+1)=3.014238e+002;
n=93; farx(n+1)=1.289187e+000; foe(n+1)=1.564063e+000; krok(n+1)=2.611507e-002; ng(n+1)=4.402698e+002;
n=94; farx(n+1)=1.284002e+000; foe(n+1)=1.499449e+000; krok(n+1)=5.466235e-002; ng(n+1)=4.484223e+002;
n=95; farx(n+1)=1.273744e+000; foe(n+1)=1.465841e+000; krok(n+1)=3.813366e-002; ng(n+1)=4.998692e+002;
n=96; farx(n+1)=1.259574e+000; foe(n+1)=1.420478e+000; krok(n+1)=1.258748e-002; ng(n+1)=5.670704e+002;
n=97; farx(n+1)=1.261639e+000; foe(n+1)=1.368006e+000; krok(n+1)=5.793922e-002; ng(n+1)=3.932629e+002;
n=98; farx(n+1)=1.279636e+000; foe(n+1)=1.311361e+000; krok(n+1)=7.815941e-002; ng(n+1)=2.698799e+002;
n=99; farx(n+1)=1.286098e+000; foe(n+1)=1.283544e+000; krok(n+1)=9.661282e-003; ng(n+1)=3.315973e+002;
n=100; farx(n+1)=1.303735e+000; foe(n+1)=1.268281e+000; krok(n+1)=4.194258e-002; ng(n+1)=6.487768e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
