%uczenie predyktora oe
clear all;
n=0; farx(n+1)=3.981227e+003; foe(n+1)=3.972057e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.853355e+003; foe(n+1)=2.773401e+003; krok(n+1)=5.465324e-004; ng(n+1)=4.012671e+003;
n=2; farx(n+1)=1.173703e+003; foe(n+1)=9.455975e+002; krok(n+1)=1.830478e-003; ng(n+1)=3.216172e+003;
n=3; farx(n+1)=1.420651e+003; foe(n+1)=5.712443e+002; krok(n+1)=2.104603e-004; ng(n+1)=7.920793e+003;
n=4; farx(n+1)=1.628244e+003; foe(n+1)=5.580407e+002; krok(n+1)=1.143304e-003; ng(n+1)=2.243157e+003;
n=5; farx(n+1)=1.405288e+003; foe(n+1)=5.007962e+002; krok(n+1)=5.177879e-003; ng(n+1)=6.505347e+002;
n=6; farx(n+1)=1.381743e+003; foe(n+1)=4.987815e+002; krok(n+1)=2.473449e-004; ng(n+1)=1.049280e+003;
n=7; farx(n+1)=7.725538e+002; foe(n+1)=4.371369e+002; krok(n+1)=4.926484e-003; ng(n+1)=1.098565e+003;
n=8; farx(n+1)=5.925902e+002; foe(n+1)=4.216024e+002; krok(n+1)=3.403614e-004; ng(n+1)=2.219276e+003;
n=9; farx(n+1)=2.773365e+002; foe(n+1)=3.705894e+002; krok(n+1)=1.812955e-003; ng(n+1)=2.132378e+003;
n=10; farx(n+1)=1.712990e+002; foe(n+1)=3.498979e+002; krok(n+1)=3.383827e-004; ng(n+1)=3.744073e+003;
n=11; farx(n+1)=1.483412e+002; foe(n+1)=3.438836e+002; krok(n+1)=8.002131e-004; ng(n+1)=5.219577e+003;
n=12; farx(n+1)=1.259248e+002; foe(n+1)=3.238373e+002; krok(n+1)=1.136630e-003; ng(n+1)=3.665172e+003;
n=13; farx(n+1)=1.242582e+002; foe(n+1)=3.011512e+002; krok(n+1)=2.252591e-003; ng(n+1)=2.615599e+003;
n=14; farx(n+1)=1.289227e+002; foe(n+1)=2.803118e+002; krok(n+1)=1.556794e-003; ng(n+1)=4.035845e+003;
n=15; farx(n+1)=1.307262e+002; foe(n+1)=2.654748e+002; krok(n+1)=2.039081e-004; ng(n+1)=5.738147e+003;
n=16; farx(n+1)=1.319122e+002; foe(n+1)=2.576318e+002; krok(n+1)=2.767368e-004; ng(n+1)=8.179360e+003;
n=17; farx(n+1)=1.358999e+002; foe(n+1)=2.548449e+002; krok(n+1)=7.625735e-004; ng(n+1)=5.011442e+003;
n=18; farx(n+1)=1.536763e+002; foe(n+1)=2.500058e+002; krok(n+1)=3.544455e-003; ng(n+1)=5.647789e+003;
n=19; farx(n+1)=1.534438e+002; foe(n+1)=2.449435e+002; krok(n+1)=2.186130e-003; ng(n+1)=1.738904e+003;
n=20; farx(n+1)=1.616065e+002; foe(n+1)=2.394007e+002; krok(n+1)=2.415320e-003; ng(n+1)=1.267259e+003;
n=21; farx(n+1)=1.679517e+002; foe(n+1)=2.314356e+002; krok(n+1)=3.503934e-003; ng(n+1)=4.605365e+003;
n=22; farx(n+1)=1.709711e+002; foe(n+1)=2.211614e+002; krok(n+1)=3.586133e-003; ng(n+1)=6.079781e+003;
n=23; farx(n+1)=1.680369e+002; foe(n+1)=2.141274e+002; krok(n+1)=7.409251e-003; ng(n+1)=6.580208e+003;
n=24; farx(n+1)=1.863641e+002; foe(n+1)=2.053111e+002; krok(n+1)=1.045775e-002; ng(n+1)=7.692749e+003;
n=25; farx(n+1)=1.713536e+002; foe(n+1)=1.929602e+002; krok(n+1)=2.476948e-002; ng(n+1)=4.392126e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.656580e+002; foe(n+1)=1.854201e+002; krok(n+1)=8.155065e-006; ng(n+1)=3.365231e+003;
n=27; farx(n+1)=1.626623e+002; foe(n+1)=1.717420e+002; krok(n+1)=1.351337e-004; ng(n+1)=1.138030e+003;
n=28; farx(n+1)=1.627260e+002; foe(n+1)=1.694447e+002; krok(n+1)=3.345851e-005; ng(n+1)=1.532683e+003;
n=29; farx(n+1)=1.313294e+002; foe(n+1)=1.448263e+002; krok(n+1)=5.157570e-004; ng(n+1)=3.160813e+003;
n=30; farx(n+1)=1.194551e+002; foe(n+1)=1.324740e+002; krok(n+1)=6.767654e-004; ng(n+1)=1.076900e+004;
n=31; farx(n+1)=9.539927e+001; foe(n+1)=1.157097e+002; krok(n+1)=1.409339e-003; ng(n+1)=7.738632e+003;
n=32; farx(n+1)=8.241054e+001; foe(n+1)=1.043198e+002; krok(n+1)=1.037690e-003; ng(n+1)=1.226093e+003;
n=33; farx(n+1)=6.373690e+001; foe(n+1)=9.354003e+001; krok(n+1)=1.889294e-003; ng(n+1)=1.350157e+003;
n=34; farx(n+1)=5.044206e+001; foe(n+1)=8.397384e+001; krok(n+1)=2.145173e-003; ng(n+1)=2.504959e+003;
n=35; farx(n+1)=5.151302e+001; foe(n+1)=7.359883e+001; krok(n+1)=3.136698e-003; ng(n+1)=1.565059e+003;
n=36; farx(n+1)=5.333314e+001; foe(n+1)=6.454579e+001; krok(n+1)=1.150185e-003; ng(n+1)=2.987843e+003;
n=37; farx(n+1)=5.884702e+001; foe(n+1)=5.590719e+001; krok(n+1)=1.841613e-003; ng(n+1)=1.309066e+003;
n=38; farx(n+1)=5.495506e+001; foe(n+1)=5.314318e+001; krok(n+1)=9.424758e-003; ng(n+1)=1.188843e+003;
n=39; farx(n+1)=5.252817e+001; foe(n+1)=5.176298e+001; krok(n+1)=6.718810e-003; ng(n+1)=1.197412e+003;
n=40; farx(n+1)=4.525856e+001; foe(n+1)=4.732279e+001; krok(n+1)=3.683227e-003; ng(n+1)=2.108589e+003;
n=41; farx(n+1)=4.375325e+001; foe(n+1)=4.539465e+001; krok(n+1)=4.669112e-003; ng(n+1)=1.158510e+003;
n=42; farx(n+1)=3.774907e+001; foe(n+1)=4.175816e+001; krok(n+1)=1.095618e-002; ng(n+1)=7.761826e+002;
n=43; farx(n+1)=3.368745e+001; foe(n+1)=3.836429e+001; krok(n+1)=1.021844e-003; ng(n+1)=6.229681e+002;
n=44; farx(n+1)=3.267484e+001; foe(n+1)=3.734183e+001; krok(n+1)=4.916421e-003; ng(n+1)=5.912193e+002;
n=45; farx(n+1)=2.392478e+001; foe(n+1)=3.466368e+001; krok(n+1)=5.266571e-002; ng(n+1)=9.771629e+002;
n=46; farx(n+1)=2.273550e+001; foe(n+1)=3.248596e+001; krok(n+1)=2.672451e-002; ng(n+1)=1.465572e+003;
n=47; farx(n+1)=2.081139e+001; foe(n+1)=3.111785e+001; krok(n+1)=9.240905e-003; ng(n+1)=4.773507e+002;
n=48; farx(n+1)=1.562930e+001; foe(n+1)=2.938886e+001; krok(n+1)=3.550424e-002; ng(n+1)=7.705159e+002;
n=49; farx(n+1)=1.343077e+001; foe(n+1)=2.834738e+001; krok(n+1)=1.899071e-002; ng(n+1)=1.117137e+003;
n=50; farx(n+1)=1.266415e+001; foe(n+1)=2.716566e+001; krok(n+1)=5.918252e-002; ng(n+1)=5.304344e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=1.242624e+001; foe(n+1)=2.625108e+001; krok(n+1)=1.009346e-005; ng(n+1)=1.218282e+003;
n=52; farx(n+1)=1.181141e+001; foe(n+1)=2.588971e+001; krok(n+1)=2.734728e-004; ng(n+1)=1.743662e+002;
n=53; farx(n+1)=1.207554e+001; foe(n+1)=2.506282e+001; krok(n+1)=5.234410e-004; ng(n+1)=1.632444e+002;
n=54; farx(n+1)=1.320009e+001; foe(n+1)=2.296225e+001; krok(n+1)=8.446781e-004; ng(n+1)=2.201864e+002;
n=55; farx(n+1)=1.548966e+001; foe(n+1)=2.022496e+001; krok(n+1)=7.585473e-003; ng(n+1)=6.068364e+002;
n=56; farx(n+1)=1.625299e+001; foe(n+1)=1.917940e+001; krok(n+1)=3.715831e-003; ng(n+1)=5.743242e+002;
n=57; farx(n+1)=1.483011e+001; foe(n+1)=1.754618e+001; krok(n+1)=1.069268e-002; ng(n+1)=3.030596e+002;
n=58; farx(n+1)=1.317258e+001; foe(n+1)=1.579036e+001; krok(n+1)=4.290347e-003; ng(n+1)=4.850965e+002;
n=59; farx(n+1)=1.150446e+001; foe(n+1)=1.467518e+001; krok(n+1)=5.320104e-003; ng(n+1)=1.205146e+003;
n=60; farx(n+1)=1.114800e+001; foe(n+1)=1.382708e+001; krok(n+1)=8.029022e-003; ng(n+1)=1.388552e+003;
n=61; farx(n+1)=1.070000e+001; foe(n+1)=1.318676e+001; krok(n+1)=1.651654e-003; ng(n+1)=5.398361e+002;
n=62; farx(n+1)=1.009157e+001; foe(n+1)=1.277211e+001; krok(n+1)=1.059400e-002; ng(n+1)=3.178027e+002;
n=63; farx(n+1)=9.686394e+000; foe(n+1)=1.222645e+001; krok(n+1)=1.748904e-002; ng(n+1)=1.590284e+002;
n=64; farx(n+1)=8.048411e+000; foe(n+1)=1.142312e+001; krok(n+1)=2.024365e-002; ng(n+1)=4.083688e+002;
n=65; farx(n+1)=7.311244e+000; foe(n+1)=1.106509e+001; krok(n+1)=7.835038e-003; ng(n+1)=2.193601e+002;
n=66; farx(n+1)=6.871001e+000; foe(n+1)=1.036003e+001; krok(n+1)=2.107682e-002; ng(n+1)=5.310598e+002;
n=67; farx(n+1)=6.499248e+000; foe(n+1)=1.011343e+001; krok(n+1)=3.176507e-003; ng(n+1)=1.924126e+002;
n=68; farx(n+1)=6.217425e+000; foe(n+1)=9.940343e+000; krok(n+1)=8.471180e-003; ng(n+1)=2.307937e+002;
n=69; farx(n+1)=5.881980e+000; foe(n+1)=9.651132e+000; krok(n+1)=9.466059e-003; ng(n+1)=2.047105e+002;
n=70; farx(n+1)=5.356199e+000; foe(n+1)=9.213031e+000; krok(n+1)=6.414287e-002; ng(n+1)=2.234056e+002;
n=71; farx(n+1)=5.231007e+000; foe(n+1)=8.757729e+000; krok(n+1)=3.798141e-002; ng(n+1)=2.698643e+002;
n=72; farx(n+1)=4.624263e+000; foe(n+1)=7.889663e+000; krok(n+1)=5.908701e-002; ng(n+1)=4.134843e+002;
n=73; farx(n+1)=4.417953e+000; foe(n+1)=7.613236e+000; krok(n+1)=3.663180e-002; ng(n+1)=4.144094e+002;
n=74; farx(n+1)=4.055410e+000; foe(n+1)=7.152886e+000; krok(n+1)=8.100548e-002; ng(n+1)=3.867597e+002;
n=75; farx(n+1)=3.775675e+000; foe(n+1)=6.890388e+000; krok(n+1)=2.069473e-002; ng(n+1)=2.623180e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=3.740610e+000; foe(n+1)=6.781982e+000; krok(n+1)=9.772716e-006; ng(n+1)=3.599682e+002;
n=77; farx(n+1)=3.661380e+000; foe(n+1)=6.673545e+000; krok(n+1)=2.689247e-005; ng(n+1)=2.415966e+002;
n=78; farx(n+1)=3.637445e+000; foe(n+1)=6.516180e+000; krok(n+1)=6.328553e-004; ng(n+1)=6.133916e+001;
n=79; farx(n+1)=3.655754e+000; foe(n+1)=6.275662e+000; krok(n+1)=2.548531e-004; ng(n+1)=1.281138e+002;
n=80; farx(n+1)=3.653047e+000; foe(n+1)=6.122954e+000; krok(n+1)=4.674043e-003; ng(n+1)=3.080463e+001;
n=81; farx(n+1)=3.550000e+000; foe(n+1)=5.886894e+000; krok(n+1)=3.050294e-003; ng(n+1)=1.009744e+002;
n=82; farx(n+1)=3.388862e+000; foe(n+1)=5.699662e+000; krok(n+1)=6.669234e-003; ng(n+1)=1.258665e+002;
n=83; farx(n+1)=3.246422e+000; foe(n+1)=5.579747e+000; krok(n+1)=8.855578e-003; ng(n+1)=2.976856e+002;
n=84; farx(n+1)=3.051730e+000; foe(n+1)=5.401383e+000; krok(n+1)=1.450364e-002; ng(n+1)=3.170046e+002;
n=85; farx(n+1)=2.968203e+000; foe(n+1)=5.308259e+000; krok(n+1)=2.300371e-003; ng(n+1)=3.962097e+002;
n=86; farx(n+1)=2.904112e+000; foe(n+1)=5.193689e+000; krok(n+1)=1.748904e-002; ng(n+1)=1.216314e+002;
n=87; farx(n+1)=2.897435e+000; foe(n+1)=5.141361e+000; krok(n+1)=1.064021e-002; ng(n+1)=1.942678e+002;
n=88; farx(n+1)=2.711935e+000; foe(n+1)=4.897243e+000; krok(n+1)=2.142882e-002; ng(n+1)=3.191010e+002;
n=89; farx(n+1)=2.650869e+000; foe(n+1)=4.844983e+000; krok(n+1)=6.314847e-003; ng(n+1)=1.386758e+002;
n=90; farx(n+1)=2.611153e+000; foe(n+1)=4.744925e+000; krok(n+1)=2.085811e-002; ng(n+1)=1.731154e+002;
n=91; farx(n+1)=2.625134e+000; foe(n+1)=4.631471e+000; krok(n+1)=5.411858e-002; ng(n+1)=1.647864e+002;
n=92; farx(n+1)=2.761291e+000; foe(n+1)=4.492874e+000; krok(n+1)=1.778972e-002; ng(n+1)=2.052820e+002;
n=93; farx(n+1)=2.759406e+000; foe(n+1)=4.424040e+000; krok(n+1)=1.477175e-002; ng(n+1)=2.555952e+002;
n=94; farx(n+1)=2.580806e+000; foe(n+1)=4.314174e+000; krok(n+1)=2.963700e-002; ng(n+1)=1.887669e+002;
n=95; farx(n+1)=2.484427e+000; foe(n+1)=4.057853e+000; krok(n+1)=8.616836e-002; ng(n+1)=2.141075e+002;
n=96; farx(n+1)=2.424402e+000; foe(n+1)=3.836113e+000; krok(n+1)=3.450322e-002; ng(n+1)=2.084155e+002;
n=97; farx(n+1)=2.331506e+000; foe(n+1)=3.739860e+000; krok(n+1)=6.208155e-002; ng(n+1)=1.814998e+002;
n=98; farx(n+1)=2.327016e+000; foe(n+1)=3.702907e+000; krok(n+1)=2.643052e-002; ng(n+1)=1.653755e+002;
n=99; farx(n+1)=2.252126e+000; foe(n+1)=3.608745e+000; krok(n+1)=9.228634e-002; ng(n+1)=2.185447e+002;
n=100; farx(n+1)=2.254998e+000; foe(n+1)=3.548471e+000; krok(n+1)=4.486659e-002; ng(n+1)=1.343499e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
