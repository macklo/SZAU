%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.744965e+003; foe(n+1)=4.718399e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.591347e+003; foe(n+1)=3.604351e+003; krok(n+1)=3.684136e-004; ng(n+1)=4.421862e+003;
n=2; farx(n+1)=1.157566e+003; foe(n+1)=1.163683e+003; krok(n+1)=1.130654e-003; ng(n+1)=4.220512e+003;
n=3; farx(n+1)=1.377774e+003; foe(n+1)=8.393451e+002; krok(n+1)=2.176111e-004; ng(n+1)=6.859777e+003;
n=4; farx(n+1)=1.528011e+003; foe(n+1)=7.848198e+002; krok(n+1)=1.520298e-003; ng(n+1)=2.736009e+003;
n=5; farx(n+1)=1.059931e+003; foe(n+1)=7.123678e+002; krok(n+1)=1.882699e-003; ng(n+1)=9.534923e+002;
n=6; farx(n+1)=2.954311e+002; foe(n+1)=3.957685e+002; krok(n+1)=3.868579e-003; ng(n+1)=2.460246e+003;
n=7; farx(n+1)=2.760626e+002; foe(n+1)=3.848009e+002; krok(n+1)=1.007341e-004; ng(n+1)=2.444861e+003;
n=8; farx(n+1)=2.528413e+002; foe(n+1)=3.690077e+002; krok(n+1)=3.818612e-003; ng(n+1)=2.236699e+003;
n=9; farx(n+1)=2.576844e+002; foe(n+1)=3.602733e+002; krok(n+1)=1.229105e-003; ng(n+1)=2.056273e+003;
n=10; farx(n+1)=2.560673e+002; foe(n+1)=3.585061e+002; krok(n+1)=1.020148e-003; ng(n+1)=1.034497e+003;
n=11; farx(n+1)=2.604822e+002; foe(n+1)=3.527145e+002; krok(n+1)=4.302964e-004; ng(n+1)=1.063003e+003;
n=12; farx(n+1)=1.927416e+002; foe(n+1)=3.372128e+002; krok(n+1)=6.893113e-003; ng(n+1)=3.839283e+002;
n=13; farx(n+1)=1.226995e+002; foe(n+1)=3.061943e+002; krok(n+1)=2.371549e-003; ng(n+1)=2.100787e+003;
n=14; farx(n+1)=9.596081e+001; foe(n+1)=2.887851e+002; krok(n+1)=2.796501e-004; ng(n+1)=3.948143e+003;
n=15; farx(n+1)=7.886557e+001; foe(n+1)=2.780097e+002; krok(n+1)=5.295816e-004; ng(n+1)=7.706693e+003;
n=16; farx(n+1)=6.902891e+001; foe(n+1)=2.718519e+002; krok(n+1)=8.006062e-004; ng(n+1)=1.142682e+004;
n=17; farx(n+1)=7.154689e+001; foe(n+1)=2.612030e+002; krok(n+1)=4.356664e-004; ng(n+1)=1.837290e+004;
n=18; farx(n+1)=7.473898e+001; foe(n+1)=2.564857e+002; krok(n+1)=3.551278e-004; ng(n+1)=2.025536e+004;
n=19; farx(n+1)=8.336297e+001; foe(n+1)=2.315041e+002; krok(n+1)=4.419773e-003; ng(n+1)=2.172990e+004;
n=20; farx(n+1)=8.863220e+001; foe(n+1)=2.270986e+002; krok(n+1)=8.683747e-005; ng(n+1)=1.092717e+004;
n=21; farx(n+1)=7.238307e+001; foe(n+1)=2.117649e+002; krok(n+1)=7.737158e-003; ng(n+1)=8.337878e+003;
n=22; farx(n+1)=5.611031e+001; foe(n+1)=1.962745e+002; krok(n+1)=1.389400e-003; ng(n+1)=5.142086e+003;
n=23; farx(n+1)=5.224406e+001; foe(n+1)=1.866683e+002; krok(n+1)=1.265228e-003; ng(n+1)=3.757303e+003;
n=24; farx(n+1)=5.503041e+001; foe(n+1)=1.734268e+002; krok(n+1)=2.774090e-003; ng(n+1)=2.292128e+003;
n=25; farx(n+1)=5.852115e+001; foe(n+1)=1.702146e+002; krok(n+1)=2.973498e-003; ng(n+1)=2.648901e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=5.321856e+001; foe(n+1)=1.621993e+002; krok(n+1)=9.263868e-006; ng(n+1)=4.356356e+003;
n=27; farx(n+1)=4.410368e+001; foe(n+1)=1.502823e+002; krok(n+1)=1.602043e-005; ng(n+1)=2.946783e+003;
n=28; farx(n+1)=4.646938e+001; foe(n+1)=1.327463e+002; krok(n+1)=7.813213e-005; ng(n+1)=1.838857e+003;
n=29; farx(n+1)=3.533307e+001; foe(n+1)=8.647058e+001; krok(n+1)=9.696269e-004; ng(n+1)=1.193968e+003;
n=30; farx(n+1)=1.163080e+001; foe(n+1)=3.809744e+001; krok(n+1)=1.242369e-003; ng(n+1)=5.978762e+003;
n=31; farx(n+1)=1.193053e+001; foe(n+1)=2.852178e+001; krok(n+1)=3.127269e-004; ng(n+1)=5.281222e+003;
n=32; farx(n+1)=1.157273e+001; foe(n+1)=2.552071e+001; krok(n+1)=3.761980e-004; ng(n+1)=1.583112e+003;
n=33; farx(n+1)=1.164329e+001; foe(n+1)=2.282185e+001; krok(n+1)=2.509069e-004; ng(n+1)=1.148074e+003;
n=34; farx(n+1)=1.165507e+001; foe(n+1)=2.165562e+001; krok(n+1)=1.207660e-003; ng(n+1)=8.913937e+002;
n=35; farx(n+1)=1.143265e+001; foe(n+1)=2.087924e+001; krok(n+1)=1.745241e-003; ng(n+1)=3.105260e+002;
n=36; farx(n+1)=1.086271e+001; foe(n+1)=2.016444e+001; krok(n+1)=2.778799e-003; ng(n+1)=5.573315e+002;
n=37; farx(n+1)=9.241030e+000; foe(n+1)=1.809618e+001; krok(n+1)=2.247173e-003; ng(n+1)=1.061673e+003;
n=38; farx(n+1)=8.247722e+000; foe(n+1)=1.656635e+001; krok(n+1)=7.585588e-003; ng(n+1)=3.704216e+002;
n=39; farx(n+1)=8.020611e+000; foe(n+1)=1.594608e+001; krok(n+1)=4.633174e-003; ng(n+1)=7.952333e+002;
n=40; farx(n+1)=7.449353e+000; foe(n+1)=1.441012e+001; krok(n+1)=1.000091e-002; ng(n+1)=1.203249e+003;
n=41; farx(n+1)=6.746509e+000; foe(n+1)=1.290240e+001; krok(n+1)=6.884742e-003; ng(n+1)=7.419366e+002;
n=42; farx(n+1)=6.745420e+000; foe(n+1)=1.240714e+001; krok(n+1)=1.213054e-002; ng(n+1)=3.683850e+002;
n=43; farx(n+1)=6.641125e+000; foe(n+1)=1.220651e+001; krok(n+1)=3.722051e-003; ng(n+1)=1.650524e+002;
n=44; farx(n+1)=6.340923e+000; foe(n+1)=1.178648e+001; krok(n+1)=1.129495e-002; ng(n+1)=3.814836e+002;
n=45; farx(n+1)=6.039500e+000; foe(n+1)=1.131422e+001; krok(n+1)=2.521242e-002; ng(n+1)=2.933626e+002;
n=46; farx(n+1)=5.619735e+000; foe(n+1)=1.062407e+001; krok(n+1)=5.983917e-002; ng(n+1)=4.656583e+002;
n=47; farx(n+1)=5.160988e+000; foe(n+1)=1.011151e+001; krok(n+1)=4.703530e-002; ng(n+1)=2.976080e+002;
n=48; farx(n+1)=4.929189e+000; foe(n+1)=9.596162e+000; krok(n+1)=1.321526e-002; ng(n+1)=4.465774e+002;
n=49; farx(n+1)=4.194226e+000; foe(n+1)=9.006258e+000; krok(n+1)=4.633705e-002; ng(n+1)=6.579280e+002;
n=50; farx(n+1)=3.612409e+000; foe(n+1)=8.322670e+000; krok(n+1)=4.502187e-002; ng(n+1)=6.084619e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.594661e+000; foe(n+1)=8.206651e+000; krok(n+1)=6.541132e-006; ng(n+1)=5.938008e+002;
n=52; farx(n+1)=3.546306e+000; foe(n+1)=8.100498e+000; krok(n+1)=3.386439e-005; ng(n+1)=2.436352e+002;
n=53; farx(n+1)=3.516701e+000; foe(n+1)=8.018713e+000; krok(n+1)=4.963293e-005; ng(n+1)=1.760993e+002;
n=54; farx(n+1)=3.471645e+000; foe(n+1)=7.872899e+000; krok(n+1)=3.909578e-004; ng(n+1)=9.075823e+001;
n=55; farx(n+1)=3.372905e+000; foe(n+1)=7.668107e+000; krok(n+1)=1.758026e-003; ng(n+1)=7.022017e+001;
n=56; farx(n+1)=3.278064e+000; foe(n+1)=7.376697e+000; krok(n+1)=1.193235e-003; ng(n+1)=1.220801e+002;
n=57; farx(n+1)=3.114829e+000; foe(n+1)=7.030440e+000; krok(n+1)=4.738412e-003; ng(n+1)=3.007643e+002;
n=58; farx(n+1)=3.052720e+000; foe(n+1)=6.786529e+000; krok(n+1)=3.065383e-003; ng(n+1)=3.423848e+002;
n=59; farx(n+1)=2.949226e+000; foe(n+1)=6.641924e+000; krok(n+1)=3.272337e-003; ng(n+1)=3.243082e+002;
n=60; farx(n+1)=2.861315e+000; foe(n+1)=6.476696e+000; krok(n+1)=5.186798e-003; ng(n+1)=2.925850e+002;
n=61; farx(n+1)=2.604558e+000; foe(n+1)=6.085988e+000; krok(n+1)=7.088910e-003; ng(n+1)=5.541617e+002;
n=62; farx(n+1)=2.541377e+000; foe(n+1)=6.018764e+000; krok(n+1)=1.271814e-003; ng(n+1)=3.236179e+002;
n=63; farx(n+1)=2.407977e+000; foe(n+1)=5.715161e+000; krok(n+1)=8.647968e-003; ng(n+1)=3.229352e+002;
n=64; farx(n+1)=2.362130e+000; foe(n+1)=5.610902e+000; krok(n+1)=2.186130e-003; ng(n+1)=2.761299e+002;
n=65; farx(n+1)=2.100483e+000; foe(n+1)=5.344586e+000; krok(n+1)=1.660195e-002; ng(n+1)=4.290139e+002;
n=66; farx(n+1)=1.864368e+000; foe(n+1)=5.095871e+000; krok(n+1)=1.165759e-002; ng(n+1)=4.541721e+002;
n=67; farx(n+1)=1.761969e+000; foe(n+1)=4.820537e+000; krok(n+1)=1.109636e-002; ng(n+1)=6.228291e+002;
n=68; farx(n+1)=1.717748e+000; foe(n+1)=4.717468e+000; krok(n+1)=1.301252e-002; ng(n+1)=6.550637e+002;
n=69; farx(n+1)=1.604271e+000; foe(n+1)=4.626102e+000; krok(n+1)=2.331518e-002; ng(n+1)=5.061976e+002;
n=70; farx(n+1)=1.493320e+000; foe(n+1)=4.453961e+000; krok(n+1)=3.863769e-002; ng(n+1)=5.131000e+002;
n=71; farx(n+1)=1.441044e+000; foe(n+1)=4.322898e+000; krok(n+1)=3.557944e-002; ng(n+1)=5.478786e+002;
n=72; farx(n+1)=1.250303e+000; foe(n+1)=3.934118e+000; krok(n+1)=4.382471e-002; ng(n+1)=3.647538e+002;
n=73; farx(n+1)=1.142842e+000; foe(n+1)=3.723161e+000; krok(n+1)=3.979978e-002; ng(n+1)=1.802934e+002;
n=74; farx(n+1)=1.095581e+000; foe(n+1)=3.563369e+000; krok(n+1)=9.137743e-002; ng(n+1)=2.491159e+002;
n=75; farx(n+1)=1.038884e+000; foe(n+1)=3.350116e+000; krok(n+1)=1.115271e-001; ng(n+1)=9.228326e+001;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.040529e+000; foe(n+1)=3.339672e+000; krok(n+1)=3.164227e-006; ng(n+1)=2.520114e+002;
n=77; farx(n+1)=1.040401e+000; foe(n+1)=3.332546e+000; krok(n+1)=1.197513e-005; ng(n+1)=9.553656e+001;
n=78; farx(n+1)=1.027920e+000; foe(n+1)=3.300596e+000; krok(n+1)=1.691914e-004; ng(n+1)=5.904823e+001;
n=79; farx(n+1)=1.028879e+000; foe(n+1)=3.248822e+000; krok(n+1)=1.543615e-004; ng(n+1)=8.750364e+001;
n=80; farx(n+1)=1.020075e+000; foe(n+1)=3.215604e+000; krok(n+1)=6.603743e-004; ng(n+1)=4.514254e+001;
n=81; farx(n+1)=1.023447e+000; foe(n+1)=3.190572e+000; krok(n+1)=5.911814e-004; ng(n+1)=4.955488e+001;
n=82; farx(n+1)=1.038126e+000; foe(n+1)=3.142261e+000; krok(n+1)=1.104943e-003; ng(n+1)=5.131971e+001;
n=83; farx(n+1)=1.034924e+000; foe(n+1)=3.071964e+000; krok(n+1)=4.372259e-003; ng(n+1)=7.642299e+001;
n=84; farx(n+1)=1.018779e+000; foe(n+1)=3.033708e+000; krok(n+1)=4.608763e-003; ng(n+1)=1.882876e+002;
n=85; farx(n+1)=1.011973e+000; foe(n+1)=2.982248e+000; krok(n+1)=8.085176e-003; ng(n+1)=4.546888e+002;
n=86; farx(n+1)=9.628869e-001; foe(n+1)=2.883176e+000; krok(n+1)=1.897240e-002; ng(n+1)=5.049682e+002;
n=87; farx(n+1)=9.374815e-001; foe(n+1)=2.819985e+000; krok(n+1)=1.448480e-002; ng(n+1)=3.315477e+002;
n=88; farx(n+1)=9.205626e-001; foe(n+1)=2.757522e+000; krok(n+1)=3.766673e-002; ng(n+1)=3.677785e+002;
n=89; farx(n+1)=9.250522e-001; foe(n+1)=2.696009e+000; krok(n+1)=4.616585e-002; ng(n+1)=2.910511e+002;
n=90; farx(n+1)=9.914380e-001; foe(n+1)=2.625323e+000; krok(n+1)=2.667694e-002; ng(n+1)=4.792250e+002;
n=91; farx(n+1)=1.006485e+000; foe(n+1)=2.587251e+000; krok(n+1)=2.452306e-002; ng(n+1)=1.066780e+002;
n=92; farx(n+1)=1.004969e+000; foe(n+1)=2.562272e+000; krok(n+1)=3.703353e-002; ng(n+1)=6.580120e+001;
n=93; farx(n+1)=9.920864e-001; foe(n+1)=2.505984e+000; krok(n+1)=5.214880e-002; ng(n+1)=2.697966e+002;
n=94; farx(n+1)=1.007567e+000; foe(n+1)=2.445519e+000; krok(n+1)=2.667694e-002; ng(n+1)=2.360828e+002;
n=95; farx(n+1)=1.013271e+000; foe(n+1)=2.415699e+000; krok(n+1)=2.753897e-002; ng(n+1)=1.292303e+002;
n=96; farx(n+1)=1.033665e+000; foe(n+1)=2.383302e+000; krok(n+1)=2.610023e-002; ng(n+1)=2.630356e+002;
n=97; farx(n+1)=1.062780e+000; foe(n+1)=2.305065e+000; krok(n+1)=8.509079e-002; ng(n+1)=1.835387e+002;
n=98; farx(n+1)=1.007532e+000; foe(n+1)=2.239117e+000; krok(n+1)=3.863769e-002; ng(n+1)=1.837847e+002;
n=99; farx(n+1)=9.283133e-001; foe(n+1)=2.159383e+000; krok(n+1)=1.111619e-001; ng(n+1)=2.193819e+002;
n=100; farx(n+1)=8.359238e-001; foe(n+1)=2.080835e+000; krok(n+1)=8.057849e-002; ng(n+1)=1.867625e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
