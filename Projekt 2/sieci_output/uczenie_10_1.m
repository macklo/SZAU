%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.214505e+003; foe(n+1)=4.361994e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=2.433148e+003; foe(n+1)=2.586564e+003; krok(n+1)=4.740993e-004; ng(n+1)=5.840100e+003;
n=2; farx(n+1)=1.057104e+003; foe(n+1)=1.064144e+003; krok(n+1)=1.155113e-003; ng(n+1)=4.963857e+003;
n=3; farx(n+1)=1.391328e+003; foe(n+1)=5.590989e+002; krok(n+1)=2.302017e-004; ng(n+1)=1.088443e+004;
n=4; farx(n+1)=1.499036e+003; foe(n+1)=5.392160e+002; krok(n+1)=3.846158e-003; ng(n+1)=1.617299e+003;
n=5; farx(n+1)=1.237336e+003; foe(n+1)=5.006761e+002; krok(n+1)=1.554197e-003; ng(n+1)=9.077713e+002;
n=6; farx(n+1)=1.100721e+003; foe(n+1)=4.912118e+002; krok(n+1)=1.564230e-003; ng(n+1)=1.308723e+003;
n=7; farx(n+1)=6.653967e+002; foe(n+1)=4.476713e+002; krok(n+1)=7.010487e-004; ng(n+1)=3.645046e+003;
n=8; farx(n+1)=2.468444e+002; foe(n+1)=3.991612e+002; krok(n+1)=8.726203e-004; ng(n+1)=3.992680e+003;
n=9; farx(n+1)=1.910637e+002; foe(n+1)=3.831394e+002; krok(n+1)=2.215284e-004; ng(n+1)=9.592289e+003;
n=10; farx(n+1)=1.784232e+002; foe(n+1)=3.801367e+002; krok(n+1)=2.419195e-004; ng(n+1)=1.029741e+004;
n=11; farx(n+1)=1.797091e+002; foe(n+1)=3.748628e+002; krok(n+1)=1.291963e-003; ng(n+1)=1.122552e+004;
n=12; farx(n+1)=1.807987e+002; foe(n+1)=3.711323e+002; krok(n+1)=5.939298e-004; ng(n+1)=9.188918e+003;
n=13; farx(n+1)=1.437374e+002; foe(n+1)=3.316498e+002; krok(n+1)=6.970444e-003; ng(n+1)=6.738654e+003;
n=14; farx(n+1)=1.322145e+002; foe(n+1)=3.264764e+002; krok(n+1)=2.045351e-004; ng(n+1)=6.305837e+003;
n=15; farx(n+1)=1.344435e+002; foe(n+1)=3.226785e+002; krok(n+1)=9.943215e-004; ng(n+1)=7.766091e+003;
n=16; farx(n+1)=1.395419e+002; foe(n+1)=3.182139e+002; krok(n+1)=1.013887e-003; ng(n+1)=7.065939e+003;
n=17; farx(n+1)=1.431866e+002; foe(n+1)=3.003670e+002; krok(n+1)=3.426502e-003; ng(n+1)=2.441708e+003;
n=18; farx(n+1)=1.562268e+002; foe(n+1)=2.801614e+002; krok(n+1)=1.694223e-003; ng(n+1)=3.072039e+003;
n=19; farx(n+1)=1.317053e+002; foe(n+1)=2.213697e+002; krok(n+1)=7.442795e-003; ng(n+1)=1.126947e+003;
n=20; farx(n+1)=1.301687e+002; foe(n+1)=2.170043e+002; krok(n+1)=1.323622e-004; ng(n+1)=3.187539e+003;
n=21; farx(n+1)=1.260071e+002; foe(n+1)=2.143152e+002; krok(n+1)=1.681794e-004; ng(n+1)=1.372539e+003;
n=22; farx(n+1)=1.294858e+002; foe(n+1)=1.981891e+002; krok(n+1)=1.981406e-003; ng(n+1)=1.601673e+003;
n=23; farx(n+1)=1.312270e+002; foe(n+1)=1.949114e+002; krok(n+1)=6.065098e-005; ng(n+1)=3.449704e+003;
n=24; farx(n+1)=1.719990e+002; foe(n+1)=1.504407e+002; krok(n+1)=6.681202e-003; ng(n+1)=4.637582e+003;
n=25; farx(n+1)=1.720693e+002; foe(n+1)=1.504248e+002; krok(n+1)=6.104072e-007; ng(n+1)=1.442834e+004;
%odnowa zmiennej metryki
n=26; farx(n+1)=1.713656e+002; foe(n+1)=1.450120e+002; krok(n+1)=1.587884e-006; ng(n+1)=1.573956e+004;
n=27; farx(n+1)=1.614929e+002; foe(n+1)=1.336051e+002; krok(n+1)=6.772877e-005; ng(n+1)=2.644490e+003;
n=28; farx(n+1)=1.577896e+002; foe(n+1)=1.278858e+002; krok(n+1)=1.803354e-004; ng(n+1)=3.782075e+003;
n=29; farx(n+1)=1.416402e+002; foe(n+1)=1.145435e+002; krok(n+1)=1.589768e-004; ng(n+1)=4.634976e+003;
n=30; farx(n+1)=1.208218e+002; foe(n+1)=1.035751e+002; krok(n+1)=3.794876e-004; ng(n+1)=1.333093e+004;
n=31; farx(n+1)=9.570579e+001; foe(n+1)=8.115261e+001; krok(n+1)=4.571640e-004; ng(n+1)=1.770084e+004;
n=32; farx(n+1)=8.979616e+001; foe(n+1)=7.522362e+001; krok(n+1)=6.847610e-004; ng(n+1)=1.062615e+003;
n=33; farx(n+1)=8.027612e+001; foe(n+1)=7.072662e+001; krok(n+1)=5.938901e-004; ng(n+1)=2.614039e+003;
n=34; farx(n+1)=6.910702e+001; foe(n+1)=6.372716e+001; krok(n+1)=1.038666e-003; ng(n+1)=2.222021e+003;
n=35; farx(n+1)=4.883913e+001; foe(n+1)=5.273370e+001; krok(n+1)=3.096185e-003; ng(n+1)=2.589447e+003;
n=36; farx(n+1)=4.040235e+001; foe(n+1)=4.378000e+001; krok(n+1)=8.708124e-004; ng(n+1)=2.788068e+003;
n=37; farx(n+1)=3.612679e+001; foe(n+1)=4.137306e+001; krok(n+1)=8.786586e-004; ng(n+1)=8.519799e+002;
n=38; farx(n+1)=3.408472e+001; foe(n+1)=3.961165e+001; krok(n+1)=1.320749e-003; ng(n+1)=1.518885e+003;
n=39; farx(n+1)=2.758781e+001; foe(n+1)=3.736338e+001; krok(n+1)=1.310411e-003; ng(n+1)=2.014738e+003;
n=40; farx(n+1)=2.128589e+001; foe(n+1)=3.092527e+001; krok(n+1)=4.416696e-003; ng(n+1)=1.624230e+003;
n=41; farx(n+1)=2.128063e+001; foe(n+1)=3.092226e+001; krok(n+1)=2.496621e-007; ng(n+1)=2.274848e+003;
n=42; farx(n+1)=1.961039e+001; foe(n+1)=2.986353e+001; krok(n+1)=1.330026e-003; ng(n+1)=2.086208e+003;
n=43; farx(n+1)=1.778038e+001; foe(n+1)=2.871694e+001; krok(n+1)=1.043660e-003; ng(n+1)=2.853200e+004;
n=44; farx(n+1)=1.549890e+001; foe(n+1)=2.723746e+001; krok(n+1)=3.927690e-003; ng(n+1)=3.647414e+003;
n=45; farx(n+1)=1.452996e+001; foe(n+1)=2.590183e+001; krok(n+1)=2.129131e-003; ng(n+1)=1.622375e+003;
n=46; farx(n+1)=1.387183e+001; foe(n+1)=2.500317e+001; krok(n+1)=6.700076e-003; ng(n+1)=5.567642e+002;
n=47; farx(n+1)=1.354839e+001; foe(n+1)=2.444994e+001; krok(n+1)=1.670282e-003; ng(n+1)=1.261402e+003;
n=48; farx(n+1)=1.346352e+001; foe(n+1)=2.422371e+001; krok(n+1)=8.187846e-004; ng(n+1)=1.660318e+003;
n=49; farx(n+1)=1.258115e+001; foe(n+1)=2.283114e+001; krok(n+1)=7.883344e-003; ng(n+1)=6.711226e+002;
n=50; farx(n+1)=1.136868e+001; foe(n+1)=2.193169e+001; krok(n+1)=8.300976e-003; ng(n+1)=5.814897e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=1.166543e+001; foe(n+1)=2.126022e+001; krok(n+1)=2.958813e-005; ng(n+1)=4.336130e+002;
n=52; farx(n+1)=1.166880e+001; foe(n+1)=2.125533e+001; krok(n+1)=4.373484e-006; ng(n+1)=1.627282e+003;
n=53; farx(n+1)=1.230581e+001; foe(n+1)=2.071638e+001; krok(n+1)=2.499645e-005; ng(n+1)=3.864122e+003;
n=54; farx(n+1)=1.237717e+001; foe(n+1)=2.042259e+001; krok(n+1)=1.347782e-004; ng(n+1)=6.566563e+002;
n=55; farx(n+1)=1.179745e+001; foe(n+1)=1.916592e+001; krok(n+1)=7.581588e-004; ng(n+1)=1.258240e+003;
n=56; farx(n+1)=1.161630e+001; foe(n+1)=1.847601e+001; krok(n+1)=1.964993e-003; ng(n+1)=7.165461e+002;
n=57; farx(n+1)=9.905766e+000; foe(n+1)=1.677437e+001; krok(n+1)=4.241720e-003; ng(n+1)=7.093538e+002;
n=58; farx(n+1)=9.468219e+000; foe(n+1)=1.577948e+001; krok(n+1)=2.998733e-003; ng(n+1)=9.442973e+002;
n=59; farx(n+1)=9.375464e+000; foe(n+1)=1.571928e+001; krok(n+1)=1.266109e-004; ng(n+1)=5.193717e+002;
n=60; farx(n+1)=7.810613e+000; foe(n+1)=1.450276e+001; krok(n+1)=2.957764e-003; ng(n+1)=1.624466e+003;
n=61; farx(n+1)=7.401416e+000; foe(n+1)=1.422028e+001; krok(n+1)=5.188110e-004; ng(n+1)=1.897997e+003;
n=62; farx(n+1)=6.595453e+000; foe(n+1)=1.362319e+001; krok(n+1)=8.300976e-003; ng(n+1)=6.087483e+002;
n=63; farx(n+1)=5.879835e+000; foe(n+1)=1.277461e+001; krok(n+1)=2.883948e-003; ng(n+1)=1.251759e+003;
n=64; farx(n+1)=5.569647e+000; foe(n+1)=1.235950e+001; krok(n+1)=2.187783e-003; ng(n+1)=4.642304e+002;
n=65; farx(n+1)=5.033831e+000; foe(n+1)=1.162799e+001; krok(n+1)=6.399708e-004; ng(n+1)=4.208391e+003;
n=66; farx(n+1)=4.525002e+000; foe(n+1)=1.059454e+001; krok(n+1)=8.580693e-003; ng(n+1)=4.321618e+002;
n=67; farx(n+1)=4.168247e+000; foe(n+1)=9.902059e+000; krok(n+1)=1.438322e-002; ng(n+1)=4.337554e+002;
n=68; farx(n+1)=3.965713e+000; foe(n+1)=8.493156e+000; krok(n+1)=3.427028e-003; ng(n+1)=1.004037e+003;
n=69; farx(n+1)=3.632214e+000; foe(n+1)=7.747792e+000; krok(n+1)=3.367365e-003; ng(n+1)=3.001756e+002;
n=70; farx(n+1)=3.542116e+000; foe(n+1)=7.315373e+000; krok(n+1)=6.607631e-003; ng(n+1)=6.871757e+002;
n=71; farx(n+1)=3.534399e+000; foe(n+1)=6.784195e+000; krok(n+1)=5.946996e-003; ng(n+1)=1.001321e+003;
n=72; farx(n+1)=3.573130e+000; foe(n+1)=6.647460e+000; krok(n+1)=1.243743e-003; ng(n+1)=3.743632e+002;
n=73; farx(n+1)=3.353770e+000; foe(n+1)=6.113279e+000; krok(n+1)=2.643052e-002; ng(n+1)=2.057825e+002;
n=74; farx(n+1)=3.206050e+000; foe(n+1)=5.812922e+000; krok(n+1)=5.711090e-003; ng(n+1)=3.463892e+002;
n=75; farx(n+1)=2.939049e+000; foe(n+1)=5.435261e+000; krok(n+1)=6.780831e-003; ng(n+1)=3.265954e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=2.941323e+000; foe(n+1)=5.387489e+000; krok(n+1)=7.909320e-006; ng(n+1)=3.586932e+002;
n=77; farx(n+1)=2.915893e+000; foe(n+1)=5.332163e+000; krok(n+1)=9.713729e-005; ng(n+1)=1.338220e+002;
n=78; farx(n+1)=2.907839e+000; foe(n+1)=5.317902e+000; krok(n+1)=1.987209e-005; ng(n+1)=1.321599e+002;
n=79; farx(n+1)=2.858138e+000; foe(n+1)=5.222835e+000; krok(n+1)=1.016331e-003; ng(n+1)=5.539741e+001;
n=80; farx(n+1)=2.855353e+000; foe(n+1)=5.124805e+000; krok(n+1)=1.568349e-003; ng(n+1)=7.036253e+001;
n=81; farx(n+1)=2.829881e+000; foe(n+1)=4.954533e+000; krok(n+1)=8.100612e-004; ng(n+1)=1.259203e+002;
n=82; farx(n+1)=2.597398e+000; foe(n+1)=4.542786e+000; krok(n+1)=5.829338e-003; ng(n+1)=2.523372e+002;
n=83; farx(n+1)=2.424888e+000; foe(n+1)=4.302144e+000; krok(n+1)=1.337344e-002; ng(n+1)=5.189918e+002;
n=84; farx(n+1)=2.314462e+000; foe(n+1)=4.179822e+000; krok(n+1)=8.988693e-003; ng(n+1)=2.507616e+002;
n=85; farx(n+1)=2.154096e+000; foe(n+1)=4.033497e+000; krok(n+1)=7.321912e-003; ng(n+1)=1.895072e+002;
n=86; farx(n+1)=1.965123e+000; foe(n+1)=3.763060e+000; krok(n+1)=1.153579e-002; ng(n+1)=5.532800e+002;
n=87; farx(n+1)=1.877844e+000; foe(n+1)=3.597415e+000; krok(n+1)=8.534063e-003; ng(n+1)=2.194448e+002;
n=88; farx(n+1)=1.877876e+000; foe(n+1)=3.466368e+000; krok(n+1)=7.321912e-003; ng(n+1)=4.268924e+002;
n=89; farx(n+1)=1.849814e+000; foe(n+1)=3.314279e+000; krok(n+1)=3.094863e-002; ng(n+1)=1.222930e+002;
n=90; farx(n+1)=1.833145e+000; foe(n+1)=3.207088e+000; krok(n+1)=1.226153e-002; ng(n+1)=1.919011e+002;
n=91; farx(n+1)=1.826313e+000; foe(n+1)=3.166155e+000; krok(n+1)=2.742688e-003; ng(n+1)=3.641667e+002;
n=92; farx(n+1)=1.789646e+000; foe(n+1)=2.997315e+000; krok(n+1)=1.650423e-002; ng(n+1)=2.261980e+002;
n=93; farx(n+1)=1.728498e+000; foe(n+1)=2.897064e+000; krok(n+1)=7.680234e-003; ng(n+1)=3.641783e+002;
n=94; farx(n+1)=1.685505e+000; foe(n+1)=2.827923e+000; krok(n+1)=1.063635e-002; ng(n+1)=2.287504e+002;
n=95; farx(n+1)=1.648062e+000; foe(n+1)=2.762606e+000; krok(n+1)=1.818608e-002; ng(n+1)=3.381129e+002;
n=96; farx(n+1)=1.564293e+000; foe(n+1)=2.622968e+000; krok(n+1)=2.399905e-002; ng(n+1)=4.081027e+002;
n=97; farx(n+1)=1.556624e+000; foe(n+1)=2.537984e+000; krok(n+1)=1.488559e-002; ng(n+1)=1.272246e+002;
n=98; farx(n+1)=1.498528e+000; foe(n+1)=2.449664e+000; krok(n+1)=2.160287e-002; ng(n+1)=2.383641e+002;
n=99; farx(n+1)=1.456152e+000; foe(n+1)=2.415263e+000; krok(n+1)=1.080437e-002; ng(n+1)=2.246448e+002;
n=100; farx(n+1)=1.375676e+000; foe(n+1)=2.311590e+000; krok(n+1)=2.067140e-002; ng(n+1)=1.318377e+002;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
