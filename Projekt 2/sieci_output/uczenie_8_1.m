%uczenie predyktora oe
clear all;
n=0; farx(n+1)=4.577528e+003; foe(n+1)=4.651011e+003; wspucz(n+1)=0.000000e+000; ng(n+1)=0.000000e+000;
%odnowa zmiennej metryki
n=1; farx(n+1)=3.004623e+003; foe(n+1)=2.958513e+003; krok(n+1)=4.988661e-004; ng(n+1)=5.056871e+003;
n=2; farx(n+1)=1.001938e+003; foe(n+1)=9.590094e+002; krok(n+1)=3.830473e-003; ng(n+1)=1.669339e+003;
n=3; farx(n+1)=1.068224e+003; foe(n+1)=7.080140e+002; krok(n+1)=1.133097e-004; ng(n+1)=7.860683e+003;
n=4; farx(n+1)=1.408253e+003; foe(n+1)=5.171358e+002; krok(n+1)=3.927263e-004; ng(n+1)=8.661410e+003;
n=5; farx(n+1)=7.217770e+002; foe(n+1)=3.730023e+002; krok(n+1)=6.832794e-003; ng(n+1)=6.447802e+002;
n=6; farx(n+1)=5.700819e+002; foe(n+1)=3.456294e+002; krok(n+1)=6.145526e-004; ng(n+1)=1.668368e+003;
n=7; farx(n+1)=4.550003e+002; foe(n+1)=3.283603e+002; krok(n+1)=6.100243e-004; ng(n+1)=1.228576e+003;
n=8; farx(n+1)=4.301462e+002; foe(n+1)=3.242788e+002; krok(n+1)=9.317073e-004; ng(n+1)=4.455214e+002;
n=9; farx(n+1)=3.158949e+002; foe(n+1)=3.059491e+002; krok(n+1)=5.680993e-003; ng(n+1)=8.061233e+002;
n=10; farx(n+1)=2.198917e+002; foe(n+1)=2.789832e+002; krok(n+1)=8.996953e-003; ng(n+1)=6.497701e+002;
n=11; farx(n+1)=1.992215e+002; foe(n+1)=2.746125e+002; krok(n+1)=8.216032e-004; ng(n+1)=8.502548e+002;
n=12; farx(n+1)=1.668633e+002; foe(n+1)=2.633721e+002; krok(n+1)=6.293742e-003; ng(n+1)=8.148987e+002;
n=13; farx(n+1)=1.464618e+002; foe(n+1)=2.505835e+002; krok(n+1)=2.634602e-003; ng(n+1)=1.144347e+003;
n=14; farx(n+1)=1.133685e+002; foe(n+1)=2.373297e+002; krok(n+1)=2.827577e-003; ng(n+1)=1.425378e+003;
n=15; farx(n+1)=6.075495e+001; foe(n+1)=2.007344e+002; krok(n+1)=1.120856e-003; ng(n+1)=2.581350e+003;
n=16; farx(n+1)=5.258929e+001; foe(n+1)=1.949922e+002; krok(n+1)=2.826636e-004; ng(n+1)=4.922763e+003;
n=17; farx(n+1)=4.815758e+001; foe(n+1)=1.906233e+002; krok(n+1)=3.138794e-004; ng(n+1)=6.399617e+003;
n=18; farx(n+1)=4.958773e+001; foe(n+1)=1.883268e+002; krok(n+1)=9.192772e-004; ng(n+1)=6.369180e+003;
n=19; farx(n+1)=4.339145e+001; foe(n+1)=1.641148e+002; krok(n+1)=7.479896e-003; ng(n+1)=6.187090e+003;
n=20; farx(n+1)=4.362631e+001; foe(n+1)=1.574410e+002; krok(n+1)=8.540993e-004; ng(n+1)=5.079342e+003;
n=21; farx(n+1)=4.360046e+001; foe(n+1)=1.347615e+002; krok(n+1)=3.912002e-003; ng(n+1)=4.441616e+003;
n=22; farx(n+1)=4.728617e+001; foe(n+1)=1.293197e+002; krok(n+1)=6.190058e-004; ng(n+1)=4.949755e+003;
n=23; farx(n+1)=4.703957e+001; foe(n+1)=1.186959e+002; krok(n+1)=5.047515e-004; ng(n+1)=1.947613e+003;
n=24; farx(n+1)=4.796662e+001; foe(n+1)=1.087314e+002; krok(n+1)=2.478671e-003; ng(n+1)=2.096558e+003;
n=25; farx(n+1)=4.224857e+001; foe(n+1)=7.637260e+001; krok(n+1)=1.750226e-002; ng(n+1)=2.152586e+003;
%odnowa zmiennej metryki
n=26; farx(n+1)=4.293087e+001; foe(n+1)=7.387147e+001; krok(n+1)=2.527819e-006; ng(n+1)=4.530522e+003;
n=27; farx(n+1)=4.296170e+001; foe(n+1)=7.254627e+001; krok(n+1)=1.666649e-005; ng(n+1)=1.149639e+003;
n=28; farx(n+1)=3.759338e+001; foe(n+1)=5.976116e+001; krok(n+1)=8.874855e-004; ng(n+1)=9.231081e+002;
n=29; farx(n+1)=3.248039e+001; foe(n+1)=5.056400e+001; krok(n+1)=4.689376e-004; ng(n+1)=1.917230e+003;
n=30; farx(n+1)=2.241450e+001; foe(n+1)=3.757631e+001; krok(n+1)=1.812955e-003; ng(n+1)=4.137281e+003;
n=31; farx(n+1)=1.979981e+001; foe(n+1)=3.413765e+001; krok(n+1)=4.029366e-004; ng(n+1)=1.422735e+003;
n=32; farx(n+1)=2.059809e+001; foe(n+1)=2.621832e+001; krok(n+1)=5.038654e-003; ng(n+1)=4.698336e+002;
n=33; farx(n+1)=1.908801e+001; foe(n+1)=2.410420e+001; krok(n+1)=4.066412e-004; ng(n+1)=5.230996e+002;
n=34; farx(n+1)=1.722574e+001; foe(n+1)=2.214951e+001; krok(n+1)=5.608324e-003; ng(n+1)=1.189472e+003;
n=35; farx(n+1)=1.422051e+001; foe(n+1)=1.961560e+001; krok(n+1)=1.048329e-002; ng(n+1)=5.018377e+002;
n=36; farx(n+1)=1.041002e+001; foe(n+1)=1.738663e+001; krok(n+1)=9.625525e-003; ng(n+1)=7.589158e+002;
n=37; farx(n+1)=8.489946e+000; foe(n+1)=1.403968e+001; krok(n+1)=6.373334e-003; ng(n+1)=5.579154e+002;
n=38; farx(n+1)=8.487918e+000; foe(n+1)=1.403799e+001; krok(n+1)=2.490114e-005; ng(n+1)=4.730866e+002;
n=39; farx(n+1)=7.884962e+000; foe(n+1)=1.344227e+001; krok(n+1)=3.201476e-003; ng(n+1)=7.714990e+002;
n=40; farx(n+1)=7.568734e+000; foe(n+1)=1.313115e+001; krok(n+1)=1.505777e-003; ng(n+1)=4.958714e+003;
n=41; farx(n+1)=7.190980e+000; foe(n+1)=1.162818e+001; krok(n+1)=3.750153e-002; ng(n+1)=9.237432e+002;
n=42; farx(n+1)=7.189343e+000; foe(n+1)=1.128800e+001; krok(n+1)=1.499941e-003; ng(n+1)=2.801388e+003;
n=43; farx(n+1)=6.878377e+000; foe(n+1)=1.034794e+001; krok(n+1)=2.366211e-002; ng(n+1)=4.877393e+002;
n=44; farx(n+1)=6.801479e+000; foe(n+1)=9.701910e+000; krok(n+1)=7.361186e-002; ng(n+1)=3.975974e+002;
n=45; farx(n+1)=6.409854e+000; foe(n+1)=9.059423e+000; krok(n+1)=3.052860e-002; ng(n+1)=2.198257e+002;
n=46; farx(n+1)=6.314213e+000; foe(n+1)=8.669495e+000; krok(n+1)=1.142218e-002; ng(n+1)=3.063906e+002;
n=47; farx(n+1)=5.708135e+000; foe(n+1)=8.151460e+000; krok(n+1)=3.586741e-002; ng(n+1)=5.961729e+002;
n=48; farx(n+1)=4.439497e+000; foe(n+1)=6.979272e+000; krok(n+1)=1.008497e-001; ng(n+1)=3.473308e+002;
n=49; farx(n+1)=3.882988e+000; foe(n+1)=6.579040e+000; krok(n+1)=8.512166e-002; ng(n+1)=6.202360e+002;
n=50; farx(n+1)=3.326503e+000; foe(n+1)=6.217269e+000; krok(n+1)=4.773765e-002; ng(n+1)=4.804134e+002;
%odnowa zmiennej metryki
n=51; farx(n+1)=3.300821e+000; foe(n+1)=6.123402e+000; krok(n+1)=1.048504e-005; ng(n+1)=3.732188e+002;
n=52; farx(n+1)=3.257935e+000; foe(n+1)=6.038945e+000; krok(n+1)=2.114892e-005; ng(n+1)=2.616444e+002;
n=53; farx(n+1)=3.236293e+000; foe(n+1)=5.940271e+000; krok(n+1)=1.821736e-004; ng(n+1)=1.105853e+002;
n=54; farx(n+1)=3.113200e+000; foe(n+1)=5.735457e+000; krok(n+1)=9.261564e-004; ng(n+1)=9.161390e+001;
n=55; farx(n+1)=2.993212e+000; foe(n+1)=5.561407e+000; krok(n+1)=1.427772e-003; ng(n+1)=8.120379e+001;
n=56; farx(n+1)=2.869641e+000; foe(n+1)=5.420107e+000; krok(n+1)=3.625910e-003; ng(n+1)=8.581103e+001;
n=57; farx(n+1)=2.787052e+000; foe(n+1)=5.317688e+000; krok(n+1)=2.304922e-003; ng(n+1)=1.303307e+002;
n=58; farx(n+1)=2.635742e+000; foe(n+1)=5.173769e+000; krok(n+1)=9.707132e-003; ng(n+1)=2.114824e+002;
n=59; farx(n+1)=2.520598e+000; foe(n+1)=4.959481e+000; krok(n+1)=5.548179e-003; ng(n+1)=3.001629e+002;
n=60; farx(n+1)=2.393901e+000; foe(n+1)=4.768201e+000; krok(n+1)=2.541206e-002; ng(n+1)=4.981622e+002;
n=61; farx(n+1)=2.274049e+000; foe(n+1)=4.615067e+000; krok(n+1)=1.333847e-002; ng(n+1)=1.735771e+002;
n=62; farx(n+1)=2.206128e+000; foe(n+1)=4.526972e+000; krok(n+1)=2.284436e-002; ng(n+1)=2.283798e+002;
n=63; farx(n+1)=2.121542e+000; foe(n+1)=4.366012e+000; krok(n+1)=1.038090e-002; ng(n+1)=3.291438e+002;
n=64; farx(n+1)=2.126289e+000; foe(n+1)=4.266643e+000; krok(n+1)=8.085176e-003; ng(n+1)=1.302755e+002;
n=65; farx(n+1)=2.125670e+000; foe(n+1)=4.216867e+000; krok(n+1)=7.442795e-003; ng(n+1)=1.488924e+002;
n=66; farx(n+1)=2.159190e+000; foe(n+1)=4.002680e+000; krok(n+1)=9.464413e-002; ng(n+1)=1.128330e+002;
n=67; farx(n+1)=2.131184e+000; foe(n+1)=3.917976e+000; krok(n+1)=2.008899e-002; ng(n+1)=1.897705e+002;
n=68; farx(n+1)=2.066801e+000; foe(n+1)=3.774963e+000; krok(n+1)=9.282613e-002; ng(n+1)=1.770332e+002;
n=69; farx(n+1)=1.893544e+000; foe(n+1)=3.579438e+000; krok(n+1)=6.024636e-002; ng(n+1)=1.923082e+002;
n=70; farx(n+1)=1.840695e+000; foe(n+1)=3.510523e+000; krok(n+1)=4.000365e-002; ng(n+1)=8.435834e+001;
n=71; farx(n+1)=1.808203e+000; foe(n+1)=3.369861e+000; krok(n+1)=4.904612e-002; ng(n+1)=2.705759e+002;
n=72; farx(n+1)=1.711009e+000; foe(n+1)=3.226818e+000; krok(n+1)=3.337297e-001; ng(n+1)=1.875939e+002;
n=73; farx(n+1)=1.709155e+000; foe(n+1)=3.176586e+000; krok(n+1)=1.771116e-002; ng(n+1)=3.404935e+002;
n=74; farx(n+1)=1.684860e+000; foe(n+1)=2.990013e+000; krok(n+1)=8.973423e-002; ng(n+1)=2.931714e+002;
n=75; farx(n+1)=1.654741e+000; foe(n+1)=2.913282e+000; krok(n+1)=7.113068e-002; ng(n+1)=1.033778e+002;
%odnowa zmiennej metryki
n=76; farx(n+1)=1.649099e+000; foe(n+1)=2.892054e+000; krok(n+1)=1.580519e-005; ng(n+1)=1.345046e+002;
n=77; farx(n+1)=1.646086e+000; foe(n+1)=2.881590e+000; krok(n+1)=9.841122e-006; ng(n+1)=1.282780e+002;
n=78; farx(n+1)=1.636562e+000; foe(n+1)=2.867001e+000; krok(n+1)=1.228179e-004; ng(n+1)=4.425578e+001;
n=79; farx(n+1)=1.584724e+000; foe(n+1)=2.792878e+000; krok(n+1)=3.657312e-003; ng(n+1)=1.942715e+001;
n=80; farx(n+1)=1.552006e+000; foe(n+1)=2.764656e+000; krok(n+1)=2.063134e-003; ng(n+1)=2.968996e+001;
n=81; farx(n+1)=1.537368e+000; foe(n+1)=2.747588e+000; krok(n+1)=1.520298e-003; ng(n+1)=3.556937e+001;
n=82; farx(n+1)=1.523002e+000; foe(n+1)=2.731003e+000; krok(n+1)=7.315478e-004; ng(n+1)=4.392457e+001;
n=83; farx(n+1)=1.475458e+000; foe(n+1)=2.686266e+000; krok(n+1)=8.751130e-003; ng(n+1)=4.853133e+001;
n=84; farx(n+1)=1.445442e+000; foe(n+1)=2.638690e+000; krok(n+1)=8.403478e-003; ng(n+1)=6.464171e+001;
n=85; farx(n+1)=1.407354e+000; foe(n+1)=2.581663e+000; krok(n+1)=3.816075e-003; ng(n+1)=1.264100e+002;
n=86; farx(n+1)=1.378721e+000; foe(n+1)=2.548237e+000; krok(n+1)=2.702970e-002; ng(n+1)=2.269094e+002;
n=87; farx(n+1)=1.347887e+000; foe(n+1)=2.499160e+000; krok(n+1)=1.899071e-002; ng(n+1)=1.527005e+002;
n=88; farx(n+1)=1.348309e+000; foe(n+1)=2.429384e+000; krok(n+1)=3.500452e-002; ng(n+1)=2.875248e+002;
n=89; farx(n+1)=1.348571e+000; foe(n+1)=2.409903e+000; krok(n+1)=3.012318e-002; ng(n+1)=9.184525e+001;
n=90; farx(n+1)=1.329015e+000; foe(n+1)=2.378695e+000; krok(n+1)=8.005809e-002; ng(n+1)=1.054251e+002;
n=91; farx(n+1)=1.328776e+000; foe(n+1)=2.345682e+000; krok(n+1)=5.524306e-002; ng(n+1)=5.237596e+001;
n=92; farx(n+1)=1.322333e+000; foe(n+1)=2.326562e+000; krok(n+1)=9.137743e-002; ng(n+1)=5.087906e+001;
n=93; farx(n+1)=1.317478e+000; foe(n+1)=2.258396e+000; krok(n+1)=8.343059e-002; ng(n+1)=1.188485e+002;
n=94; farx(n+1)=1.301388e+000; foe(n+1)=2.184296e+000; krok(n+1)=8.973318e-002; ng(n+1)=1.088531e+002;
n=95; farx(n+1)=1.292508e+000; foe(n+1)=2.152003e+000; krok(n+1)=9.809225e-002; ng(n+1)=7.212509e+001;
n=96; farx(n+1)=1.281367e+000; foe(n+1)=2.080815e+000; krok(n+1)=2.153023e-001; ng(n+1)=1.605477e+002;
n=97; farx(n+1)=1.294525e+000; foe(n+1)=2.051507e+000; krok(n+1)=9.676700e-002; ng(n+1)=9.330537e+001;
n=98; farx(n+1)=1.293669e+000; foe(n+1)=2.022961e+000; krok(n+1)=1.380129e-001; ng(n+1)=1.384652e+002;
n=99; farx(n+1)=1.274889e+000; foe(n+1)=1.969672e+000; krok(n+1)=7.439358e-002; ng(n+1)=1.297252e+002;
n=100; farx(n+1)=1.243338e+000; foe(n+1)=1.905895e+000; krok(n+1)=1.907753e-001; ng(n+1)=8.704527e+001;

figure; semilogy(farx,'b'); hold on; semilogy(foe,'r'); xlabel('Iteracje'); ylabel('Earx, Eoe'); legend('Earx','Eoe'); title('Uczenie predyktora OE');
figure; subplot(2,1,1); semilogy(krok); xlabel('Iteracje'); ylabel('Krok');
subplot(2,1,2); semilogy(ng); xlabel('Iteracje'); ylabel('Norma gradientu');
Earx=farx(n+1)
Eoe=foe(n+1)
